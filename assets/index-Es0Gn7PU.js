var nx=Object.defineProperty,rx=Object.defineProperties;var ox=Object.getOwnPropertyDescriptors;var Bb=Object.getOwnPropertySymbols;var ix=Object.prototype.hasOwnProperty,ax=Object.prototype.propertyIsEnumerable;var Fb=(m,y,s)=>y in m?nx(m,y,{enumerable:!0,configurable:!0,writable:!0,value:s}):m[y]=s,Uv=(m,y)=>{for(var s in y||(y={}))ix.call(y,s)&&Fb(m,s,y[s]);if(Bb)for(var s of Bb(y))ax.call(y,s)&&Fb(m,s,y[s]);return m},Ub=(m,y)=>rx(m,ox(y));var _d=(m,y,s)=>new Promise((f,o)=>{var p=v=>{try{O(s.next(v))}catch(E){o(E)}},d=v=>{try{O(s.throw(v))}catch(E){o(E)}},O=v=>v.done?f(v.value):Promise.resolve(v.value).then(p,d);O((s=s.apply(m,y)).next())});import{z as ux,f as cx,aF as sx,w as lx}from"./entry/index-CVxmJzUk-1713257085139.js";import{p as fx,e as px,d as Qv,f as wd,h as dx,u as Dn,y as Gv,b as hx,Z as Ha,_ as sf,F as Gb,aa as yx,k as yf,a9 as Pd,G as vx,a0 as gx,a1 as xd,ab as Xv,ac as mx,a8 as eg,c as bx,w as Xb,o as _x,$ as Ox}from"./vue-COhTiP8A.js";import{T as wx,a4 as xx,b as Ex,bg as S0}from"./antd-5AEjVWAR.js";import{b as Sx,B as jx}from"./index-dGbg62e7.js";import{J as Px}from"./index-CjGHklCS.js";import{P as Ax}from"./index-DfVVI5KB.js";import"./useWindowSizeFn-D_jTp3Dp.js";import"./useContentViewHeight-CK7kW8GV.js";import"./onMountedOrActivated-GpUdBAv_.js";const j0=Symbol("flow-chart");function Mx(m){fx(j0,m)}function kx(){return px(j0)}var Ar=(m=>(m.ZOOM_IN="zoomIn",m.ZOOM_OUT="zoomOut",m.RESET_ZOOM="resetZoom",m.UNDO="undo",m.REDO="redo",m.SNAPSHOT="snapshot",m.VIEW_DATA="viewData",m))(Ar||{});const Tx=["onClick"],Dx=Qv({name:"FlowChartToolbar",__name:"FlowChartToolbar",props:{prefixCls:String},emits:["view-data"],setup(m,{emit:y}){const s=y,f=wd([{type:Ar.ZOOM_IN,icon:"codicon:zoom-out",tooltip:"缩小"},{type:Ar.ZOOM_OUT,icon:"codicon:zoom-in",tooltip:"放大"},{type:Ar.RESET_ZOOM,icon:"codicon:screen-normal",tooltip:"重置比例"},{separate:!0},{type:Ar.UNDO,icon:"ion:arrow-undo-outline",tooltip:"后退",disabled:!0},{type:Ar.REDO,icon:"ion:arrow-redo-outline",tooltip:"前进",disabled:!0},{separate:!0},{type:Ar.SNAPSHOT,icon:"ion:download-outline",tooltip:"下载"},{type:Ar.VIEW_DATA,icon:"carbon:document-view",tooltip:"查看数据"}]),{logicFlow:o}=kx();function p({data:{undoAble:O,redoAble:v}}){const E=Dn(f),M=E.findIndex(T=>T.type===Ar.UNDO),A=E.findIndex(T=>T.type===Ar.REDO);M!==-1&&(Dn(f)[M].disabled=!O),A!==-1&&(Dn(f)[A].disabled=!v)}const d=O=>{const v=Dn(o);if(v)switch(O.type){case Ar.ZOOM_IN:v.zoom();break;case Ar.ZOOM_OUT:v.zoom(!0);break;case Ar.RESET_ZOOM:v.resetZoom();break;case Ar.UNDO:v.undo();break;case Ar.REDO:v.redo();break;case Ar.SNAPSHOT:v.getSnapshot();break;case Ar.VIEW_DATA:s("view-data");break}};return dx(()=>_d(this,null,function*(){var O;Dn(o)&&(yield Gv(),(O=Dn(o))==null||O.on("history:change",p))})),hx(()=>{var O;(O=Dn(o))==null||O.off("history:change",p)}),(O,v)=>(Ha(),sf("div",{class:xd([`${m.prefixCls}-toolbar`,"flex items-center px-2 py-1"])},[(Ha(!0),sf(Gb,null,yx(f.value,E=>(Ha(),sf(Gb,{key:E.type},[yf(Dn(wx),mx({placement:"bottom"},E.disabled?{visible:!1}:{}),{title:Pd(()=>[vx(gx(E.tooltip),1)]),default:Pd(()=>[E.icon?(Ha(),sf("span",{key:0,class:xd(`${m.prefixCls}-toolbar__icon`),onClick:M=>d(E)},[yf(ux,{icon:E.icon,class:xd(E.disabled?"cursor-not-allowed disabled":"cursor-pointer")},null,8,["icon","class"])],10,Tx)):Xv("",!0)]),_:2},1040),E.separate?(Ha(),eg(Dn(xx),{key:0,type:"vertical"})):Xv("",!0)],64))),128))],2))}});var Hv={exports:{}};(function(m,y){(function(s,f){m.exports=f()})(window,function(){return function(s){var f={};function o(p){if(f[p])return f[p].exports;var d=f[p]={i:p,l:!1,exports:{}};return s[p].call(d.exports,d,d.exports,o),d.l=!0,d.exports}return o.m=s,o.c=f,o.d=function(p,d,O){o.o(p,d)||Object.defineProperty(p,d,{enumerable:!0,get:O})},o.r=function(p){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(p,"__esModule",{value:!0})},o.t=function(p,d){if(1&d&&(p=o(p)),8&d||4&d&&typeof p=="object"&&p&&p.__esModule)return p;var O=Object.create(null);if(o.r(O),Object.defineProperty(O,"default",{enumerable:!0,value:p}),2&d&&typeof p!="string")for(var v in p)o.d(O,v,function(E){return p[E]}.bind(null,v));return O},o.n=function(p){var d=p&&p.__esModule?function(){return p.default}:function(){return p};return o.d(d,"a",d),d},o.o=function(p,d){return Object.prototype.hasOwnProperty.call(p,d)},o.p="",o(o.s=222)}([function(s,f,o){o.d(f,"a",function(){return ie}),o.d(f,"b",function(){return se}),o.d(f,"c",function(){return $e}),o.d(f,"d",function(){return gt}),o.d(f,"e",function(){return G}),o.d(f,"f",function(){return ne}),o.d(f,"g",function(){return G}),o.d(f,"h",function(){return Ye}),o.d(f,"i",function(){return d}),o.d(f,"j",function(){return _t}),o.d(f,"k",function(){return $});var p,d,O,v,E,M,A,T={},k=[],I=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function C(le,ue){for(var he in ue)le[he]=ue[he];return le}function L(le){var ue=le.parentNode;ue&&ue.removeChild(le)}function G(le,ue,he){var Te,Ge,Ie,Ot={};for(Ie in ue)Ie=="key"?Te=ue[Ie]:Ie=="ref"?Ge=ue[Ie]:Ot[Ie]=ue[Ie];if(arguments.length>2&&(Ot.children=arguments.length>3?p.call(arguments,2):he),typeof le=="function"&&le.defaultProps!=null)for(Ie in le.defaultProps)Ot[Ie]===void 0&&(Ot[Ie]=le.defaultProps[Ie]);return W(le,Ot,Te,Ge,null)}function W(le,ue,he,Te,Ge){var Ie={type:le,props:ue,key:he,ref:Te,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:Ge==null?++O:Ge};return Ge==null&&d.vnode!=null&&d.vnode(Ie),Ie}function ne(){return{current:null}}function se(le){return le.children}function ie(le,ue){this.props=le,this.context=ue}function Q(le,ue){if(ue==null)return le.__?Q(le.__,le.__.__k.indexOf(le)+1):null;for(var he;ue<le.__k.length;ue++)if((he=le.__k[ue])!=null&&he.__e!=null)return he.__e;return typeof le.type=="function"?Q(le):null}function ee(le){var ue,he;if((le=le.__)!=null&&le.__c!=null){for(le.__e=le.__c.base=null,ue=0;ue<le.__k.length;ue++)if((he=le.__k[ue])!=null&&he.__e!=null){le.__e=le.__c.base=he.__e;break}return ee(le)}}function V(le){(!le.__d&&(le.__d=!0)&&v.push(le)&&!B.__r++||M!==d.debounceRendering)&&((M=d.debounceRendering)||E)(B)}function B(){for(var le;B.__r=v.length;)le=v.sort(function(ue,he){return ue.__v.__b-he.__v.__b}),v=[],le.some(function(ue){var he,Te,Ge,Ie,Ot,At;ue.__d&&(Ot=(Ie=(he=ue).__v).__e,(At=he.__P)&&(Te=[],(Ge=C({},Ie)).__v=Ie.__v+1,Se(At,Ie,Ge,he.__n,At.ownerSVGElement!==void 0,Ie.__h!=null?[Ot]:null,Te,Ot==null?Q(Ie):Ot,Ie.__h),ve(Te,Ie),Ie.__e!=Ot&&ee(Ie)))})}function X(le,ue,he,Te,Ge,Ie,Ot,At,Et,ht){var Me,ut,fe,rt,Rt,rn,It,Zt=Te&&Te.__k||k,fn=Zt.length;for(he.__k=[],Me=0;Me<ue.length;Me++)if((rt=he.__k[Me]=(rt=ue[Me])==null||typeof rt=="boolean"?null:typeof rt=="string"||typeof rt=="number"||typeof rt=="bigint"?W(null,rt,null,null,rt):Array.isArray(rt)?W(se,{children:rt},null,null,null):rt.__b>0?W(rt.type,rt.props,rt.key,null,rt.__v):rt)!=null){if(rt.__=he,rt.__b=he.__b+1,(fe=Zt[Me])===null||fe&&rt.key==fe.key&&rt.type===fe.type)Zt[Me]=void 0;else for(ut=0;ut<fn;ut++){if((fe=Zt[ut])&&rt.key==fe.key&&rt.type===fe.type){Zt[ut]=void 0;break}fe=null}Se(le,rt,fe=fe||T,Ge,Ie,Ot,At,Et,ht),Rt=rt.__e,(ut=rt.ref)&&fe.ref!=ut&&(It||(It=[]),fe.ref&&It.push(fe.ref,null,rt),It.push(ut,rt.__c||Rt,rt)),Rt!=null?(rn==null&&(rn=Rt),typeof rt.type=="function"&&rt.__k===fe.__k?rt.__d=Et=Y(rt,Et,le):Et=ae(le,rt,fe,Zt,Rt,Et),typeof he.type=="function"&&(he.__d=Et)):Et&&fe.__e==Et&&Et.parentNode!=le&&(Et=Q(fe))}for(he.__e=rn,Me=fn;Me--;)Zt[Me]!=null&&(typeof he.type=="function"&&Zt[Me].__e!=null&&Zt[Me].__e==he.__d&&(he.__d=Q(Te,Me+1)),Fe(Zt[Me],Zt[Me]));if(It)for(Me=0;Me<It.length;Me++)Ae(It[Me],It[++Me],It[++Me])}function Y(le,ue,he){for(var Te,Ge=le.__k,Ie=0;Ge&&Ie<Ge.length;Ie++)(Te=Ge[Ie])&&(Te.__=le,ue=typeof Te.type=="function"?Y(Te,ue,he):ae(he,Te,Te,Ge,Te.__e,ue));return ue}function $(le,ue){return ue=ue||[],le==null||typeof le=="boolean"||(Array.isArray(le)?le.some(function(he){$(he,ue)}):ue.push(le)),ue}function ae(le,ue,he,Te,Ge,Ie){var Ot,At,Et;if(ue.__d!==void 0)Ot=ue.__d,ue.__d=void 0;else if(he==null||Ge!=Ie||Ge.parentNode==null)e:if(Ie==null||Ie.parentNode!==le)le.appendChild(Ge),Ot=null;else{for(At=Ie,Et=0;(At=At.nextSibling)&&Et<Te.length;Et+=2)if(At==Ge)break e;le.insertBefore(Ge,Ie),Ot=Ie}return Ot!==void 0?Ot:Ge.nextSibling}function xe(le,ue,he){ue[0]==="-"?le.setProperty(ue,he):le[ue]=he==null?"":typeof he!="number"||I.test(ue)?he:he+"px"}function me(le,ue,he,Te,Ge){var Ie;e:if(ue==="style")if(typeof he=="string")le.style.cssText=he;else{if(typeof Te=="string"&&(le.style.cssText=Te=""),Te)for(ue in Te)he&&ue in he||xe(le.style,ue,"");if(he)for(ue in he)Te&&he[ue]===Te[ue]||xe(le.style,ue,he[ue])}else if(ue[0]==="o"&&ue[1]==="n")Ie=ue!==(ue=ue.replace(/Capture$/,"")),ue=ue.toLowerCase()in le?ue.toLowerCase().slice(2):ue.slice(2),le.l||(le.l={}),le.l[ue+Ie]=he,he?Te||le.addEventListener(ue,Ie?ze:Pe,Ie):le.removeEventListener(ue,Ie?ze:Pe,Ie);else if(ue!=="dangerouslySetInnerHTML"){if(Ge)ue=ue.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(ue!=="href"&&ue!=="list"&&ue!=="form"&&ue!=="tabIndex"&&ue!=="download"&&ue in le)try{le[ue]=he==null?"":he;break e}catch(Ot){}typeof he=="function"||(he!=null&&(he!==!1||ue[0]==="a"&&ue[1]==="r")?le.setAttribute(ue,he):le.removeAttribute(ue))}}function Pe(le){this.l[le.type+!1](d.event?d.event(le):le)}function ze(le){this.l[le.type+!0](d.event?d.event(le):le)}function Se(le,ue,he,Te,Ge,Ie,Ot,At,Et){var ht,Me,ut,fe,rt,Rt,rn,It,Zt,fn,bn,Dt=ue.type;if(ue.constructor!==void 0)return null;he.__h!=null&&(Et=he.__h,At=ue.__e=he.__e,ue.__h=null,Ie=[At]),(ht=d.__b)&&ht(ue);try{e:if(typeof Dt=="function"){if(It=ue.props,Zt=(ht=Dt.contextType)&&Te[ht.__c],fn=ht?Zt?Zt.props.value:ht.__:Te,he.__c?rn=(Me=ue.__c=he.__c).__=Me.__E:("prototype"in Dt&&Dt.prototype.render?ue.__c=Me=new Dt(It,fn):(ue.__c=Me=new ie(It,fn),Me.constructor=Dt,Me.render=tt),Zt&&Zt.sub(Me),Me.props=It,Me.state||(Me.state={}),Me.context=fn,Me.__n=Te,ut=Me.__d=!0,Me.__h=[]),Me.__s==null&&(Me.__s=Me.state),Dt.getDerivedStateFromProps!=null&&(Me.__s==Me.state&&(Me.__s=C({},Me.__s)),C(Me.__s,Dt.getDerivedStateFromProps(It,Me.__s))),fe=Me.props,rt=Me.state,ut)Dt.getDerivedStateFromProps==null&&Me.componentWillMount!=null&&Me.componentWillMount(),Me.componentDidMount!=null&&Me.__h.push(Me.componentDidMount);else{if(Dt.getDerivedStateFromProps==null&&It!==fe&&Me.componentWillReceiveProps!=null&&Me.componentWillReceiveProps(It,fn),!Me.__e&&Me.shouldComponentUpdate!=null&&Me.shouldComponentUpdate(It,Me.__s,fn)===!1||ue.__v===he.__v){Me.props=It,Me.state=Me.__s,ue.__v!==he.__v&&(Me.__d=!1),Me.__v=ue,ue.__e=he.__e,ue.__k=he.__k,ue.__k.forEach(function(Nn){Nn&&(Nn.__=ue)}),Me.__h.length&&Ot.push(Me);break e}Me.componentWillUpdate!=null&&Me.componentWillUpdate(It,Me.__s,fn),Me.componentDidUpdate!=null&&Me.__h.push(function(){Me.componentDidUpdate(fe,rt,Rt)})}Me.context=fn,Me.props=It,Me.state=Me.__s,(ht=d.__r)&&ht(ue),Me.__d=!1,Me.__v=ue,Me.__P=le,ht=Me.render(Me.props,Me.state,Me.context),Me.state=Me.__s,Me.getChildContext!=null&&(Te=C(C({},Te),Me.getChildContext())),ut||Me.getSnapshotBeforeUpdate==null||(Rt=Me.getSnapshotBeforeUpdate(fe,rt)),bn=ht!=null&&ht.type===se&&ht.key==null?ht.props.children:ht,X(le,Array.isArray(bn)?bn:[bn],ue,he,Te,Ge,Ie,Ot,At,Et),Me.base=ue.__e,ue.__h=null,Me.__h.length&&Ot.push(Me),rn&&(Me.__E=Me.__=null),Me.__e=!1}else Ie==null&&ue.__v===he.__v?(ue.__k=he.__k,ue.__e=he.__e):ue.__e=je(he.__e,ue,he,Te,Ge,Ie,Ot,Et);(ht=d.diffed)&&ht(ue)}catch(Nn){ue.__v=null,(Et||Ie!=null)&&(ue.__e=At,ue.__h=!!Et,Ie[Ie.indexOf(At)]=null),d.__e(Nn,ue,he)}}function ve(le,ue){d.__c&&d.__c(ue,le),le.some(function(he){try{le=he.__h,he.__h=[],le.some(function(Te){Te.call(he)})}catch(Te){d.__e(Te,he.__v)}})}function je(le,ue,he,Te,Ge,Ie,Ot,At){var Et,ht,Me,ut=he.props,fe=ue.props,rt=ue.type,Rt=0;if(rt==="svg"&&(Ge=!0),Ie!=null){for(;Rt<Ie.length;Rt++)if((Et=Ie[Rt])&&"setAttribute"in Et==!!rt&&(rt?Et.localName===rt:Et.nodeType===3)){le=Et,Ie[Rt]=null;break}}if(le==null){if(rt===null)return document.createTextNode(fe);le=Ge?document.createElementNS("http://www.w3.org/2000/svg",rt):document.createElement(rt,fe.is&&fe),Ie=null,At=!1}if(rt===null)ut===fe||At&&le.data===fe||(le.data=fe);else{if(Ie=Ie&&p.call(le.childNodes),ht=(ut=he.props||T).dangerouslySetInnerHTML,Me=fe.dangerouslySetInnerHTML,!At){if(Ie!=null)for(ut={},Rt=0;Rt<le.attributes.length;Rt++)ut[le.attributes[Rt].name]=le.attributes[Rt].value;(Me||ht)&&(Me&&(ht&&Me.__html==ht.__html||Me.__html===le.innerHTML)||(le.innerHTML=Me&&Me.__html||""))}if(function(rn,It,Zt,fn,bn){var Dt;for(Dt in Zt)Dt==="children"||Dt==="key"||Dt in It||me(rn,Dt,null,Zt[Dt],fn);for(Dt in It)bn&&typeof It[Dt]!="function"||Dt==="children"||Dt==="key"||Dt==="value"||Dt==="checked"||Zt[Dt]===It[Dt]||me(rn,Dt,It[Dt],Zt[Dt],fn)}(le,fe,ut,Ge,At),Me)ue.__k=[];else if(Rt=ue.props.children,X(le,Array.isArray(Rt)?Rt:[Rt],ue,he,Te,Ge&&rt!=="foreignObject",Ie,Ot,Ie?Ie[0]:he.__k&&Q(he,0),At),Ie!=null)for(Rt=Ie.length;Rt--;)Ie[Rt]!=null&&L(Ie[Rt]);At||("value"in fe&&(Rt=fe.value)!==void 0&&(Rt!==ut.value||Rt!==le.value||rt==="progress"&&!Rt)&&me(le,"value",Rt,ut.value,!1),"checked"in fe&&(Rt=fe.checked)!==void 0&&Rt!==le.checked&&me(le,"checked",Rt,ut.checked,!1))}return le}function Ae(le,ue,he){try{typeof le=="function"?le(ue):le.current=ue}catch(Te){d.__e(Te,he)}}function Fe(le,ue,he){var Te,Ge;if(d.unmount&&d.unmount(le),(Te=le.ref)&&(Te.current&&Te.current!==le.__e||Ae(Te,null,ue)),(Te=le.__c)!=null){if(Te.componentWillUnmount)try{Te.componentWillUnmount()}catch(Ie){d.__e(Ie,ue)}Te.base=Te.__P=null}if(Te=le.__k)for(Ge=0;Ge<Te.length;Ge++)Te[Ge]&&Fe(Te[Ge],ue,typeof le.type!="function");he||le.__e==null||L(le.__e),le.__e=le.__d=void 0}function tt(le,ue,he){return this.constructor(le,he)}function _t(le,ue,he){var Te,Ge,Ie;d.__&&d.__(le,ue),Ge=(Te=typeof he=="function")?null:he&&he.__k||ue.__k,Ie=[],Se(ue,le=(!Te&&he||ue).__k=G(se,null,[le]),Ge||T,T,ue.ownerSVGElement!==void 0,!Te&&he?[he]:Ge?null:ue.firstChild?p.call(ue.childNodes):null,Ie,!Te&&he?he:Ge?Ge.__e:ue.firstChild,Te),ve(Ie,le)}function Ye(le,ue){_t(le,ue,Ye)}function $e(le,ue,he){var Te,Ge,Ie,Ot=C({},le.props);for(Ie in ue)Ie=="key"?Te=ue[Ie]:Ie=="ref"?Ge=ue[Ie]:Ot[Ie]=ue[Ie];return arguments.length>2&&(Ot.children=arguments.length>3?p.call(arguments,2):he),W(le.type,Ot,Te||le.key,Ge||le.ref,null)}function gt(le,ue){var he={__c:ue="__cC"+A++,__:le,Consumer:function(Te,Ge){return Te.children(Ge)},Provider:function(Te){var Ge,Ie;return this.getChildContext||(Ge=[],(Ie={})[ue]=this,this.getChildContext=function(){return Ie},this.shouldComponentUpdate=function(Ot){this.props.value!==Ot.value&&Ge.some(V)},this.sub=function(Ot){Ge.push(Ot);var At=Ot.componentWillUnmount;Ot.componentWillUnmount=function(){Ge.splice(Ge.indexOf(Ot),1),At&&At.call(Ot)}}),Te.children}};return he.Provider.__=he.Consumer.contextType=he}p=k.slice,d={__e:function(le,ue){for(var he,Te,Ge;ue=ue.__;)if((he=ue.__c)&&!he.__)try{if((Te=he.constructor)&&Te.getDerivedStateFromError!=null&&(he.setState(Te.getDerivedStateFromError(le)),Ge=he.__d),he.componentDidCatch!=null&&(he.componentDidCatch(le),Ge=he.__d),Ge)return he.__E=he}catch(Ie){le=Ie}throw le}},O=0,ie.prototype.setState=function(le,ue){var he;he=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=C({},this.state),typeof le=="function"&&(le=le(C({},he),this.props)),le&&C(he,le),le!=null&&this.__v&&(ue&&this.__h.push(ue),V(this))},ie.prototype.forceUpdate=function(le){this.__v&&(this.__e=!0,le&&this.__h.push(le),V(this))},ie.prototype.render=se,v=[],E=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,B.__r=0,A=0},function(s,f,o){(function(p,d){o.d(f,"a",function(){return V}),o.d(f,"b",function(){return fu}),o.d(f,"c",function(){return Jr}),o.d(f,"d",function(){return xt}),o.d(f,"e",function(){return We}),o.d(f,"f",function(){return Ve}),o.d(f,"g",function(){return mt}),o.d(f,"h",function(){return fo}),o.d(f,"i",function(){return bn}),o.d(f,"j",function(){return ot}),o.d(f,"k",function(){return xo}),o.d(f,"l",function(){return tu}),o.d(f,"m",function(){return rn}),o.d(f,"n",function(){return si}),o.d(f,"o",function(){return Y}),o.d(f,"p",function(){return tc}),o.d(f,"q",function(){return Eo}),o.d(f,"r",function(){return aa}),o.d(f,"s",function(){return Ur}),o.d(f,"t",function(){return kn}),o.d(f,"u",function(){return ia}),o.d(f,"v",function(){return ec}),o.d(f,"w",function(){return au}),o.d(f,"x",function(){return li}),o.d(f,"y",function(){return Fr}),o.d(f,"z",function(){return Un}),o.d(f,"A",function(){return xr}),o.d(f,"B",function(){return ao}),o.d(f,"C",function(){return ht}),o.d(f,"D",function(){return nc}),o.d(f,"E",function(){return on}),o.d(f,"F",function(){return an}),o.d(f,"G",function(){return Qa}),o.d(f,"H",function(){return Ja}),o.d(f,"I",function(){return uu}),o.d(f,"J",function(){return Vn}),o.d(f,"K",function(){return de}),o.d(f,"L",function(){return hn}),o.d(f,"M",function(){return ca});var O=[];Object.freeze(O);var v={};function E(){return++ct.mobxGuid}function M(_){throw A(!1,_),"X"}function A(_,w){if(!_)throw new Error("[mobx] "+(w||"An invariant failed, however the error is obfuscated because this is a production build."))}Object.freeze(v);function T(_){var w=!1;return function(){if(!w)return w=!0,_.apply(this,arguments)}}var k=function(){};function I(_){return _!==null&&typeof _=="object"}function C(_){if(_===null||typeof _!="object")return!1;var w=Object.getPrototypeOf(_);return w===Object.prototype||w===null}function L(_,w,P){Object.defineProperty(_,w,{enumerable:!1,writable:!0,configurable:!0,value:P})}function G(_,w){var P="isMobX"+_;return w.prototype[P]=!0,function(z){return I(z)&&z[P]===!0}}function W(_){return _ instanceof Map}function ne(_){return _ instanceof Set}function se(_){var w=new Set;for(var P in _)w.add(P);return Object.getOwnPropertySymbols(_).forEach(function(z){Object.getOwnPropertyDescriptor(_,z).enumerable&&w.add(z)}),Array.from(w)}function ie(_){return _&&_.toString?_.toString():new String(_).toString()}function Q(_){return _===null?null:typeof _=="object"?""+_:_}var ee=typeof Reflect!="undefined"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols?function(_){return Object.getOwnPropertyNames(_).concat(Object.getOwnPropertySymbols(_))}:Object.getOwnPropertyNames,V=Symbol("mobx administration"),B=function(){function _(w){w===void 0&&(w="Atom@"+E()),this.name=w,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=ut.NOT_TRACKING}return _.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(w){return w()})},_.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(w){return w()})},_.prototype.reportObserved=function(){return oa(this)},_.prototype.reportChanged=function(){mr(),function(w){w.lowestObserverState!==ut.STALE&&(w.lowestObserverState=ut.STALE,w.observers.forEach(function(P){P.dependenciesState===ut.UP_TO_DATE&&(P.isTracing!==fe.NONE&&qr(P,w),P.onBecomeStale()),P.dependenciesState=ut.STALE}))}(this),Mr()},_.prototype.toString=function(){return this.name},_}(),X=G("Atom",B);function Y(_,w,P){w===void 0&&(w=k),P===void 0&&(P=k);var z,K=new B(_);return w!==k&&Ju("onBecomeObserved",K,w,z),P!==k&&on(K,P),K}var $={identity:function(_,w){return _===w},structural:function(_,w){return De(_,w)},default:function(_,w){return Object.is(_,w)},shallow:function(_,w){return De(_,w,1)}},ae=function(_,w){return ae=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,z){P.__proto__=z}||function(P,z){for(var K in z)z.hasOwnProperty(K)&&(P[K]=z[K])},ae(_,w)};/*! *****************************************************************************
	Copyright (c) Microsoft Corporation. All rights reserved.
	Licensed under the Apache License, Version 2.0 (the "License"); you may not use
	this file except in compliance with the License. You may obtain a copy of the
	License at http://www.apache.org/licenses/LICENSE-2.0

	THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
	KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
	WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
	MERCHANTABLITY OR NON-INFRINGEMENT.

	See the Apache Version 2.0 License for specific language governing permissions
	and limitations under the License.
	***************************************************************************** */var xe=function(){return xe=Object.assign||function(_){for(var w,P=1,z=arguments.length;P<z;P++)for(var K in w=arguments[P])Object.prototype.hasOwnProperty.call(w,K)&&(_[K]=w[K]);return _},xe.apply(this,arguments)};function me(_){var w=typeof Symbol=="function"&&_[Symbol.iterator],P=0;return w?w.call(_):{next:function(){return _&&P>=_.length&&(_=void 0),{value:_&&_[P++],done:!_}}}}function Pe(_,w){var P=typeof Symbol=="function"&&_[Symbol.iterator];if(!P)return _;var z,K,pe=P.call(_),Ee=[];try{for(;(w===void 0||w-- >0)&&!(z=pe.next()).done;)Ee.push(z.value)}catch(Be){K={error:Be}}finally{try{z&&!z.done&&(P=pe.return)&&P.call(pe)}finally{if(K)throw K.error}}return Ee}function ze(){for(var _=[],w=0;w<arguments.length;w++)_=_.concat(Pe(arguments[w]));return _}var Se=Symbol("mobx did run lazy initializers"),ve=Symbol("mobx pending decorators"),je={},Ae={};function Fe(_,w){var P=w?je:Ae;return P[_]||(P[_]={configurable:!0,enumerable:w,get:function(){return tt(this),this[_]},set:function(z){tt(this),this[_]=z}})}function tt(_){var w,P;if(_[Se]!==!0){var z=_[ve];if(z){L(_,Se,!0);var K=ze(Object.getOwnPropertySymbols(z),Object.keys(z));try{for(var pe=me(K),Ee=pe.next();!Ee.done;Ee=pe.next()){var Be=z[Ee.value];Be.propertyCreator(_,Be.prop,Be.descriptor,Be.decoratorTarget,Be.decoratorArguments)}}catch(it){w={error:it}}finally{try{Ee&&!Ee.done&&(P=pe.return)&&P.call(pe)}finally{if(w)throw w.error}}}}}function _t(_,w){return function(){var P,z=function(K,pe,Ee,Be){if(Be===!0)return w(K,pe,Ee,K,P),null;if(!Object.prototype.hasOwnProperty.call(K,ve)){var it=K[ve];L(K,ve,xe({},it))}return K[ve][pe]={prop:pe,propertyCreator:w,descriptor:Ee,decoratorTarget:K,decoratorArguments:P},Fe(pe,_)};return Ye(arguments)?(P=O,z.apply(null,arguments)):(P=Array.prototype.slice.call(arguments),z)}}function Ye(_){return(_.length===2||_.length===3)&&(typeof _[1]=="string"||typeof _[1]=="symbol")||_.length===4&&_[3]===!0}function $e(_,w,P){return li(_)?_:Array.isArray(_)?ht.array(_,{name:P}):C(_)?ht.object(_,void 0,{name:P}):W(_)?ht.map(_,{name:P}):ne(_)?ht.set(_,{name:P}):_}function gt(_){return _}function le(_){A(_);var w=_t(!0,function(z,K,pe,Ee,Be){var it=pe?pe.initializer?pe.initializer.call(z):pe.value:void 0;kr(z).addObservableProp(K,it,_)}),P=(p!==void 0&&p.env,w);return P.enhancer=_,P}var ue={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function he(_){return _==null?ue:typeof _=="string"?{name:_,deep:!0,proxy:!0}:_}Object.freeze(ue);var Te=le($e),Ge=le(function(_,w,P){return _==null||xr(_)||Fr(_)||Un(_)||pr(_)?_:Array.isArray(_)?ht.array(_,{name:P,deep:!1}):C(_)?ht.object(_,void 0,{name:P,deep:!1}):W(_)?ht.map(_,{name:P,deep:!1}):ne(_)?ht.set(_,{name:P,deep:!1}):M(!1)}),Ie=le(gt),Ot=le(function(_,w,P){return De(_,w)?w:_});function At(_){return _.defaultDecorator?_.defaultDecorator.enhancer:_.deep===!1?gt:$e}var Et={box:function(_,w){arguments.length>2&&Me("box");var P=he(w);return new Sn(_,At(P),P.name,!0,P.equals)},array:function(_,w){arguments.length>2&&Me("array");var P=he(w);return Ri(_,At(P),P.name)},map:function(_,w){arguments.length>2&&Me("map");var P=he(w);return new fu(_,At(P),P.name)},set:function(_,w){arguments.length>2&&Me("set");var P=he(w);return new so(_,At(P),P.name)},object:function(_,w,P){typeof arguments[1]=="string"&&Me("object");var z=he(P);if(z.proxy===!1)return Eo({},_,w,z);var K=nu(z),pe=Eo({},void 0,void 0,z),Ee=fi(pe);return Qu(Ee,_,w,K),Ee},ref:Ie,shallow:Ge,deep:Te,struct:Ot},ht=function(_,w,P){if(typeof arguments[1]=="string"||typeof arguments[1]=="symbol")return Te.apply(null,arguments);if(li(_))return _;var z=C(_)?ht.object(_,w,P):Array.isArray(_)?ht.array(_,w):W(_)?ht.map(_,w):ne(_)?ht.set(_,w):_;if(z!==_)return z;M(!1)};function Me(_){M("Expected one or two arguments to observable."+_+". Did you accidentally try to use observable."+_+" as decorator?")}Object.keys(Et).forEach(function(_){return ht[_]=Et[_]});var ut,fe,rt=_t(!1,function(_,w,P,z,K){var pe=P.get,Ee=P.set,Be=K[0]||{};kr(_).addComputedProp(_,w,xe({get:pe,set:Ee,context:_},Be))}),Rt=rt({equals:$.structural}),rn=function(_,w,P){if(typeof w=="string"||_!==null&&typeof _=="object"&&arguments.length===1)return rt.apply(null,arguments);var z=typeof w=="object"?w:{};return z.get=_,z.set=typeof w=="function"?w:z.set,z.name=z.name||_.name||"",new io(z)};rn.struct=Rt,function(_){_[_.NOT_TRACKING=-1]="NOT_TRACKING",_[_.UP_TO_DATE=0]="UP_TO_DATE",_[_.POSSIBLY_STALE=1]="POSSIBLY_STALE",_[_.STALE=2]="STALE"}(ut||(ut={})),function(_){_[_.NONE=0]="NONE",_[_.LOG=1]="LOG",_[_.BREAK=2]="BREAK"}(fe||(fe={}));var It=function(_){this.cause=_};function Zt(_){return _ instanceof It}function fn(_){switch(_.dependenciesState){case ut.UP_TO_DATE:return!1;case ut.NOT_TRACKING:case ut.STALE:return!0;case ut.POSSIBLY_STALE:for(var w=Ve(!0),P=oe(),z=_.observing,K=z.length,pe=0;pe<K;pe++){var Ee=z[pe];if(wo(Ee)){if(ct.disableErrorBoundaries)Ee.get();else try{Ee.get()}catch(Be){return be(P),We(w),!0}if(_.dependenciesState===ut.STALE)return be(P),We(w),!0}}return lt(_),be(P),We(w),!1}}function bn(){return ct.trackingDerivation!==null}function Dt(_){var w=_.observers.size>0;ct.computationDepth>0&&w&&M(!1),ct.allowStateChanges||!w&&ct.enforceActions!=="strict"||M(!1)}function Nn(_,w,P){var z=Ve(!0);lt(_),_.newObserving=new Array(_.observing.length+100),_.unboundDepsCount=0,_.runId=++ct.runId;var K,pe=ct.trackingDerivation;if(ct.trackingDerivation=_,ct.disableErrorBoundaries===!0)K=w.call(P);else try{K=w.call(P)}catch(Ee){K=new It(Ee)}return ct.trackingDerivation=pe,function(Ee){for(var Be=Ee.observing,it=Ee.observing=Ee.newObserving,Ht=ut.UP_TO_DATE,Qe=0,pn=Ee.unboundDepsCount,zt=0;zt<pn;zt++)(tn=it[zt]).diffValue===0&&(tn.diffValue=1,Qe!==zt&&(it[Qe]=tn),Qe++),tn.dependenciesState>Ht&&(Ht=tn.dependenciesState);for(it.length=Qe,Ee.newObserving=null,pn=Be.length;pn--;)(tn=Be[pn]).diffValue===0&&Ka(tn,Ee),tn.diffValue=0;for(;Qe--;){var tn;(tn=it[Qe]).diffValue===1&&(tn.diffValue=0,_s(tn,Ee))}Ht!==ut.UP_TO_DATE&&(Ee.dependenciesState=Ht,Ee.onBecomeStale())}(_),We(z),K}function q(_){var w=_.observing;_.observing=[];for(var P=w.length;P--;)Ka(w[P],_);_.dependenciesState=ut.NOT_TRACKING}function de(_){var w=oe();try{return _()}finally{be(w)}}function oe(){var _=ct.trackingDerivation;return ct.trackingDerivation=null,_}function be(_){ct.trackingDerivation=_}function Ve(_){var w=ct.allowStateReads;return ct.allowStateReads=_,w}function We(_){ct.allowStateReads=_}function lt(_){if(_.dependenciesState!==ut.UP_TO_DATE){_.dependenciesState=ut.UP_TO_DATE;for(var w=_.observing,P=w.length;P--;)w[P].lowestObserverState=ut.UP_TO_DATE}}var Ut=0,Yn=1,nr=Object.getOwnPropertyDescriptor(function(){},"name");nr&&nr.configurable;function Cn(_,w,P){var z=function(){return Fn(_,w,P||this,arguments)};return z.isMobxAction=!0,z}function Fn(_,w,P,z){var K=ot();try{return w.apply(P,z)}catch(pe){throw K.error=pe,pe}finally{mt(K)}}function ot(_,w,P){var z=0,K=oe();mr();var pe={prevDerivation:K,prevAllowStateChanges:Nt(!0),prevAllowStateReads:Ve(!0),notifySpy:!1,startTime:z,actionId:Yn++,parentActionId:Ut};return Ut=pe.actionId,pe}function mt(_){Ut!==_.actionId&&M("invalid action stack. did you forget to finish an action?"),Ut=_.parentActionId,_.error!==void 0&&(ct.suppressReactionErrors=!0),sn(_.prevAllowStateChanges),We(_.prevAllowStateReads),Mr(),be(_.prevDerivation),_.notifySpy,ct.suppressReactionErrors=!1}function xt(_,w){var P,z=Nt(_);try{P=w()}finally{sn(z)}return P}function Nt(_){var w=ct.allowStateChanges;return ct.allowStateChanges=_,w}function sn(_){ct.allowStateChanges=_}var Sn=function(_){function w(P,z,K,pe,Ee){K===void 0&&(K="ObservableValue@"+E()),Ee===void 0&&(Ee=$.default);var Be=_.call(this,K)||this;return Be.enhancer=z,Be.name=K,Be.equals=Ee,Be.hasUnreportedChange=!1,Be.value=z(P,void 0,K),Be}return function(P,z){function K(){this.constructor=P}ae(P,z),P.prototype=z===null?Object.create(z):(K.prototype=z.prototype,new K)}(w,_),w.prototype.dehanceValue=function(P){return this.dehancer!==void 0?this.dehancer(P):P},w.prototype.set=function(P){this.value,(P=this.prepareNewValue(P))!==ct.UNCHANGED&&this.setNewValue(P)},w.prototype.prepareNewValue=function(P){if(Dt(this),Or(this)){var z=qt(this,{object:this,type:"update",newValue:P});if(!z)return ct.UNCHANGED;P=z.newValue}return P=this.enhancer(P,this.value,this.name),this.equals(this.value,P)?ct.UNCHANGED:P},w.prototype.setNewValue=function(P){var z=this.value;this.value=P,this.reportChanged(),wr(this)&&Jn(this,{type:"update",object:this,newValue:P,oldValue:z})},w.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},w.prototype.intercept=function(P){return jo(this,P)},w.prototype.observe=function(P,z){return z&&P({object:this,type:"update",newValue:this.value,oldValue:void 0}),co(this,P)},w.prototype.toJSON=function(){return this.get()},w.prototype.toString=function(){return this.name+"["+this.value+"]"},w.prototype.valueOf=function(){return Q(this.get())},w.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},w}(B),Oo=G("ObservableValue",Sn),io=function(){function _(w){this.dependenciesState=ut.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=ut.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+E(),this.value=new It(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=fe.NONE,A(w.get,"missing option for computed: get"),this.derivation=w.get,this.name=w.name||"ComputedValue@"+E(),w.set&&(this.setter=Cn(this.name+"-setter",w.set)),this.equals=w.equals||(w.compareStructural||w.struct?$.structural:$.default),this.scope=w.context,this.requiresReaction=!!w.requiresReaction,this.keepAlive=!!w.keepAlive}return _.prototype.onBecomeStale=function(){(function(w){w.lowestObserverState===ut.UP_TO_DATE&&(w.lowestObserverState=ut.POSSIBLY_STALE,w.observers.forEach(function(P){P.dependenciesState===ut.UP_TO_DATE&&(P.dependenciesState=ut.POSSIBLY_STALE,P.isTracing!==fe.NONE&&qr(P,w),P.onBecomeStale())}))})(this)},_.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(w){return w()})},_.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(w){return w()})},_.prototype.get=function(){this.isComputing&&M("Cycle detected in computation "+this.name+": "+this.derivation),ct.inBatch!==0||this.observers.size!==0||this.keepAlive?(oa(this),fn(this)&&this.trackAndCompute()&&function(P){P.lowestObserverState!==ut.STALE&&(P.lowestObserverState=ut.STALE,P.observers.forEach(function(z){z.dependenciesState===ut.POSSIBLY_STALE?z.dependenciesState=ut.STALE:z.dependenciesState===ut.UP_TO_DATE&&(P.lowestObserverState=ut.UP_TO_DATE)}))}(this)):fn(this)&&(this.warnAboutUntrackedRead(),mr(),this.value=this.computeValue(!1),Mr());var w=this.value;if(Zt(w))throw w.cause;return w},_.prototype.peek=function(){var w=this.computeValue(!1);if(Zt(w))throw w.cause;return w},_.prototype.set=function(w){if(this.setter){A(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,w)}finally{this.isRunningSetter=!1}}else A(!1,!1)},_.prototype.trackAndCompute=function(){var w=this.value,P=this.dependenciesState===ut.NOT_TRACKING,z=this.computeValue(!0),K=P||Zt(w)||Zt(z)||!this.equals(w,z);return K&&(this.value=z),K},_.prototype.computeValue=function(w){var P;if(this.isComputing=!0,ct.computationDepth++,w)P=Nn(this,this.derivation,this.scope);else if(ct.disableErrorBoundaries===!0)P=this.derivation.call(this.scope);else try{P=this.derivation.call(this.scope)}catch(z){P=new It(z)}return ct.computationDepth--,this.isComputing=!1,P},_.prototype.suspend=function(){this.keepAlive||(q(this),this.value=void 0)},_.prototype.observe=function(w,P){var z=this,K=!0,pe=void 0;return tu(function(){var Ee=z.get();if(!K||P){var Be=oe();w({type:"update",object:z,newValue:Ee,oldValue:pe}),be(Be)}K=!1,pe=Ee})},_.prototype.warnAboutUntrackedRead=function(){},_.prototype.toJSON=function(){return this.get()},_.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},_.prototype.valueOf=function(){return Q(this.get())},_.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},_}(),wo=G("ComputedValue",io),ci=function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1},bs={};function Wa(){return typeof window!="undefined"?window:d!==void 0?d:typeof self!="undefined"?self:bs}var zr=!0,Di=!1,ct=function(){var _=Wa();return _.__mobxInstanceCount>0&&!_.__mobxGlobals&&(zr=!1),_.__mobxGlobals&&_.__mobxGlobals.version!==new ci().version&&(zr=!1),zr?_.__mobxGlobals?(_.__mobxInstanceCount+=1,_.__mobxGlobals.UNCHANGED||(_.__mobxGlobals.UNCHANGED={}),_.__mobxGlobals):(_.__mobxInstanceCount=1,_.__mobxGlobals=new ci):(setTimeout(function(){Di||M("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")},1),new ci)}();function _s(_,w){_.observers.add(w),_.lowestObserverState>w.dependenciesState&&(_.lowestObserverState=w.dependenciesState)}function Ka(_,w){_.observers.delete(w),_.observers.size===0&&$a(_)}function $a(_){_.isPendingUnobservation===!1&&(_.isPendingUnobservation=!0,ct.pendingUnobservations.push(_))}function mr(){ct.inBatch++}function Mr(){if(--ct.inBatch==0){qa();for(var _=ct.pendingUnobservations,w=0;w<_.length;w++){var P=_[w];P.isPendingUnobservation=!1,P.observers.size===0&&(P.isBeingObserved&&(P.isBeingObserved=!1,P.onBecomeUnobserved()),P instanceof io&&P.suspend())}ct.pendingUnobservations=[]}}function oa(_){var w=ct.trackingDerivation;return w!==null?(w.runId!==_.lastAccessedBy&&(_.lastAccessedBy=w.runId,w.newObserving[w.unboundDepsCount++]=_,_.isBeingObserved||(_.isBeingObserved=!0,_.onBecomeObserved())),!0):(_.observers.size===0&&ct.inBatch>0&&$a(_),!1)}function qr(_,w){if(_.isTracing===fe.BREAK){var P=[];Br(kn(_),P,1),new Function(`debugger;
/*
Tracing '`+_.name+`'

You are entering this break point because derivation '`+_.name+"' is being traced and '"+w.name+`' is now forcing it to update.
Just follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update
The stackframe you are looking for is at least ~6-8 stack-frames up.

`+(_ instanceof io?_.derivation.toString().replace(/[*]\//g,"/"):"")+`

The dependencies for this derivation are:

`+P.join(`
`)+`
*/
    `)()}}function Br(_,w,P){w.length>=1e3?w.push("(and many more)"):(w.push(""+new Array(P).join("	")+_.name),_.dependencies&&_.dependencies.forEach(function(z){return Br(z,w,P+1)}))}var Jr=function(){function _(w,P,z,K){w===void 0&&(w="Reaction@"+E()),K===void 0&&(K=!1),this.name=w,this.onInvalidate=P,this.errorHandler=z,this.requiresObservable=K,this.observing=[],this.newObserving=[],this.dependenciesState=ut.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+E(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=fe.NONE}return _.prototype.onBecomeStale=function(){this.schedule()},_.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,ct.pendingReactions.push(this),qa())},_.prototype.isScheduled=function(){return this._isScheduled},_.prototype.runReaction=function(){if(!this.isDisposed){if(mr(),this._isScheduled=!1,fn(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending}catch(w){this.reportExceptionInDerivation(w)}}Mr()}},_.prototype.track=function(w){if(!this.isDisposed){mr(),this._isRunning=!0;var P=Nn(this,w,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&q(this),Zt(P)&&this.reportExceptionInDerivation(P.cause),Mr()}},_.prototype.reportExceptionInDerivation=function(w){var P=this;if(this.errorHandler)this.errorHandler(w,this);else{if(ct.disableErrorBoundaries)throw w;ct.suppressReactionErrors,ct.globalReactionErrorHandlers.forEach(function(z){return z(w,P)})}},_.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(mr(),q(this),Mr()))},_.prototype.getDisposer=function(){var w=this.dispose.bind(this);return w[V]=this,w},_.prototype.toString=function(){return"Reaction["+this.name+"]"},_.prototype.trace=function(w){w===void 0&&(w=!1),function(){for(var P=[],z=0;z<arguments.length;z++)P[z]=arguments[z];var K=!1;typeof P[P.length-1]=="boolean"&&(K=P.pop());var pe=en(P);if(!pe)return M(!1);pe.isTracing,fe.NONE,pe.isTracing=K?fe.BREAK:fe.LOG}(this,w)},_}(),Za=function(_){return _()};function qa(){ct.inBatch>0||ct.isRunningReactions||Za(Ku)}function Ku(){ct.isRunningReactions=!0;for(var _=ct.pendingReactions,w=0;_.length>0;){++w==100&&_.splice(0);for(var P=_.splice(0),z=0,K=P.length;z<K;z++)P[z].runReaction()}ct.isRunningReactions=!1}var Ni=G("Reaction",Jr);function $u(_){var w=Za;Za=function(P){return _(function(){return w(P)})}}function Ja(_){return function(){}}function Os(){M(!1)}function Uo(_){return function(w,P,z){if(z){if(z.value)return{value:Cn(_,z.value),enumerable:!1,configurable:!0,writable:!0};var K=z.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return Cn(_,K.call(this))}}}return Zu(_).apply(this,arguments)}}function Zu(_){return function(w,P,z){Object.defineProperty(w,P,{configurable:!0,enumerable:!1,get:function(){},set:function(K){L(this,P,xo(_,K))}})}}var xo=function(_,w,P,z){return arguments.length===1&&typeof _=="function"?Cn(_.name||"<unnamed action>",_):arguments.length===2&&typeof w=="function"?Cn(_,w):arguments.length===1&&typeof _=="string"?Uo(_):z!==!0?Uo(w).apply(null,arguments):void L(_,w,Cn(_.name||w,P.value,this))};function Qa(_,w){return Fn(typeof _=="string"?_:_.name||"<unnamed action>",typeof _=="function"?_:w,this,void 0)}function ia(_){return typeof _=="function"&&_.isMobxAction===!0}function eu(_,w,P){L(_,w,Cn(w,P.bind(_)))}function tu(_,w){w===void 0&&(w=v);var P,z=w&&w.name||_.name||"Autorun@"+E();if(!w.scheduler&&!w.delay)P=new Jr(z,function(){this.track(Ee)},w.onError,w.requiresObservable);else{var K=qu(w),pe=!1;P=new Jr(z,function(){pe||(pe=!0,K(function(){pe=!1,P.isDisposed||P.track(Ee)}))},w.onError,w.requiresObservable)}function Ee(){_(P)}return P.schedule(),P.getDisposer()}xo.bound=function(_,w,P,z){return z===!0?(eu(_,w,P.value),null):P?{configurable:!0,enumerable:!1,get:function(){return eu(this,w,P.value||P.initializer.call(this)),this[w]},set:Os}:{enumerable:!1,configurable:!0,set:function(K){eu(this,w,K)},get:function(){}}};var ws=function(_){return _()};function qu(_){return _.scheduler?_.scheduler:_.delay?function(w){return setTimeout(w,_.delay)}:ws}function an(_,w,P){P===void 0&&(P=v);var z,K,pe,Ee=P.name||"Reaction@"+E(),Be=xo(Ee,P.onError?(z=P.onError,K=w,function(){try{return K.apply(this,arguments)}catch(_n){z.call(this,_n)}}):w),it=!P.scheduler&&!P.delay,Ht=qu(P),Qe=!0,pn=!1,zt=P.compareStructural?$.structural:P.equals||$.default,tn=new Jr(Ee,function(){Qe||it?Gr():pn||(pn=!0,Ht(Gr))},P.onError,P.requiresObservable);function Gr(){if(pn=!1,!tn.isDisposed){var _n=!1;tn.track(function(){var Er=_(tn);_n=Qe||!zt(pe,Er),pe=Er}),Qe&&P.fireImmediately&&Be(pe,tn),Qe||_n!==!0||Be(pe,tn),Qe&&(Qe=!1)}}return tn.schedule(),tn.getDisposer()}function on(_,w,P){return Ju("onBecomeUnobserved",_,w,P)}function Ju(_,w,P,z){var K=typeof z=="function"?Ur(w,P):Ur(w),pe=typeof z=="function"?z:P,Ee=_+"Listeners";return K[Ee]?K[Ee].add(pe):K[Ee]=new Set([pe]),typeof K[_]!="function"?M(!1):function(){var Be=K[Ee];Be&&(Be.delete(pe),Be.size===0&&delete K[Ee])}}function si(_){var w=_.enforceActions,P=_.computedRequiresReaction,z=_.computedConfigurable,K=_.disableErrorBoundaries,pe=_.reactionScheduler,Ee=_.reactionRequiresObservable,Be=_.observableRequiresReaction;if(_.isolateGlobalState===!0&&((ct.pendingReactions.length||ct.inBatch||ct.isRunningReactions)&&M("isolateGlobalState should be called before MobX is running any reactions"),Di=!0,zr&&(--Wa().__mobxInstanceCount==0&&(Wa().__mobxGlobals=void 0),ct=new ci)),w!==void 0){var it=void 0;switch(w){case!0:case"observed":it=!0;break;case!1:case"never":it=!1;break;case"strict":case"always":it="strict";break;default:M("Invalid value for 'enforceActions': '"+w+"', expected 'never', 'always' or 'observed'")}ct.enforceActions=it,ct.allowStateChanges=it!==!0&&it!=="strict"}P!==void 0&&(ct.computedRequiresReaction=!!P),Ee!==void 0&&(ct.reactionRequiresObservable=!!Ee),Be!==void 0&&(ct.observableRequiresReaction=!!Be,ct.allowStateReads=!ct.observableRequiresReaction),z!==void 0&&(ct.computedConfigurable=!!z),K!==void 0&&(ct.disableErrorBoundaries=!!K),pe&&$u(pe)}function Eo(_,w,P,z){var K=nu(z=he(z));return tt(_),kr(_,z.name,K.enhancer),w&&Qu(_,w,P,K),_}function nu(_){return _.defaultDecorator||(_.deep===!1?Ie:Te)}function Qu(_,w,P,z){var K,pe;mr();try{var Ee=ee(w);try{for(var Be=me(Ee),it=Be.next();!it.done;it=Be.next()){var Ht=it.value,Qe=Object.getOwnPropertyDescriptor(w,Ht),pn=(P&&Ht in P?P[Ht]:Qe.get?rt:z)(_,Ht,Qe,!0);pn&&Object.defineProperty(_,Ht,pn)}}catch(zt){K={error:zt}}finally{try{it&&!it.done&&(pe=Be.return)&&pe.call(Be)}finally{if(K)throw K.error}}}finally{Mr()}}function kn(_,w){return ru(Ur(_,w))}function ru(_){var w,P,z={name:_.name};return _.observing&&_.observing.length>0&&(z.dependencies=(w=_.observing,P=[],w.forEach(function(K){P.indexOf(K)===-1&&P.push(K)}),P).map(ru)),z}var Ci=0;function ou(){this.message="FLOW_CANCELLED"}function aa(_){arguments.length!==1&&M("Flow expects 1 argument and cannot be used as decorator");var w=_.name||"<unnamed flow>";return function(){var P,z=this,K=arguments,pe=++Ci,Ee=xo(w+" - runid: "+pe+" - init",_).apply(z,K),Be=void 0,it=new Promise(function(Ht,Qe){var pn=0;function zt(_n){var Er;Be=void 0;try{Er=xo(w+" - runid: "+pe+" - yield "+pn++,Ee.next).call(Ee,_n)}catch(Ao){return Qe(Ao)}Gr(Er)}function tn(_n){var Er;Be=void 0;try{Er=xo(w+" - runid: "+pe+" - yield "+pn++,Ee.throw).call(Ee,_n)}catch(Ao){return Qe(Ao)}Gr(Er)}function Gr(_n){if(!_n||typeof _n.then!="function")return _n.done?Ht(_n.value):(Be=Promise.resolve(_n.value)).then(zt,tn);_n.then(Gr,Qe)}P=Qe,zt(void 0)});return it.cancel=xo(w+" - runid: "+pe+" - cancel",function(){try{Be&&rr(Be);var Ht=Ee.return(void 0),Qe=Promise.resolve(Ht.value);Qe.then(k,k),rr(Qe),P(new ou)}catch(pn){P(pn)}}),it}}function rr(_){typeof _.cancel=="function"&&_.cancel()}function iu(_,w){if(_==null)return!1;if(w!==void 0){if(xr(_)===!1||!_[V].values.has(w))return!1;var P=Ur(_,w);return wo(P)}return wo(_)}function ec(_){return arguments.length>1?M(!1):iu(_)}function au(_,w){return typeof w!="string"?M(!1):iu(_,w)}function ua(_,w){return _!=null&&(w!==void 0?!!xr(_)&&_[V].values.has(w):xr(_)||!!_[V]||X(_)||Ni(_)||wo(_))}function li(_){return arguments.length!==1&&M(!1),ua(_)}function ao(_){return xr(_)?_[V].getKeys():Un(_)||pr(_)?Array.from(_.keys()):Fr(_)?_.map(function(w,P){return P}):M(!1)}function hn(_){return xr(_)?ao(_).map(function(w){return _[w]}):Un(_)?ao(_).map(function(w){return _.get(w)}):pr(_)?Array.from(_.values()):Fr(_)?_.slice():M(!1)}function tc(_){return xr(_)?ao(_).map(function(w){return[w,_[w]]}):Un(_)?ao(_).map(function(w){return[w,_.get(w)]}):pr(_)?Array.from(_.entries()):Fr(_)?_.map(function(w,P){return[P,w]}):M(!1)}function br(_,w,P){if(arguments.length!==2||pr(_))if(xr(_)){var z=_[V],K=z.values.get(w);K?z.write(w,P):z.addObservableProp(w,P,z.defaultEnhancer)}else if(Un(_))_.set(w,P);else if(pr(_))_.add(w);else{if(!Fr(_))return M(!1);typeof w!="number"&&(w=parseInt(w,10)),A(w>=0,"Not a valid index: '"+w+"'"),mr(),w>=_.length&&(_.length=w+1),_[w]=P,Mr()}else{mr();var pe=w;try{for(var Ee in pe)br(_,Ee,pe[Ee])}finally{Mr()}}}function nc(_,w,P,z){return typeof P=="function"?function(K,pe,Ee,Be){return fo(K,pe).observe(Ee,Be)}(_,w,P,z):function(K,pe,Ee){return fo(K).observe(pe,Ee)}(_,w,P)}ou.prototype=Object.create(Error.prototype);var rc={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function fr(_,w,P,z){return z.detectCycles&&_.set(w,P),P}function _r(_,w,P){if(!w.recurseEverything&&!li(_)||typeof _!="object")return _;if(_===null)return null;if(_ instanceof Date)return _;if(Oo(_))return _r(_.get(),w,P);if(li(_)&&ao(_),w.detectCycles===!0&&_!==null&&P.has(_))return P.get(_);if(Fr(_)||Array.isArray(_)){var z=fr(P,_,[],w),K=_.map(function(zt){return _r(zt,w,P)});z.length=K.length;for(var pe=0,Ee=K.length;pe<Ee;pe++)z[pe]=K[pe];return z}if(pr(_)||Object.getPrototypeOf(_)===Set.prototype){if(w.exportMapsAsObjects===!1){var Be=fr(P,_,new Set,w);return _.forEach(function(zt){Be.add(_r(zt,w,P))}),Be}var it=fr(P,_,[],w);return _.forEach(function(zt){it.push(_r(zt,w,P))}),it}if(Un(_)||Object.getPrototypeOf(_)===Map.prototype){if(w.exportMapsAsObjects===!1){var Ht=fr(P,_,new Map,w);return _.forEach(function(zt,tn){Ht.set(tn,_r(zt,w,P))}),Ht}var Qe=fr(P,_,{},w);return _.forEach(function(zt,tn){Qe[tn]=_r(zt,w,P)}),Qe}var pn=fr(P,_,{},w);return se(_).forEach(function(zt){pn[zt]=_r(_[zt],w,P)}),pn}function uu(_,w){var P;return typeof w=="boolean"&&(w={detectCycles:w}),w||(w=rc),w.detectCycles=w.detectCycles===void 0?w.recurseEverything===!0:w.detectCycles===!0,w.detectCycles&&(P=new Map),_r(_,w,P)}function en(_){switch(_.length){case 0:return ct.trackingDerivation;case 1:return Ur(_[0]);case 2:return Ur(_[0],_[1])}}function Vn(_,w){w===void 0&&(w=void 0),mr();try{return _.apply(w)}finally{Mr()}}function ca(_,w,P){return arguments.length===1||w&&typeof w=="object"?cu(_,w):oc(_,w,P||{})}function oc(_,w,P){var z;typeof P.timeout=="number"&&(z=setTimeout(function(){if(!pe[V].isDisposed){pe();var Ee=new Error("WHEN_TIMEOUT");if(!P.onError)throw Ee;P.onError(Ee)}},P.timeout)),P.name=P.name||"When@"+E();var K=Cn(P.name+"-effect",w),pe=tu(function(Ee){_()&&(Ee.dispose(),z&&clearTimeout(z),K())},P);return pe}function cu(_,w){var P,z=new Promise(function(K,pe){var Ee=oc(_,K,xe(xe({},w),{onError:pe}));P=function(){Ee(),pe("WHEN_CANCELLED")}});return z.cancel=P,z}function sa(_){return _[V]}function uo(_){return typeof _=="string"||typeof _=="number"||typeof _=="symbol"}var So={has:function(_,w){if(w===V||w==="constructor"||w===Se)return!0;var P=sa(_);return uo(w)?P.has(w):w in _},get:function(_,w){if(w===V||w==="constructor"||w===Se)return _[w];var P=sa(_),z=P.values.get(w);if(z instanceof B){var K=z.get();return K===void 0&&P.has(w),K}return uo(w)&&P.has(w),_[w]},set:function(_,w,P){return!!uo(w)&&(br(_,w,P),!0)},deleteProperty:function(_,w){return!!uo(w)&&(sa(_).remove(w),!0)},ownKeys:function(_){return sa(_).keysAtom.reportObserved(),Reflect.ownKeys(_)},preventExtensions:function(_){return M("Dynamic observable objects cannot be frozen"),!1}};function fi(_){var w=new Proxy(_,So);return _[V].proxy=w,w}function Or(_){return _.interceptors!==void 0&&_.interceptors.length>0}function jo(_,w){var P=_.interceptors||(_.interceptors=[]);return P.push(w),T(function(){var z=P.indexOf(w);z!==-1&&P.splice(z,1)})}function qt(_,w){var P=oe();try{for(var z=ze(_.interceptors||[]),K=0,pe=z.length;K<pe&&(A(!(w=z[K](w))||w.type,"Intercept handlers should return nothing or a change object"),w);K++);return w}finally{be(P)}}function wr(_){return _.changeListeners!==void 0&&_.changeListeners.length>0}function co(_,w){var P=_.changeListeners||(_.changeListeners=[]);return P.push(w),T(function(){var z=P.indexOf(w);z!==-1&&P.splice(z,1)})}function Jn(_,w){var P=oe(),z=_.changeListeners;if(z){for(var K=0,pe=(z=z.slice()).length;K<pe;K++)z[K](w);be(P)}}var la={get:function(_,w){return w===V?_[V]:w==="length"?_[V].getArrayLength():typeof w=="number"?jn.get.call(_,w):typeof w!="string"||isNaN(w)?jn.hasOwnProperty(w)?jn[w]:_[w]:jn.get.call(_,parseInt(w))},set:function(_,w,P){return w==="length"&&_[V].setArrayLength(P),typeof w=="number"&&jn.set.call(_,w,P),typeof w=="symbol"||isNaN(w)?_[w]=P:jn.set.call(_,parseInt(w),P),!0},preventExtensions:function(_){return M("Observable arrays cannot be frozen"),!1}};function Ri(_,w,P,z){P===void 0&&(P="ObservableArray@"+E()),z===void 0&&(z=!1);var K,pe,Ee,Be=new su(P,w,z);K=Be.values,pe=V,Ee=Be,Object.defineProperty(K,pe,{enumerable:!1,writable:!1,configurable:!0,value:Ee});var it=new Proxy(Be.values,la);if(Be.proxy=it,_&&_.length){var Ht=Nt(!0);Be.spliceWithArray(0,0,_),sn(Ht)}return it}var su=function(){function _(w,P,z){this.owned=z,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new B(w||"ObservableArray@"+E()),this.enhancer=function(K,pe){return P(K,pe,w+"[..]")}}return _.prototype.dehanceValue=function(w){return this.dehancer!==void 0?this.dehancer(w):w},_.prototype.dehanceValues=function(w){return this.dehancer!==void 0&&w.length>0?w.map(this.dehancer):w},_.prototype.intercept=function(w){return jo(this,w)},_.prototype.observe=function(w,P){return P===void 0&&(P=!1),P&&w({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),co(this,w)},_.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},_.prototype.setArrayLength=function(w){if(typeof w!="number"||w<0)throw new Error("[mobx.array] Out of range: "+w);var P=this.values.length;if(w!==P)if(w>P){for(var z=new Array(w-P),K=0;K<w-P;K++)z[K]=void 0;this.spliceWithArray(P,0,z)}else this.spliceWithArray(w,P-w)},_.prototype.updateArrayLength=function(w,P){if(w!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=P},_.prototype.spliceWithArray=function(w,P,z){var K=this;Dt(this.atom);var pe=this.values.length;if(w===void 0?w=0:w>pe?w=pe:w<0&&(w=Math.max(0,pe+w)),P=arguments.length===1?pe-w:P==null?0:Math.max(0,Math.min(P,pe-w)),z===void 0&&(z=O),Or(this)){var Ee=qt(this,{object:this.proxy,type:"splice",index:w,removedCount:P,added:z});if(!Ee)return O;P=Ee.removedCount,z=Ee.added}z=z.length===0?z:z.map(function(it){return K.enhancer(it,void 0)});var Be=this.spliceItemsIntoValues(w,P,z);return P===0&&z.length===0||this.notifyArraySplice(w,z,Be),this.dehanceValues(Be)},_.prototype.spliceItemsIntoValues=function(w,P,z){var K;if(z.length<1e4)return(K=this.values).splice.apply(K,ze([w,P],z));var pe=this.values.slice(w,w+P);return this.values=this.values.slice(0,w).concat(z,this.values.slice(w+P)),pe},_.prototype.notifyArrayChildUpdate=function(w,P,z){var K=!this.owned&&!1,pe=wr(this),Ee=pe||K?{object:this.proxy,type:"update",index:w,newValue:P,oldValue:z}:null;this.atom.reportChanged(),pe&&Jn(this,Ee)},_.prototype.notifyArraySplice=function(w,P,z){var K=!this.owned&&!1,pe=wr(this),Ee=pe||K?{object:this.proxy,type:"splice",index:w,removed:z,added:P,removedCount:z.length,addedCount:P.length}:null;this.atom.reportChanged(),pe&&Jn(this,Ee)},_}(),jn={intercept:function(_){return this[V].intercept(_)},observe:function(_,w){return w===void 0&&(w=!1),this[V].observe(_,w)},clear:function(){return this.splice(0)},replace:function(_){var w=this[V];return w.spliceWithArray(0,w.values.length,_)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(_,w){for(var P=[],z=2;z<arguments.length;z++)P[z-2]=arguments[z];var K=this[V];switch(arguments.length){case 0:return[];case 1:return K.spliceWithArray(_);case 2:return K.spliceWithArray(_,w)}return K.spliceWithArray(_,w,P)},spliceWithArray:function(_,w,P){return this[V].spliceWithArray(_,w,P)},push:function(){for(var _=[],w=0;w<arguments.length;w++)_[w]=arguments[w];var P=this[V];return P.spliceWithArray(P.values.length,0,_),P.values.length},pop:function(){return this.splice(Math.max(this[V].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var _=[],w=0;w<arguments.length;w++)_[w]=arguments[w];var P=this[V];return P.spliceWithArray(0,0,_),P.values.length},reverse:function(){var _=this.slice();return _.reverse.apply(_,arguments)},sort:function(_){var w=this.slice();return w.sort.apply(w,arguments)},remove:function(_){var w=this[V],P=w.dehanceValues(w.values).indexOf(_);return P>-1&&(this.splice(P,1),!0)},get:function(_){var w=this[V];if(w&&_<w.values.length)return w.atom.reportObserved(),w.dehanceValue(w.values[_])},set:function(_,w){var P=this[V],z=P.values;if(_<z.length){Dt(P.atom);var K=z[_];if(Or(P)){var pe=qt(P,{type:"update",object:P.proxy,index:_,newValue:w});if(!pe)return;w=pe.newValue}(w=P.enhancer(w,K))!==K&&(z[_]=w,P.notifyArrayChildUpdate(_,w,K))}else{if(_!==z.length)throw new Error("[mobx.array] Index out of bounds, "+_+" is larger than "+z.length);P.spliceWithArray(_,0,[w])}}};["concat","flat","includes","indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach(function(_){typeof Array.prototype[_]=="function"&&(jn[_]=function(){var w=this[V];w.atom.reportObserved();var P=w.dehanceValues(w.values);return P[_].apply(P,arguments)})}),["every","filter","find","findIndex","flatMap","forEach","map","some"].forEach(function(_){typeof Array.prototype[_]=="function"&&(jn[_]=function(w,P){var z=this,K=this[V];return K.atom.reportObserved(),K.dehanceValues(K.values)[_](function(pe,Ee){return w.call(P,pe,Ee,z)},P)})}),["reduce","reduceRight"].forEach(function(_){jn[_]=function(){var w=this,P=this[V];P.atom.reportObserved();var z=arguments[0];return arguments[0]=function(K,pe,Ee){return pe=P.dehanceValue(pe),z(K,pe,Ee,w)},P.values[_].apply(P.values,arguments)}});var fa,Po=G("ObservableArrayAdministration",su);function Fr(_){return I(_)&&Po(_[V])}var lu,xs={},fu=function(){function _(w,P,z){if(P===void 0&&(P=$e),z===void 0&&(z="ObservableMap@"+E()),this.enhancer=P,this.name=z,this[fa]=xs,this._keysAtom=Y(this.name+".keys()"),this[Symbol.toStringTag]="Map",typeof Map!="function")throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(w)}return _.prototype._has=function(w){return this._data.has(w)},_.prototype.has=function(w){var P=this;if(!ct.trackingDerivation)return this._has(w);var z=this._hasMap.get(w);if(!z){var K=z=new Sn(this._has(w),gt,this.name+"."+ie(w)+"?",!1);this._hasMap.set(w,K),on(K,function(){return P._hasMap.delete(w)})}return z.get()},_.prototype.set=function(w,P){var z=this._has(w);if(Or(this)){var K=qt(this,{type:z?"update":"add",object:this,newValue:P,name:w});if(!K)return this;P=K.newValue}return z?this._updateValue(w,P):this._addValue(w,P),this},_.prototype.delete=function(w){var P=this;if(Dt(this._keysAtom),Or(this)&&!(K=qt(this,{type:"delete",object:this,name:w})))return!1;if(this._has(w)){var z=wr(this),K=z?{type:"delete",object:this,oldValue:this._data.get(w).value,name:w}:null;return Vn(function(){P._keysAtom.reportChanged(),P._updateHasMapEntry(w,!1),P._data.get(w).setNewValue(void 0),P._data.delete(w)}),z&&Jn(this,K),!0}return!1},_.prototype._updateHasMapEntry=function(w,P){var z=this._hasMap.get(w);z&&z.setNewValue(P)},_.prototype._updateValue=function(w,P){var z=this._data.get(w);if((P=z.prepareNewValue(P))!==ct.UNCHANGED){var K=wr(this),pe=K?{type:"update",object:this,oldValue:z.value,name:w,newValue:P}:null;z.setNewValue(P),K&&Jn(this,pe)}},_.prototype._addValue=function(w,P){var z=this;Dt(this._keysAtom),Vn(function(){var Ee=new Sn(P,z.enhancer,z.name+"."+ie(w),!1);z._data.set(w,Ee),P=Ee.value,z._updateHasMapEntry(w,!0),z._keysAtom.reportChanged()});var K=wr(this),pe=K?{type:"add",object:this,name:w,newValue:P}:null;K&&Jn(this,pe)},_.prototype.get=function(w){return this.has(w)?this.dehanceValue(this._data.get(w).get()):this.dehanceValue(void 0)},_.prototype.dehanceValue=function(w){return this.dehancer!==void 0?this.dehancer(w):w},_.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},_.prototype.values=function(){var w=this,P=this.keys();return Wt({next:function(){var z=P.next(),K=z.done,pe=z.value;return{done:K,value:K?void 0:w.get(pe)}}})},_.prototype.entries=function(){var w=this,P=this.keys();return Wt({next:function(){var z=P.next(),K=z.done,pe=z.value;return{done:K,value:K?void 0:[pe,w.get(pe)]}}})},_.prototype[fa=V,Symbol.iterator]=function(){return this.entries()},_.prototype.forEach=function(w,P){var z,K;try{for(var pe=me(this),Ee=pe.next();!Ee.done;Ee=pe.next()){var Be=Pe(Ee.value,2),it=Be[0],Ht=Be[1];w.call(P,Ht,it,this)}}catch(Qe){z={error:Qe}}finally{try{Ee&&!Ee.done&&(K=pe.return)&&K.call(pe)}finally{if(z)throw z.error}}},_.prototype.merge=function(w){var P=this;return Un(w)&&(w=w.toJS()),Vn(function(){var z=Nt(!0);try{C(w)?se(w).forEach(function(K){return P.set(K,w[K])}):Array.isArray(w)?w.forEach(function(K){var pe=Pe(K,2),Ee=pe[0],Be=pe[1];return P.set(Ee,Be)}):W(w)?(w.constructor!==Map&&M("Cannot initialize from classes that inherit from Map: "+w.constructor.name),w.forEach(function(K,pe){return P.set(pe,K)})):w!=null&&M("Cannot initialize map from "+w)}finally{sn(z)}}),this},_.prototype.clear=function(){var w=this;Vn(function(){de(function(){var P,z;try{for(var K=me(w.keys()),pe=K.next();!pe.done;pe=K.next()){var Ee=pe.value;w.delete(Ee)}}catch(Be){P={error:Be}}finally{try{pe&&!pe.done&&(z=K.return)&&z.call(K)}finally{if(P)throw P.error}}})})},_.prototype.replace=function(w){var P=this;return Vn(function(){var z,K,pe,Ee,Be=function(dr){if(W(dr)||Un(dr))return dr;if(Array.isArray(dr))return new Map(dr);if(C(dr)){var Li=new Map;for(var di in dr)Li.set(di,dr[di]);return Li}return M("Cannot convert to map from '"+dr+"'")}(w),it=new Map,Ht=!1;try{for(var Qe=me(P._data.keys()),pn=Qe.next();!pn.done;pn=Qe.next()){var zt=pn.value;if(!Be.has(zt))if(P.delete(zt))Ht=!0;else{var tn=P._data.get(zt);it.set(zt,tn)}}}catch(dr){z={error:dr}}finally{try{pn&&!pn.done&&(K=Qe.return)&&K.call(Qe)}finally{if(z)throw z.error}}try{for(var Gr=me(Be.entries()),_n=Gr.next();!_n.done;_n=Gr.next()){var Er=Pe(_n.value,2),Ao=(zt=Er[0],tn=Er[1],P._data.has(zt));if(P.set(zt,tn),P._data.has(zt)){var Mo=P._data.get(zt);it.set(zt,Mo),Ao||(Ht=!0)}}}catch(dr){pe={error:dr}}finally{try{_n&&!_n.done&&(Ee=Gr.return)&&Ee.call(Gr)}finally{if(pe)throw pe.error}}if(!Ht)if(P._data.size!==it.size)P._keysAtom.reportChanged();else for(var Ii=P._data.keys(),du=it.keys(),Xo=Ii.next(),da=du.next();!Xo.done;){if(Xo.value!==da.value){P._keysAtom.reportChanged();break}Xo=Ii.next(),da=du.next()}P._data=it}),this},Object.defineProperty(_.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),_.prototype.toPOJO=function(){var w,P,z={};try{for(var K=me(this),pe=K.next();!pe.done;pe=K.next()){var Ee=Pe(pe.value,2),Be=Ee[0],it=Ee[1];z[typeof Be=="symbol"?Be:ie(Be)]=it}}catch(Ht){w={error:Ht}}finally{try{pe&&!pe.done&&(P=K.return)&&P.call(K)}finally{if(w)throw w.error}}return z},_.prototype.toJS=function(){return new Map(this)},_.prototype.toJSON=function(){return this.toPOJO()},_.prototype.toString=function(){var w=this;return this.name+"[{ "+Array.from(this.keys()).map(function(P){return ie(P)+": "+w.get(P)}).join(", ")+" }]"},_.prototype.observe=function(w,P){return co(this,w)},_.prototype.intercept=function(w){return jo(this,w)},_}(),Un=G("ObservableMap",fu),pi={},so=function(){function _(w,P,z){if(P===void 0&&(P=$e),z===void 0&&(z="ObservableSet@"+E()),this.name=z,this[lu]=pi,this._data=new Set,this._atom=Y(this.name),this[Symbol.toStringTag]="Set",typeof Set!="function")throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(K,pe){return P(K,pe,z)},w&&this.replace(w)}return _.prototype.dehanceValue=function(w){return this.dehancer!==void 0?this.dehancer(w):w},_.prototype.clear=function(){var w=this;Vn(function(){de(function(){var P,z;try{for(var K=me(w._data.values()),pe=K.next();!pe.done;pe=K.next()){var Ee=pe.value;w.delete(Ee)}}catch(Be){P={error:Be}}finally{try{pe&&!pe.done&&(z=K.return)&&z.call(K)}finally{if(P)throw P.error}}})})},_.prototype.forEach=function(w,P){var z,K;try{for(var pe=me(this),Ee=pe.next();!Ee.done;Ee=pe.next()){var Be=Ee.value;w.call(P,Be,Be,this)}}catch(it){z={error:it}}finally{try{Ee&&!Ee.done&&(K=pe.return)&&K.call(pe)}finally{if(z)throw z.error}}},Object.defineProperty(_.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),_.prototype.add=function(w){var P=this;if(Dt(this._atom),Or(this)&&!(K=qt(this,{type:"add",object:this,newValue:w})))return this;if(!this.has(w)){Vn(function(){P._data.add(P.enhancer(w,void 0)),P._atom.reportChanged()});var z=wr(this),K=z?{type:"add",object:this,newValue:w}:null;z&&Jn(this,K)}return this},_.prototype.delete=function(w){var P=this;if(Or(this)&&!(K=qt(this,{type:"delete",object:this,oldValue:w})))return!1;if(this.has(w)){var z=wr(this),K=z?{type:"delete",object:this,oldValue:w}:null;return Vn(function(){P._atom.reportChanged(),P._data.delete(w)}),z&&Jn(this,K),!0}return!1},_.prototype.has=function(w){return this._atom.reportObserved(),this._data.has(this.dehanceValue(w))},_.prototype.entries=function(){var w=0,P=Array.from(this.keys()),z=Array.from(this.values());return Wt({next:function(){var K=w;return w+=1,K<z.length?{value:[P[K],z[K]],done:!1}:{done:!0}}})},_.prototype.keys=function(){return this.values()},_.prototype.values=function(){this._atom.reportObserved();var w=this,P=0,z=Array.from(this._data.values());return Wt({next:function(){return P<z.length?{value:w.dehanceValue(z[P++]),done:!1}:{done:!0}}})},_.prototype.replace=function(w){var P=this;return pr(w)&&(w=w.toJS()),Vn(function(){var z=Nt(!0);try{Array.isArray(w)||ne(w)?(P.clear(),w.forEach(function(K){return P.add(K)})):w!=null&&M("Cannot initialize set from "+w)}finally{sn(z)}}),this},_.prototype.observe=function(w,P){return co(this,w)},_.prototype.intercept=function(w){return jo(this,w)},_.prototype.toJS=function(){return new Set(this)},_.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},_.prototype[lu=V,Symbol.iterator]=function(){return this.values()},_}(),pr=G("ObservableSet",so),pu=function(){function _(w,P,z,K){P===void 0&&(P=new Map),this.target=w,this.values=P,this.name=z,this.defaultEnhancer=K,this.keysAtom=new B(z+".keys")}return _.prototype.read=function(w){return this.values.get(w).get()},_.prototype.write=function(w,P){var z=this.target,K=this.values.get(w);if(K instanceof io)K.set(P);else{if(Or(this)){if(!(Ee=qt(this,{type:"update",object:this.proxy||z,name:w,newValue:P})))return;P=Ee.newValue}if((P=K.prepareNewValue(P))!==ct.UNCHANGED){var pe=wr(this),Ee=pe?{type:"update",object:this.proxy||z,oldValue:K.value,name:w,newValue:P}:null;K.setNewValue(P),pe&&Jn(this,Ee)}}},_.prototype.has=function(w){var P=this.pendingKeys||(this.pendingKeys=new Map),z=P.get(w);if(z)return z.get();var K=!!this.values.get(w);return z=new Sn(K,gt,this.name+"."+ie(w)+"?",!1),P.set(w,z),z.get()},_.prototype.addObservableProp=function(w,P,z){z===void 0&&(z=this.defaultEnhancer);var K=this.target;if(Or(this)){var pe=qt(this,{object:this.proxy||K,name:w,type:"add",newValue:P});if(!pe)return;P=pe.newValue}var Ee=new Sn(P,z,this.name+"."+ie(w),!1);this.values.set(w,Ee),P=Ee.value,Object.defineProperty(K,w,function(Be){return Go[Be]||(Go[Be]={configurable:!0,enumerable:!0,get:function(){return this[V].read(Be)},set:function(it){this[V].write(Be,it)}})}(w)),this.notifyPropertyAddition(w,P)},_.prototype.addComputedProp=function(w,P,z){var K,pe,Ee,Be=this.target;z.name=z.name||this.name+"."+ie(P),this.values.set(P,new io(z)),(w===Be||(K=w,pe=P,!(Ee=Object.getOwnPropertyDescriptor(K,pe))||Ee.configurable!==!1&&Ee.writable!==!1))&&Object.defineProperty(w,P,function(it){return pa[it]||(pa[it]={configurable:ct.computedConfigurable,enumerable:!1,get:function(){return lo(this).read(it)},set:function(Ht){lo(this).write(it,Ht)}})}(P))},_.prototype.remove=function(w){if(this.values.has(w)){var P=this.target;if(Or(this)&&!(it=qt(this,{object:this.proxy||P,name:w,type:"remove"})))return;try{mr();var z=wr(this),K=!1,pe=this.values.get(w),Ee=pe&&pe.get();if(pe&&pe.set(void 0),this.keysAtom.reportChanged(),this.values.delete(w),this.pendingKeys){var Be=this.pendingKeys.get(w);Be&&Be.set(!1)}delete this.target[w];var it=z?{type:"remove",object:this.proxy||P,oldValue:Ee,name:w}:null;z&&Jn(this,it)}finally{Mr()}}},_.prototype.illegalAccess=function(w,P){},_.prototype.observe=function(w,P){return co(this,w)},_.prototype.intercept=function(w){return jo(this,w)},_.prototype.notifyPropertyAddition=function(w,P){var z=wr(this),K=z?{type:"add",object:this.proxy||this.target,name:w,newValue:P}:null;if(z&&Jn(this,K),this.pendingKeys){var pe=this.pendingKeys.get(w);pe&&pe.set(!0)}this.keysAtom.reportChanged()},_.prototype.getKeys=function(){var w,P;this.keysAtom.reportObserved();var z=[];try{for(var K=me(this.values),pe=K.next();!pe.done;pe=K.next()){var Ee=Pe(pe.value,2),Be=Ee[0];Ee[1]instanceof Sn&&z.push(Be)}}catch(it){w={error:it}}finally{try{pe&&!pe.done&&(P=K.return)&&P.call(K)}finally{if(w)throw w.error}}return z},_}();function kr(_,w,P){if(w===void 0&&(w=""),P===void 0&&(P=$e),Object.prototype.hasOwnProperty.call(_,V))return _[V];C(_)||(w=(_.constructor.name||"ObservableObject")+"@"+E()),w||(w="ObservableObject@"+E());var z=new pu(_,new Map,ie(w),P);return L(_,V,z),z}var Go=Object.create(null),pa=Object.create(null);function lo(_){var w=_[V];return w||(tt(_),_[V])}var Tr=G("ObservableObjectAdministration",pu);function xr(_){return!!I(_)&&(tt(_),Tr(_[V]))}function Ur(_,w){if(typeof _=="object"&&_!==null){if(Fr(_))return w!==void 0&&M(!1),_[V].atom;if(pr(_))return _[V];if(Un(_)){var P=_;return w===void 0?P._keysAtom:((z=P._data.get(w)||P._hasMap.get(w))||M(!1),z)}var z;if(tt(_),w&&!_[V]&&_[w],xr(_))return w?((z=_[V].values.get(w))||M(!1),z):M(!1);if(X(_)||wo(_)||Ni(_))return _}else if(typeof _=="function"&&Ni(_[V]))return _[V];return M(!1)}function fo(_,w){return _||M("Expecting some object"),w!==void 0?fo(Ur(_,w)):X(_)||wo(_)||Ni(_)||Un(_)||pr(_)?_:(tt(_),_[V]?_[V]:void M(!1))}var Oe=Object.prototype.toString;function De(_,w,P){return P===void 0&&(P=-1),Re(_,w,P)}function Re(_,w,P,z,K){if(_===w)return _!==0||1/_==1/w;if(_==null||w==null)return!1;if(_!=_)return w!=w;var pe=typeof _;if(pe!=="function"&&pe!=="object"&&typeof w!="object")return!1;var Ee=Oe.call(_);if(Ee!==Oe.call(w))return!1;switch(Ee){case"[object RegExp]":case"[object String]":return""+_==""+w;case"[object Number]":return+_!=+_?+w!=+w:+_==0?1/+_==1/w:+_==+w;case"[object Date]":case"[object Boolean]":return+_==+w;case"[object Symbol]":return typeof Symbol!="undefined"&&Symbol.valueOf.call(_)===Symbol.valueOf.call(w);case"[object Map]":case"[object Set]":P>=0&&P++}_=Je(_),w=Je(w);var Be=Ee==="[object Array]";if(!Be){if(typeof _!="object"||typeof w!="object")return!1;var it=_.constructor,Ht=w.constructor;if(it!==Ht&&!(typeof it=="function"&&it instanceof it&&typeof Ht=="function"&&Ht instanceof Ht)&&"constructor"in _&&"constructor"in w)return!1}if(P===0)return!1;P<0&&(P=-1),K=K||[];for(var Qe=(z=z||[]).length;Qe--;)if(z[Qe]===_)return K[Qe]===w;if(z.push(_),K.push(w),Be){if((Qe=_.length)!==w.length)return!1;for(;Qe--;)if(!Re(_[Qe],w[Qe],P-1,z,K))return!1}else{var pn=Object.keys(_),zt=void 0;if(Qe=pn.length,Object.keys(w).length!==Qe)return!1;for(;Qe--;)if(!Lt(w,zt=pn[Qe])||!Re(_[zt],w[zt],P-1,z,K))return!1}return z.pop(),K.pop(),!0}function Je(_){return Fr(_)?_.slice():W(_)||Un(_)||ne(_)||pr(_)?Array.from(_.entries()):_}function Lt(_,w){return Object.prototype.hasOwnProperty.call(_,w)}function Wt(_){return _[Symbol.iterator]=yn,_}function yn(){return this}if(typeof Proxy=="undefined"||typeof Symbol=="undefined")throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:Ja,extras:{getDebugName:function(_,w){return(w!==void 0?Ur(_,w):xr(_)||Un(_)||pr(_)?fo(_):Ur(_)).name}},$mobx:V})}).call(this,o(163),o(68))},function(s,f,o){var p=o(113),d=o(42),O=o(179);p||d(Object.prototype,"toString",O,{unsafe:!0})},function(s,f,o){var p=o(41),d=o(100),O=o(80),v=o(58),E=o(116),M="Array Iterator",A=v.set,T=v.getterFor(M);s.exports=E(Array,"Array",function(k,I){A(this,{type:M,target:p(k),index:0,kind:I})},function(){var k=T(this),I=k.target,C=k.kind,L=k.index++;return!I||L>=I.length?(k.target=void 0,{value:void 0,done:!0}):C=="keys"?{value:L,done:!1}:C=="values"?{value:I[L],done:!1}:{value:[L,I[L]],done:!1}},"values"),O.Arguments=O.Array,d("keys"),d("values"),d("entries")},function(s,f,o){var p=o(16),d=o(7),O=o(46),v=o(76),E=o(34),M=o(15),A=o(71),T=o(36),k=o(108),I=o(18),C=o(35),L=o(96),G=o(30),W=o(33),ne=o(54),se=o(87),ie=o(32),Q=o(40),ee=o(41),V=o(86),B=o(39),X=o(69),Y=o(60),$=o(77),ae=o(74),xe=o(139),me=o(112),Pe=o(50),ze=o(38),Se=o(84),ve=o(98),je=o(42),Ae=o(89),Fe=o(93),tt=o(72),_t=o(90),Ye=o(28),$e=o(140),gt=o(141),le=o(78),ue=o(58),he=o(79).forEach,Te=Fe("hidden"),Ge="Symbol",Ie=Ye("toPrimitive"),Ot=ue.set,At=ue.getterFor(Ge),Et=Object.prototype,ht=d.Symbol,Me=ht&&ht.prototype,ut=d.TypeError,fe=d.QObject,rt=O("JSON","stringify"),Rt=Pe.f,rn=ze.f,It=xe.f,Zt=Se.f,fn=M([].push),bn=Ae("symbols"),Dt=Ae("op-symbols"),Nn=Ae("string-to-symbol-registry"),q=Ae("symbol-to-string-registry"),de=Ae("wks"),oe=!fe||!fe.prototype||!fe.prototype.findChild,be=T&&I(function(){return Y(rn({},"a",{get:function(){return rn(this,"a",{value:7}).a}})).a!=7})?function(ot,mt,xt){var Nt=Rt(Et,mt);Nt&&delete Et[mt],rn(ot,mt,xt),Nt&&ot!==Et&&rn(Et,mt,Nt)}:rn,Ve=function(ot,mt){var xt=bn[ot]=Y(Me);return Ot(xt,{type:Ge,tag:ot,description:mt}),T||(xt.description=mt),xt},We=function(ot,mt,xt){ot===Et&&We(Dt,mt,xt),ie(ot);var Nt=V(mt);return ie(xt),C(bn,Nt)?(xt.enumerable?(C(ot,Te)&&ot[Te][Nt]&&(ot[Te][Nt]=!1),xt=Y(xt,{enumerable:X(0,!1)})):(C(ot,Te)||rn(ot,Te,X(1,{})),ot[Te][Nt]=!0),be(ot,Nt,xt)):rn(ot,Nt,xt)},lt=function(ot,mt){ie(ot);var xt=ee(mt),Nt=$(xt).concat(Cn(xt));return he(Nt,function(sn){T&&!E(Ut,xt,sn)||We(ot,sn,xt[sn])}),ot},Ut=function(ot){var mt=V(ot),xt=E(Zt,this,mt);return!(this===Et&&C(bn,mt)&&!C(Dt,mt))&&(!(xt||!C(this,mt)||!C(bn,mt)||C(this,Te)&&this[Te][mt])||xt)},Yn=function(ot,mt){var xt=ee(ot),Nt=V(mt);if(xt!==Et||!C(bn,Nt)||C(Dt,Nt)){var sn=Rt(xt,Nt);return!sn||!C(bn,Nt)||C(xt,Te)&&xt[Te][Nt]||(sn.enumerable=!0),sn}},nr=function(ot){var mt=It(ee(ot)),xt=[];return he(mt,function(Nt){C(bn,Nt)||C(tt,Nt)||fn(xt,Nt)}),xt},Cn=function(ot){var mt=ot===Et,xt=It(mt?Dt:ee(ot)),Nt=[];return he(xt,function(sn){!C(bn,sn)||mt&&!C(Et,sn)||fn(Nt,bn[sn])}),Nt};if(k||(ht=function(){if(ne(Me,this))throw ut("Symbol is not a constructor");var ot=arguments.length&&arguments[0]!==void 0?B(arguments[0]):void 0,mt=_t(ot),xt=function(Nt){this===Et&&E(xt,Dt,Nt),C(this,Te)&&C(this[Te],mt)&&(this[Te][mt]=!1),be(this,mt,X(1,Nt))};return T&&oe&&be(Et,mt,{configurable:!0,set:xt}),Ve(mt,ot)},je(Me=ht.prototype,"toString",function(){return At(this).tag}),je(ht,"withoutSetter",function(ot){return Ve(_t(ot),ot)}),Se.f=Ut,ze.f=We,Pe.f=Yn,ae.f=xe.f=nr,me.f=Cn,$e.f=function(ot){return Ve(Ye(ot),ot)},T&&(rn(Me,"description",{configurable:!0,get:function(){return At(this).description}}),A||je(Et,"propertyIsEnumerable",Ut,{unsafe:!0}))),p({global:!0,wrap:!0,forced:!k,sham:!k},{Symbol:ht}),he($(de),function(ot){gt(ot)}),p({target:Ge,stat:!0,forced:!k},{for:function(ot){var mt=B(ot);if(C(Nn,mt))return Nn[mt];var xt=ht(mt);return Nn[mt]=xt,q[xt]=mt,xt},keyFor:function(ot){if(!se(ot))throw ut(ot+" is not a symbol");if(C(q,ot))return q[ot]},useSetter:function(){oe=!0},useSimple:function(){oe=!1}}),p({target:"Object",stat:!0,forced:!k,sham:!T},{create:function(ot,mt){return mt===void 0?Y(ot):lt(Y(ot),mt)},defineProperty:We,defineProperties:lt,getOwnPropertyDescriptor:Yn}),p({target:"Object",stat:!0,forced:!k},{getOwnPropertyNames:nr,getOwnPropertySymbols:Cn}),p({target:"Object",stat:!0,forced:I(function(){me.f(1)})},{getOwnPropertySymbols:function(ot){return me.f(Q(ot))}}),rt&&p({target:"JSON",stat:!0,forced:!k||I(function(){var ot=ht();return rt([ot])!="[null]"||rt({a:ot})!="{}"||rt(Object(ot))!="{}"})},{stringify:function(ot,mt,xt){var Nt=ve(arguments),sn=mt;if((W(mt)||ot!==void 0)&&!se(ot))return L(mt)||(mt=function(Sn,Oo){if(G(sn)&&(Oo=E(sn,this,Sn,Oo)),!se(Oo))return Oo}),Nt[1]=mt,v(rt,null,Nt)}}),!Me[Ie]){var Fn=Me.valueOf;je(Me,Ie,function(ot){return E(Fn,this)})}le(ht,Ge),tt[Te]=!0},function(s,f,o){var p=o(7),d=o(152),O=o(153),v=o(3),E=o(57),M=o(28),A=M("iterator"),T=M("toStringTag"),k=v.values,I=function(L,G){if(L){if(L[A]!==k)try{E(L,A,k)}catch(ne){L[A]=k}if(L[T]||E(L,T,G),d[G]){for(var W in v)if(L[W]!==v[W])try{E(L,W,v[W])}catch(ne){L[W]=v[W]}}}};for(var C in d)I(p[C]&&p[C].prototype,C);I(O,"DOMTokenList")},function(s,f,o){var p=o(151).charAt,d=o(39),O=o(58),v=o(116),E="String Iterator",M=O.set,A=O.getterFor(E);v(String,"String",function(T){M(this,{type:E,string:d(T),index:0})},function(){var T,k=A(this),I=k.string,C=k.index;return C>=I.length?{value:void 0,done:!0}:(T=p(I,C),k.index+=T.length,{value:T,done:!1})})},function(s,f,o){(function(p){var d=function(O){return O&&O.Math==Math&&O};s.exports=d(typeof globalThis=="object"&&globalThis)||d(typeof window=="object"&&window)||d(typeof self=="object"&&self)||d(typeof p=="object"&&p)||function(){return this}()||Function("return this")()}).call(this,o(68))},function(s,f,o){var p=o(16),d=o(36),O=o(7),v=o(15),E=o(35),M=o(30),A=o(54),T=o(39),k=o(38).f,I=o(134),C=O.Symbol,L=C&&C.prototype;if(d&&M(C)&&(!("description"in L)||C().description!==void 0)){var G={},W=function(){var B=arguments.length<1||arguments[0]===void 0?void 0:T(arguments[0]),X=A(L,this)?new C(B):B===void 0?C():C(B);return B===""&&(G[X]=!0),X};I(W,C),W.prototype=L,L.constructor=W;var ne=String(C("test"))=="Symbol(test)",se=v(L.toString),ie=v(L.valueOf),Q=/^Symbol\((.*)\)[^)]+$/,ee=v("".replace),V=v("".slice);k(L,"description",{configurable:!0,get:function(){var B=ie(this),X=se(B);if(E(G,B))return"";var Y=ne?V(X,7,-1):ee(X,Q,"$1");return Y===""?void 0:Y}}),p({global:!0,forced:!0},{Symbol:W})}},function(s,f,o){o(141)("iterator")},function(s,f,o){o.d(f,"a",function(){return v.a}),o.d(f,"c",function(){return v.e}),o.d(f,"h",function(){return Q}),o.d(f,"i",function(){return ne}),o.d(f,"j",function(){return G}),o.d(f,"b",function(){return Pe}),o.d(f,"e",function(){return je}),o.d(f,"f",function(){return ze}),o.d(f,"g",function(){return bn});var p,d,O,v=o(0),E=0,M=[],A=v.i.__b,T=v.i.__r,k=v.i.diffed,I=v.i.__c,C=v.i.unmount;function L(q,de){v.i.__h&&v.i.__h(d,q,E||de),E=0;var oe=d.__H||(d.__H={__:[],__h:[]});return q>=oe.__.length&&oe.__.push({}),oe.__[q]}function G(q){return E=1,W(ae,q)}function W(q,de,oe){var be=L(p++,2);return be.t=q,be.__c||(be.__=[oe?oe(de):ae(void 0,de),function(Ve){var We=be.t(be.__[0],Ve);be.__[0]!==We&&(be.__=[We,be.__[1]],be.__c.setState({}))}],be.__c=d),be.__}function ne(q,de){var oe=L(p++,3);!v.i.__s&&$(oe.__H,de)&&(oe.__=q,oe.__H=de,d.__H.__h.push(oe))}function se(q,de){var oe=L(p++,4);!v.i.__s&&$(oe.__H,de)&&(oe.__=q,oe.__H=de,d.__h.push(oe))}function ie(q,de){var oe=L(p++,7);return $(oe.__H,de)&&(oe.__=q(),oe.__H=de,oe.__h=q),oe.__}function Q(q,de){return E=8,ie(function(){return q},de)}function ee(){var q;for(M.sort(function(de,oe){return de.__v.__b-oe.__v.__b});q=M.pop();)if(q.__P)try{q.__H.__h.forEach(X),q.__H.__h.forEach(Y),q.__H.__h=[]}catch(de){q.__H.__h=[],v.i.__e(de,q.__v)}}v.i.__b=function(q){d=null,A&&A(q)},v.i.__r=function(q){T&&T(q),p=0;var de=(d=q.__c).__H;de&&(de.__h.forEach(X),de.__h.forEach(Y),de.__h=[])},v.i.diffed=function(q){k&&k(q);var de=q.__c;de&&de.__H&&de.__H.__h.length&&(M.push(de)!==1&&O===v.i.requestAnimationFrame||((O=v.i.requestAnimationFrame)||B)(ee)),d=null},v.i.__c=function(q,de){de.some(function(oe){try{oe.__h.forEach(X),oe.__h=oe.__h.filter(function(be){return!be.__||Y(be)})}catch(be){de.some(function(Ve){Ve.__h&&(Ve.__h=[])}),de=[],v.i.__e(be,oe.__v)}}),I&&I(q,de)},v.i.unmount=function(q){C&&C(q);var de,oe=q.__c;oe&&oe.__H&&(oe.__H.__.forEach(function(be){try{X(be)}catch(Ve){de=Ve}}),de&&v.i.__e(de,oe.__v))};var V=typeof requestAnimationFrame=="function";function B(q){var de,oe=function(){clearTimeout(be),V&&cancelAnimationFrame(de),setTimeout(q)},be=setTimeout(oe,100);V&&(de=requestAnimationFrame(oe))}function X(q){var de=d,oe=q.__c;typeof oe=="function"&&(q.__c=void 0,oe()),d=de}function Y(q){var de=d;q.__c=q.__(),d=de}function $(q,de){return!q||q.length!==de.length||de.some(function(oe,be){return oe!==q[be]})}function ae(q,de){return typeof de=="function"?de(q):de}function xe(q,de){for(var oe in de)q[oe]=de[oe];return q}function me(q,de){for(var oe in q)if(oe!=="__source"&&!(oe in de))return!0;for(var be in de)if(be!=="__source"&&q[be]!==de[be])return!0;return!1}function Pe(q){this.props=q}function ze(q,de){function oe(Ve){var We=this.props.ref,lt=We==Ve.ref;return!lt&&We&&(We.call?We(null):We.current=null),de?!de(this.props,Ve)||!lt:me(this.props,Ve)}function be(Ve){return this.shouldComponentUpdate=oe,Object(v.e)(q,Ve)}return be.displayName="Memo("+(q.displayName||q.name)+")",be.prototype.isReactComponent=!0,be.__f=!0,be}(Pe.prototype=new v.a).isPureReactComponent=!0,Pe.prototype.shouldComponentUpdate=function(q,de){return me(this.props,q)||me(this.state,de)};var Se=v.i.__b;v.i.__b=function(q){q.type&&q.type.__f&&q.ref&&(q.props.ref=q.ref,q.ref=null),Se&&Se(q)};var ve=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function je(q){function de(oe,be){var Ve=xe({},oe);return delete Ve.ref,q(Ve,!(be=oe.ref||be)||typeof be=="object"&&!("current"in be)?null:be)}return de.$$typeof=ve,de.render=de,de.prototype.isReactComponent=de.__f=!0,de.displayName="ForwardRef("+(q.displayName||q.name)+")",de}var Ae=function(q,de){return q==null?null:Object(v.k)(Object(v.k)(q).map(de))},Fe={map:Ae,forEach:Ae,count:function(q){return q?Object(v.k)(q).length:0},only:function(q){var de=Object(v.k)(q);if(de.length!==1)throw"Children.only";return de[0]},toArray:v.k},tt=v.i.__e;v.i.__e=function(q,de,oe){if(q.then){for(var be,Ve=de;Ve=Ve.__;)if((be=Ve.__c)&&be.__c)return de.__e==null&&(de.__e=oe.__e,de.__k=oe.__k),be.__c(q,de)}tt(q,de,oe)};var _t=v.i.unmount;function Ye(q,de,oe){return q&&(q.__c&&q.__c.__H&&(q.__c.__H.__.forEach(function(be){typeof be.__c=="function"&&be.__c()}),q.__c.__H=null),(q=xe({},q)).__c!=null&&(q.__c.__P===oe&&(q.__c.__P=de),q.__c=null),q.__k=q.__k&&q.__k.map(function(be){return Ye(be,de,oe)})),q}function $e(q,de,oe){return q&&(q.__v=null,q.__k=q.__k&&q.__k.map(function(be){return $e(be,de,oe)}),q.__c&&q.__c.__P===de&&(q.__e&&oe.insertBefore(q.__e,q.__d),q.__c.__e=!0,q.__c.__P=oe)),q}function gt(){this.__u=0,this.t=null,this.__b=null}function le(q){var de=q.__.__c;return de&&de.__e&&de.__e(q)}function ue(){this.u=null,this.o=null}v.i.unmount=function(q){var de=q.__c;de&&de.__R&&de.__R(),de&&q.__h===!0&&(q.type=null),_t&&_t(q)},(gt.prototype=new v.a).__c=function(q,de){var oe=de.__c,be=this;be.t==null&&(be.t=[]),be.t.push(oe);var Ve=le(be.__v),We=!1,lt=function(){We||(We=!0,oe.__R=null,Ve?Ve(Ut):Ut())};oe.__R=lt;var Ut=function(){if(!--be.__u){if(be.state.__e){var nr=be.state.__e;be.__v.__k[0]=$e(nr,nr.__c.__P,nr.__c.__O)}var Cn;for(be.setState({__e:be.__b=null});Cn=be.t.pop();)Cn.forceUpdate()}},Yn=de.__h===!0;be.__u++||Yn||be.setState({__e:be.__b=be.__v.__k[0]}),q.then(lt,lt)},gt.prototype.componentWillUnmount=function(){this.t=[]},gt.prototype.render=function(q,de){if(this.__b){if(this.__v.__k){var oe=document.createElement("div"),be=this.__v.__k[0].__c;this.__v.__k[0]=Ye(this.__b,oe,be.__O=be.__P)}this.__b=null}var Ve=de.__e&&Object(v.e)(v.b,null,q.fallback);return Ve&&(Ve.__h=null),[Object(v.e)(v.b,null,de.__e?null:q.children),Ve]};var he=function(q,de,oe){if(++oe[1]===oe[0]&&q.o.delete(de),q.props.revealOrder&&(q.props.revealOrder[0]!=="t"||!q.o.size))for(oe=q.u;oe;){for(;oe.length>3;)oe.pop()();if(oe[1]<oe[0])break;q.u=oe=oe[2]}};function Te(q){return this.getChildContext=function(){return q.context},q.children}function Ge(q){var de=this,oe=q.i;de.componentWillUnmount=function(){Object(v.j)(null,de.l),de.l=null,de.i=null},de.i&&de.i!==oe&&de.componentWillUnmount(),q.__v?(de.l||(de.i=oe,de.l={nodeType:1,parentNode:oe,childNodes:[],appendChild:function(be){this.childNodes.push(be),de.i.appendChild(be)},insertBefore:function(be,Ve){this.childNodes.push(be),de.i.appendChild(be)},removeChild:function(be){this.childNodes.splice(this.childNodes.indexOf(be)>>>1,1),de.i.removeChild(be)}}),Object(v.j)(Object(v.e)(Te,{context:de.context},q.__v),de.l)):de.l&&de.componentWillUnmount()}(ue.prototype=new v.a).__e=function(q){var de=this,oe=le(de.__v),be=de.o.get(q);return be[0]++,function(Ve){var We=function(){de.props.revealOrder?(be.push(Ve),he(de,q,be)):Ve()};oe?oe(We):We()}},ue.prototype.render=function(q){this.u=null,this.o=new Map;var de=Object(v.k)(q.children);q.revealOrder&&q.revealOrder[0]==="b"&&de.reverse();for(var oe=de.length;oe--;)this.o.set(de[oe],this.u=[1,0,this.u]);return q.children},ue.prototype.componentDidUpdate=ue.prototype.componentDidMount=function(){var q=this;this.o.forEach(function(de,oe){he(q,oe,de)})};var Ie=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.element")||60103,Ot=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,At=typeof document!="undefined",Et=function(q){return(typeof Symbol!="undefined"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(q)};v.a.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(q){Object.defineProperty(v.a.prototype,q,{configurable:!0,get:function(){return this["UNSAFE_"+q]},set:function(de){Object.defineProperty(this,q,{configurable:!0,writable:!0,value:de})}})});var ht=v.i.event;function Me(){}function ut(){return this.cancelBubble}function fe(){return this.defaultPrevented}v.i.event=function(q){return ht&&(q=ht(q)),q.persist=Me,q.isPropagationStopped=ut,q.isDefaultPrevented=fe,q.nativeEvent=q};var rt,Rt={configurable:!0,get:function(){return this.class}},rn=v.i.vnode;v.i.vnode=function(q){var de=q.type,oe=q.props,be=oe;if(typeof de=="string"){var Ve=de.indexOf("-")===-1;for(var We in be={},oe){var lt=oe[We];At&&We==="children"&&de==="noscript"||We==="value"&&"defaultValue"in oe&&lt==null||(We==="defaultValue"&&"value"in oe&&oe.value==null?We="value":We==="download"&&lt===!0?lt="":/ondoubleclick/i.test(We)?We="ondblclick":/^onchange(textarea|input)/i.test(We+de)&&!Et(oe.type)?We="oninput":/^onfocus$/i.test(We)?We="onfocusin":/^onblur$/i.test(We)?We="onfocusout":/^on(Ani|Tra|Tou|BeforeInp)/.test(We)?We=We.toLowerCase():Ve&&Ot.test(We)?We=We.replace(/[A-Z0-9]/,"-$&").toLowerCase():lt===null&&(lt=void 0),be[We]=lt)}de=="select"&&be.multiple&&Array.isArray(be.value)&&(be.value=Object(v.k)(oe.children).forEach(function(Ut){Ut.props.selected=be.value.indexOf(Ut.props.value)!=-1})),de=="select"&&be.defaultValue!=null&&(be.value=Object(v.k)(oe.children).forEach(function(Ut){Ut.props.selected=be.multiple?be.defaultValue.indexOf(Ut.props.value)!=-1:be.defaultValue==Ut.props.value})),q.props=be,oe.class!=oe.className&&(Rt.enumerable="className"in oe,oe.className!=null&&(be.class=oe.className),Object.defineProperty(be,"className",Rt))}q.$$typeof=Ie,rn&&rn(q)};var It=v.i.__r;v.i.__r=function(q){It&&It(q),rt=q.__c};var Zt={ReactCurrentDispatcher:{current:{readContext:function(q){return rt.__n[q.__c].props.value}}}};function fn(q){return!!q&&q.$$typeof===Ie}var bn=function(q,de){return q(de)},Dt=v.b,Nn={useState:G,useReducer:W,useEffect:ne,useLayoutEffect:se,useRef:function(q){return E=5,ie(function(){return{current:q}},[])},useImperativeHandle:function(q,de,oe){E=6,se(function(){typeof q=="function"?q(de()):q&&(q.current=de())},oe==null?oe:oe.concat(q))},useMemo:ie,useCallback:Q,useContext:function(q){var de=d.context[q.__c],oe=L(p++,9);return oe.c=q,de?(oe.__==null&&(oe.__=!0,de.sub(d)),de.props.value):q.__},useDebugValue:function(q,de){v.i.useDebugValue&&v.i.useDebugValue(de?de(q):q)},version:"17.0.2",Children:Fe,render:function(q,de,oe){return de.__k==null&&(de.textContent=""),Object(v.j)(q,de),typeof oe=="function"&&oe(),q?q.__c:null},hydrate:function(q,de,oe){return Object(v.h)(q,de),typeof oe=="function"&&oe(),q?q.__c:null},unmountComponentAtNode:function(q){return!!q.__k&&(Object(v.j)(null,q),!0)},createPortal:function(q,de){return Object(v.e)(Ge,{__v:q,i:de})},createElement:v.e,createContext:v.d,createFactory:function(q){return v.e.bind(null,q)},cloneElement:function(q){return fn(q)?v.c.apply(null,arguments):q},createRef:v.f,Fragment:v.b,isValidElement:fn,findDOMNode:function(q){return q&&(q.base||q.nodeType===1&&q)||null},Component:v.a,PureComponent:Pe,memo:ze,forwardRef:je,flushSync:function(q,de){return q(de)},unstable_batchedUpdates:bn,StrictMode:Dt,Suspense:gt,SuspenseList:ue,lazy:function(q){var de,oe,be;function Ve(We){if(de||(de=q()).then(function(lt){oe=lt.default||lt},function(lt){be=lt}),be)throw be;if(!oe)throw de;return Object(v.e)(oe,We)}return Ve.displayName="Lazy",Ve.__f=!0,Ve},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:Zt};f.d=Nn},function(s,f,o){var p=o(7),d=o(152),O=o(153),v=o(187),E=o(57),M=function(T){if(T&&T.forEach!==v)try{E(T,"forEach",v)}catch(k){T.forEach=v}};for(var A in d)d[A]&&M(p[A]&&p[A].prototype);M(O)},function(s,f,o){o(16)({target:"Object",stat:!0},{setPrototypeOf:o(102)})},function(s,f,o){var p=o(16),d=o(18),O=o(40),v=o(101),E=o(143);p({target:"Object",stat:!0,forced:d(function(){v(1)}),sham:!E},{getPrototypeOf:function(M){return v(O(M))}})},function(s,f,o){var p=o(16),d=o(46),O=o(76),v=o(203),E=o(165),M=o(32),A=o(33),T=o(60),k=o(18),I=d("Reflect","construct"),C=Object.prototype,L=[].push,G=k(function(){function se(){}return!(I(function(){},[],se)instanceof se)}),W=!k(function(){I(function(){})}),ne=G||W;p({target:"Reflect",stat:!0,forced:ne,sham:ne},{construct:function(se,ie){E(se),M(ie);var Q=arguments.length<3?se:E(arguments[2]);if(W&&!G)return I(se,ie,Q);if(se==Q){switch(ie.length){case 0:return new se;case 1:return new se(ie[0]);case 2:return new se(ie[0],ie[1]);case 3:return new se(ie[0],ie[1],ie[2]);case 4:return new se(ie[0],ie[1],ie[2],ie[3])}var ee=[null];return O(L,ee,ie),new(O(v,se,ee))}var V=Q.prototype,B=T(A(V)?V:C),X=O(se,B,ie);return A(X)?X:B}})},function(s,f){var o=Function.prototype,p=o.bind,d=o.call,O=p&&p.bind(d);s.exports=p?function(v){return v&&O(d,v)}:function(v){return v&&function(){return d.apply(v,arguments)}}},function(s,f,o){var p=o(7),d=o(50).f,O=o(57),v=o(42),E=o(110),M=o(134),A=o(95);s.exports=function(T,k){var I,C,L,G,W,ne=T.target,se=T.global,ie=T.stat;if(I=se?p:ie?p[ne]||E(ne,{}):(p[ne]||{}).prototype)for(C in k){if(G=k[C],L=T.noTargetGet?(W=d(I,C))&&W.value:I[C],!A(se?C:ne+(ie?".":"#")+C,T.forced)&&L!==void 0){if(typeof G==typeof L)continue;M(G,L)}(T.sham||L&&L.sham)&&O(G,"sham",!0),v(I,C,G,T)}}},function(s,f,o){var p=o(16),d=o(7),O=o(96),v=o(99),E=o(33),M=o(75),A=o(45),T=o(41),k=o(63),I=o(28),C=o(81),L=o(98),G=C("slice"),W=I("species"),ne=d.Array,se=Math.max;p({target:"Array",proto:!0,forced:!G},{slice:function(ie,Q){var ee,V,B,X=T(this),Y=A(X),$=M(ie,Y),ae=M(Q===void 0?Y:Q,Y);if(O(X)&&(ee=X.constructor,(v(ee)&&(ee===ne||O(ee.prototype))||E(ee)&&(ee=ee[W])===null)&&(ee=void 0),ee===ne||ee===void 0))return L(X,$,ae);for(V=new(ee===void 0?ne:ee)(se(ae-$,0)),B=0;$<ae;$++,B++)$ in X&&k(V,B,X[$]);return V.length=B,V}})},function(s,f){s.exports=function(o){try{return!!o()}catch(p){return!0}}},function(s,f,o){var p=o(16),d=o(103);p({target:"RegExp",proto:!0,forced:/./.exec!==d},{exec:d})},function(s,f,o){var p=o(16),d=o(40),O=o(77);p({target:"Object",stat:!0,forced:o(18)(function(){O(1)})},{keys:function(v){return O(d(v))}})},function(s,f,o){var p=o(36),d=o(73).EXISTS,O=o(15),v=o(38).f,E=Function.prototype,M=O(E.toString),A=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,T=O(A.exec);p&&!d&&v(E,"name",{configurable:!0,get:function(){try{return T(A,M(this))[1]}catch(k){return""}}})},function(s,f,o){var p=o(16),d=o(18),O=o(41),v=o(50).f,E=o(36),M=d(function(){v(1)});p({target:"Object",stat:!0,forced:!E||M,sham:!E},{getOwnPropertyDescriptor:function(A,T){return v(O(A),T)}})},function(s,f,o){var p=o(16),d=o(188);p({target:"Array",stat:!0,forced:!o(120)(function(O){Array.from(O)})},{from:d})},function(s,f,o){var p=o(16),d=o(79).filter;p({target:"Array",proto:!0,forced:!o(81)("filter")},{filter:function(O){return d(this,O,arguments.length>1?arguments[1]:void 0)}})},function(s,f,o){var p=o(16),d=o(36),O=o(135),v=o(41),E=o(50),M=o(63);p({target:"Object",stat:!0,sham:!d},{getOwnPropertyDescriptors:function(A){for(var T,k,I=v(A),C=E.f,L=O(I),G={},W=0;L.length>W;)(k=C(I,T=L[W++]))!==void 0&&M(G,T,k);return G}})},function(s,f,o){var p=o(16),d=o(7),O=o(18),v=o(96),E=o(33),M=o(40),A=o(45),T=o(63),k=o(115),I=o(81),C=o(28),L=o(70),G=C("isConcatSpreadable"),W=9007199254740991,ne="Maximum allowed index exceeded",se=d.TypeError,ie=L>=51||!O(function(){var V=[];return V[G]=!1,V.concat()[0]!==V}),Q=I("concat"),ee=function(V){if(!E(V))return!1;var B=V[G];return B!==void 0?!!B:v(V)};p({target:"Array",proto:!0,forced:!ie||!Q},{concat:function(V){var B,X,Y,$,ae,xe=M(this),me=k(xe,0),Pe=0;for(B=-1,Y=arguments.length;B<Y;B++)if(ee(ae=B===-1?xe:arguments[B])){if(Pe+($=A(ae))>W)throw se(ne);for(X=0;X<$;X++,Pe++)X in ae&&T(me,Pe,ae[X])}else{if(Pe>=W)throw se(ne);T(me,Pe++,ae)}return me.length=Pe,me}})},,function(s,f,o){var p=o(7),d=o(89),O=o(35),v=o(90),E=o(108),M=o(132),A=d("wks"),T=p.Symbol,k=T&&T.for,I=M?T:T&&T.withoutSetter||v;s.exports=function(C){if(!O(A,C)||!E&&typeof A[C]!="string"){var L="Symbol."+C;E&&O(T,C)?A[C]=T[C]:A[C]=M&&k?k(L):I(L)}return A[C]}},function(s,f,o){var p=o(16),d=o(202);p({target:"Object",stat:!0,forced:Object.assign!==d},{assign:d})},function(s,f){s.exports=function(o){return typeof o=="function"}},function(s,f,o){var p=o(106),d=typeof self=="object"&&self&&self.Object===Object&&self,O=p.a||d||Function("return this")();f.a=O},function(s,f,o){var p=o(7),d=o(33),O=p.String,v=p.TypeError;s.exports=function(E){if(d(E))return E;throw v(O(E)+" is not an object")}},function(s,f,o){var p=o(30);s.exports=function(d){return typeof d=="object"?d!==null:p(d)}},function(s,f){var o=Function.prototype.call;s.exports=o.bind?o.bind(o):function(){return o.apply(o,arguments)}},function(s,f,o){var p=o(15),d=o(40),O=p({}.hasOwnProperty);s.exports=Object.hasOwn||function(v,E){return O(d(v),E)}},function(s,f,o){var p=o(18);s.exports=!p(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},function(s,f,o){var p=o(16),d=o(79).map;p({target:"Array",proto:!0,forced:!o(81)("map")},{map:function(O){return d(this,O,arguments.length>1?arguments[1]:void 0)}})},function(s,f,o){var p=o(7),d=o(36),O=o(133),v=o(32),E=o(86),M=p.TypeError,A=Object.defineProperty;f.f=d?A:function(T,k,I){if(v(T),k=E(k),v(I),O)try{return A(T,k,I)}catch(C){}if("get"in I||"set"in I)throw M("Accessors not supported");return"value"in I&&(T[k]=I.value),T}},function(s,f,o){var p=o(7),d=o(97),O=p.String;s.exports=function(v){if(d(v)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return O(v)}},function(s,f,o){var p=o(7),d=o(44),O=p.Object;s.exports=function(v){return O(d(v))}},function(s,f,o){var p=o(85),d=o(44);s.exports=function(O){return p(d(O))}},function(s,f,o){var p=o(7),d=o(30),O=o(35),v=o(57),E=o(110),M=o(92),A=o(58),T=o(73).CONFIGURABLE,k=A.get,I=A.enforce,C=String(String).split("String");(s.exports=function(L,G,W,ne){var se,ie=!!ne&&!!ne.unsafe,Q=!!ne&&!!ne.enumerable,ee=!!ne&&!!ne.noTargetGet,V=ne&&ne.name!==void 0?ne.name:G;d(W)&&(String(V).slice(0,7)==="Symbol("&&(V="["+String(V).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!O(W,"name")||T&&W.name!==V)&&v(W,"name",V),(se=I(W)).source||(se.source=C.join(typeof V=="string"?V:""))),L!==p?(ie?!ee&&L[G]&&(Q=!0):delete L[G],Q?L[G]=W:v(L,G,W)):Q?L[G]=W:E(G,W)})(Function.prototype,"toString",function(){return d(this)&&k(this).source||M(this)})},function(s,f,o){(function(p){o.d(f,"d",function(){return v}),o.d(f,"c",function(){return E}),o.d(f,"b",function(){return M}),o.d(f,"a",function(){return T});var d=o(10),O=function(k,I){var C=typeof Symbol=="function"&&k[Symbol.iterator];if(!C)return k;var L,G,W=C.call(k),ne=[];try{for(;(I===void 0||I-- >0)&&!(L=W.next()).done;)ne.push(L.value)}catch(se){G={error:se}}finally{try{L&&!L.done&&(C=W.return)&&C.call(W)}finally{if(G)throw G.error}}return ne};function v(){var k=O(Object(d.j)(0),2)[1];return Object(d.h)(function(){k(function(I){return I+1})},[])}function E(k){if(!k||typeof k!="object")return!1;var I=Object.getPrototypeOf(k);return!I||I===Object.prototype}function M(k){return typeof Symbol=="function"?Symbol.for(k):"__$mobx-react "+k+"__"}var A={};function T(){return typeof window!="undefined"?window:p!==void 0?p:typeof self!="undefined"?self:A}}).call(this,o(68))},function(s,f,o){var p=o(7).TypeError;s.exports=function(d){if(d==null)throw p("Can't call method on "+d);return d}},function(s,f,o){var p=o(94);s.exports=function(d){return p(d.length)}},function(s,f,o){var p=o(7),d=o(30),O=function(v){return d(v)?v:void 0};s.exports=function(v,E){return arguments.length<2?O(p[v]):p[v]&&p[v][E]}},function(s,f,o){var p=o(16),d=o(34),O=o(33),v=o(32),E=o(204),M=o(50),A=o(101);p({target:"Reflect",stat:!0},{get:function T(k,I){var C,L,G=arguments.length<3?k:arguments[2];return v(k)===G?k[I]:(C=M.f(k,I))?E(C)?C.value:C.get===void 0?void 0:d(C.get,G):O(L=A(k))?T(L,I,G):void 0}})},function(s,f,o){(function(p){var d=o(31),O=o(171),v=y&&!y.nodeType&&y,E=v&&typeof p=="object"&&p&&!p.nodeType&&p,M=E&&E.exports===v?d.a.Buffer:void 0,A=(M?M.isBuffer:void 0)||O.a;f.a=A}).call(this,o(122)(s))},function(s,f,o){(function(p){var d=o(106),O=y&&!y.nodeType&&y,v=O&&typeof p=="object"&&p&&!p.nodeType&&p,E=v&&v.exports===O&&d.a.process,M=function(){try{var A=v&&v.require&&v.require("util").types;return A||E&&E.binding&&E.binding("util")}catch(T){}}();f.a=M}).call(this,o(122)(s))},function(s,f,o){var p=o(36),d=o(34),O=o(84),v=o(69),E=o(41),M=o(86),A=o(35),T=o(133),k=Object.getOwnPropertyDescriptor;f.f=p?k:function(I,C){if(I=E(I),C=M(C),T)try{return k(I,C)}catch(L){}if(A(I,C))return v(!d(O.f,I,C),I[C])}},function(s,f,o){var p=o(15),d=p({}.toString),O=p("".slice);s.exports=function(v){return O(d(v),8,-1)}},function(s,f,o){o(182)("Map",function(p){return function(){return p(this,arguments.length?arguments[0]:void 0)}},o(186))},function(s,f,o){var p=o(16),d=o(220).entries;p({target:"Object",stat:!0},{entries:function(O){return d(O)}})},function(s,f,o){var p=o(15);s.exports=p({}.isPrototypeOf)},function(s,f,o){var p=o(46);s.exports=p("navigator","userAgent")||""},function(s,f,o){var p=o(7),d=o(30),O=o(88),v=p.TypeError;s.exports=function(E){if(d(E))return E;throw v(O(E)+" is not a function")}},function(s,f,o){var p=o(36),d=o(38),O=o(69);s.exports=p?function(v,E,M){return d.f(v,E,O(1,M))}:function(v,E,M){return v[E]=M,v}},function(s,f,o){var p,d,O,v=o(175),E=o(7),M=o(15),A=o(33),T=o(57),k=o(35),I=o(109),C=o(93),L=o(72),G="Object already initialized",W=E.TypeError,ne=E.WeakMap;if(v||I.state){var se=I.state||(I.state=new ne),ie=M(se.get),Q=M(se.has),ee=M(se.set);p=function(B,X){if(Q(se,B))throw new W(G);return X.facade=B,ee(se,B,X),X},d=function(B){return ie(se,B)||{}},O=function(B){return Q(se,B)}}else{var V=C("state");L[V]=!0,p=function(B,X){if(k(B,V))throw new W(G);return X.facade=B,T(B,V,X),X},d=function(B){return k(B,V)?B[V]:{}},O=function(B){return k(B,V)}}s.exports={set:p,get:d,has:O,enforce:function(B){return O(B)?d(B):p(B,{})},getterFor:function(B){return function(X){var Y;if(!A(X)||(Y=d(X)).type!==B)throw W("Incompatible receiver, "+B+" required");return Y}}}},function(s,f){var o=Math.ceil,p=Math.floor;s.exports=function(d){var O=+d;return O!=O||O===0?0:(O>0?p:o)(O)}},function(s,f,o){var p,d=o(32),O=o(176),v=o(111),E=o(72),M=o(138),A=o(91),T=o(93),k=T("IE_PROTO"),I=function(){},C=function(W){return"<script>"+W+"<\/script>"},L=function(W){W.write(C("")),W.close();var ne=W.parentWindow.Object;return W=null,ne},G=function(){try{p=new ActiveXObject("htmlfile")}catch(ie){}var W,ne;G=typeof document!="undefined"?document.domain&&p?L(p):((ne=A("iframe")).style.display="none",M.appendChild(ne),ne.src="javascript:",(W=ne.contentWindow.document).open(),W.write(C("document.F=Object")),W.close(),W.F):L(p);for(var se=v.length;se--;)delete G.prototype[v[se]];return G()};E[k]=!0,s.exports=Object.create||function(W,ne){var se;return W!==null?(I.prototype=d(W),se=new I,I.prototype=null,se[k]=W):se=G(),ne===void 0?se:O(se,ne)}},function(s,f,o){var p=o(36),d=o(7),O=o(15),v=o(95),E=o(42),M=o(35),A=o(148),T=o(54),k=o(87),I=o(131),C=o(18),L=o(74).f,G=o(50).f,W=o(38).f,ne=o(160),se=o(161).trim,ie="Number",Q=d.Number,ee=Q.prototype,V=d.TypeError,B=O("".slice),X=O("".charCodeAt),Y=function(ze){var Se=I(ze,"number");return typeof Se=="bigint"?Se:$(Se)},$=function(ze){var Se,ve,je,Ae,Fe,tt,_t,Ye,$e=I(ze,"number");if(k($e))throw V("Cannot convert a Symbol value to a number");if(typeof $e=="string"&&$e.length>2){if($e=se($e),(Se=X($e,0))===43||Se===45){if((ve=X($e,2))===88||ve===120)return NaN}else if(Se===48){switch(X($e,1)){case 66:case 98:je=2,Ae=49;break;case 79:case 111:je=8,Ae=55;break;default:return+$e}for(tt=(Fe=B($e,2)).length,_t=0;_t<tt;_t++)if((Ye=X(Fe,_t))<48||Ye>Ae)return NaN;return parseInt(Fe,je)}}return+$e};if(v(ie,!Q(" 0o1")||!Q("0b1")||Q("+0x1"))){for(var ae,xe=function(ze){var Se=arguments.length<1?0:Q(Y(ze)),ve=this;return T(ee,ve)&&C(function(){ne(ve)})?A(Object(Se),ve,xe):Se},me=p?L(Q):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),Pe=0;me.length>Pe;Pe++)M(Q,ae=me[Pe])&&!M(xe,ae)&&W(xe,ae,G(Q,ae));xe.prototype=ee,ee.constructor=xe,E(d,ie,xe)}},function(s,f,o){var p=o(56);s.exports=function(d,O){var v=d[O];return v==null?void 0:p(v)}},function(s,f,o){var p=o(86),d=o(38),O=o(69);s.exports=function(v,E,M){var A=p(E);A in v?d.f(v,A,O(0,M)):v[A]=M}},function(s,f,o){var p=o(15),d=o(56),O=p(p.bind);s.exports=function(v,E){return d(v),E===void 0?v:O?O(v,E):function(){return v.apply(E,arguments)}}},function(s,f,o){var p=o(16),d=o(15),O=o(85),v=o(41),E=o(121),M=d([].join),A=O!=Object,T=E("join",",");p({target:"Array",proto:!0,forced:A||!T},{join:function(k){return M(v(this),k===void 0?",":k)}})},function(s,f,o){var p=o(15),d=o(73).PROPER,O=o(42),v=o(32),E=o(54),M=o(39),A=o(18),T=o(154),k="toString",I=RegExp.prototype,C=I.toString,L=p(T),G=A(function(){return C.call({source:"a",flags:"b"})!="/a/b"}),W=d&&C.name!=k;(G||W)&&O(RegExp.prototype,k,function(){var ne=v(this),se=M(ne.source),ie=ne.flags;return"/"+se+"/"+M(ie===void 0&&E(I,ne)&&!("flags"in I)?L(ne):ie)},{unsafe:!0})},function(s,f,o){var p=o(16),d=o(217),O=o(100);p({target:"Array",proto:!0},{fill:d}),O("fill")},function(s,f){var o;o=function(){return this}();try{o=o||new Function("return this")()}catch(p){typeof window=="object"&&(o=window)}s.exports=o},function(s,f){s.exports=function(o,p){return{enumerable:!(1&o),configurable:!(2&o),writable:!(4&o),value:p}}},function(s,f,o){var p,d,O=o(7),v=o(55),E=O.process,M=O.Deno,A=E&&E.versions||M&&M.version,T=A&&A.v8;T&&(d=(p=T.split("."))[0]>0&&p[0]<4?1:+(p[0]+p[1])),!d&&v&&(!(p=v.match(/Edge\/(\d+)/))||p[1]>=74)&&(p=v.match(/Chrome\/(\d+)/))&&(d=+p[1]),s.exports=d},function(s,f){s.exports=!1},function(s,f){s.exports={}},function(s,f,o){var p=o(36),d=o(35),O=Function.prototype,v=p&&Object.getOwnPropertyDescriptor,E=d(O,"name"),M=E&&function(){}.name==="something",A=E&&(!p||p&&v(O,"name").configurable);s.exports={EXISTS:E,PROPER:M,CONFIGURABLE:A}},function(s,f,o){var p=o(136),d=o(111).concat("length","prototype");f.f=Object.getOwnPropertyNames||function(O){return p(O,d)}},function(s,f,o){var p=o(59),d=Math.max,O=Math.min;s.exports=function(v,E){var M=p(v);return M<0?d(M+E,0):O(M,E)}},function(s,f){var o=Function.prototype,p=o.apply,d=o.bind,O=o.call;s.exports=typeof Reflect=="object"&&Reflect.apply||(d?O.bind(p):function(){return O.apply(p,arguments)})},function(s,f,o){var p=o(136),d=o(111);s.exports=Object.keys||function(O){return p(O,d)}},function(s,f,o){var p=o(38).f,d=o(35),O=o(28)("toStringTag");s.exports=function(v,E,M){v&&!d(v=M?v:v.prototype,O)&&p(v,O,{configurable:!0,value:E})}},function(s,f,o){var p=o(64),d=o(15),O=o(85),v=o(40),E=o(45),M=o(115),A=d([].push),T=function(k){var I=k==1,C=k==2,L=k==3,G=k==4,W=k==6,ne=k==7,se=k==5||W;return function(ie,Q,ee,V){for(var B,X,Y=v(ie),$=O(Y),ae=p(Q,ee),xe=E($),me=0,Pe=V||M,ze=I?Pe(ie,xe):C||ne?Pe(ie,0):void 0;xe>me;me++)if((se||me in $)&&(X=ae(B=$[me],me,Y),k))if(I)ze[me]=X;else if(X)switch(k){case 3:return!0;case 5:return B;case 6:return me;case 2:A(ze,B)}else switch(k){case 4:return!1;case 7:A(ze,B)}return W?-1:L||G?G:ze}};s.exports={forEach:T(0),map:T(1),filter:T(2),some:T(3),every:T(4),find:T(5),findIndex:T(6),filterReject:T(7)}},function(s,f){s.exports={}},function(s,f,o){var p=o(18),d=o(28),O=o(70),v=d("species");s.exports=function(E){return O>=51||!p(function(){var M=[];return(M.constructor={})[v]=function(){return{foo:1}},M[E](Boolean).foo!==1})}},function(s,f,o){var p=o(76),d=o(34),O=o(15),v=o(123),E=o(159),M=o(32),A=o(44),T=o(164),k=o(124),I=o(94),C=o(39),L=o(62),G=o(114),W=o(125),ne=o(103),se=o(155),ie=o(18),Q=se.UNSUPPORTED_Y,ee=4294967295,V=Math.min,B=[].push,X=O(/./.exec),Y=O(B),$=O("".slice),ae=!ie(function(){var xe=/(?:)/,me=xe.exec;xe.exec=function(){return me.apply(this,arguments)};var Pe="ab".split(xe);return Pe.length!==2||Pe[0]!=="a"||Pe[1]!=="b"});v("split",function(xe,me,Pe){var ze;return ze="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?function(Se,ve){var je=C(A(this)),Ae=ve===void 0?ee:ve>>>0;if(Ae===0)return[];if(Se===void 0)return[je];if(!E(Se))return d(me,je,Se,Ae);for(var Fe,tt,_t,Ye=[],$e=(Se.ignoreCase?"i":"")+(Se.multiline?"m":"")+(Se.unicode?"u":"")+(Se.sticky?"y":""),gt=0,le=new RegExp(Se.source,$e+"g");(Fe=d(ne,le,je))&&!((tt=le.lastIndex)>gt&&(Y(Ye,$(je,gt,Fe.index)),Fe.length>1&&Fe.index<je.length&&p(B,Ye,G(Fe,1)),_t=Fe[0].length,gt=tt,Ye.length>=Ae));)le.lastIndex===Fe.index&&le.lastIndex++;return gt===je.length?!_t&&X(le,"")||Y(Ye,""):Y(Ye,$(je,gt)),Ye.length>Ae?G(Ye,0,Ae):Ye}:"0".split(void 0,0).length?function(Se,ve){return Se===void 0&&ve===0?[]:d(me,this,Se,ve)}:me,[function(Se,ve){var je=A(this),Ae=Se==null?void 0:L(Se,xe);return Ae?d(Ae,Se,je,ve):d(ze,C(je),Se,ve)},function(Se,ve){var je=M(this),Ae=C(Se),Fe=Pe(ze,je,Ae,ve,ze!==me);if(Fe.done)return Fe.value;var tt=T(je,RegExp),_t=je.unicode,Ye=(je.ignoreCase?"i":"")+(je.multiline?"m":"")+(je.unicode?"u":"")+(Q?"g":"y"),$e=new tt(Q?"^(?:"+je.source+")":je,Ye),gt=ve===void 0?ee:ve>>>0;if(gt===0)return[];if(Ae.length===0)return W($e,Ae)===null?[Ae]:[];for(var le=0,ue=0,he=[];ue<Ae.length;){$e.lastIndex=Q?0:ue;var Te,Ge=W($e,Q?$(Ae,ue):Ae);if(Ge===null||(Te=V(I($e.lastIndex+(Q?ue:0)),Ae.length))===le)ue=k(Ae,ue,_t);else{if(Y(he,$(Ae,le,ue)),he.length===gt)return he;for(var Ie=1;Ie<=Ge.length-1;Ie++)if(Y(he,Ge[Ie]),he.length===gt)return he;ue=le=Te}}return Y(he,$(Ae,le)),he}]},!ae,Q)},function(s,f,o){o(16)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(s,f,o){var p={}.propertyIsEnumerable,d=Object.getOwnPropertyDescriptor,O=d&&!p.call({1:2},1);f.f=O?function(v){var E=d(this,v);return!!E&&E.enumerable}:p},function(s,f,o){var p=o(7),d=o(15),O=o(18),v=o(51),E=p.Object,M=d("".split);s.exports=O(function(){return!E("z").propertyIsEnumerable(0)})?function(A){return v(A)=="String"?M(A,""):E(A)}:E},function(s,f,o){var p=o(131),d=o(87);s.exports=function(O){var v=p(O,"string");return d(v)?v:v+""}},function(s,f,o){var p=o(7),d=o(46),O=o(30),v=o(54),E=o(132),M=p.Object;s.exports=E?function(A){return typeof A=="symbol"}:function(A){var T=d("Symbol");return O(T)&&v(T.prototype,M(A))}},function(s,f,o){var p=o(7).String;s.exports=function(d){try{return p(d)}catch(O){return"Object"}}},function(s,f,o){var p=o(71),d=o(109);(s.exports=function(O,v){return d[O]||(d[O]=v!==void 0?v:{})})("versions",[]).push({version:"3.19.3",mode:p?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},function(s,f,o){var p=o(15),d=0,O=Math.random(),v=p(1 .toString);s.exports=function(E){return"Symbol("+(E===void 0?"":E)+")_"+v(++d+O,36)}},function(s,f,o){var p=o(7),d=o(33),O=p.document,v=d(O)&&d(O.createElement);s.exports=function(E){return v?O.createElement(E):{}}},function(s,f,o){var p=o(15),d=o(30),O=o(109),v=p(Function.toString);d(O.inspectSource)||(O.inspectSource=function(E){return v(E)}),s.exports=O.inspectSource},function(s,f,o){var p=o(89),d=o(90),O=p("keys");s.exports=function(v){return O[v]||(O[v]=d(v))}},function(s,f,o){var p=o(59),d=Math.min;s.exports=function(O){return O>0?d(p(O),9007199254740991):0}},function(s,f,o){var p=o(18),d=o(30),O=/#|\.prototype\./,v=function(k,I){var C=M[E(k)];return C==T||C!=A&&(d(I)?p(I):!!I)},E=v.normalize=function(k){return String(k).replace(O,".").toLowerCase()},M=v.data={},A=v.NATIVE="N",T=v.POLYFILL="P";s.exports=v},function(s,f,o){var p=o(51);s.exports=Array.isArray||function(d){return p(d)=="Array"}},function(s,f,o){var p=o(7),d=o(113),O=o(30),v=o(51),E=o(28)("toStringTag"),M=p.Object,A=v(function(){return arguments}())=="Arguments";s.exports=d?v:function(T){var k,I,C;return T===void 0?"Undefined":T===null?"Null":typeof(I=function(L,G){try{return L[G]}catch(W){}}(k=M(T),E))=="string"?I:A?v(k):(C=v(k))=="Object"&&O(k.callee)?"Arguments":C}},function(s,f,o){var p=o(15);s.exports=p([].slice)},function(s,f,o){var p=o(15),d=o(18),O=o(30),v=o(97),E=o(46),M=o(92),A=function(){},T=[],k=E("Reflect","construct"),I=/^\s*(?:class|function)\b/,C=p(I.exec),L=!I.exec(A),G=function(W){if(!O(W))return!1;try{return k(A,T,W),!0}catch(ne){return!1}};s.exports=!k||d(function(){var W;return G(G.call)||!G(Object)||!G(function(){W=!0})||W})?function(W){if(!O(W))return!1;switch(v(W)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return L||!!C(I,M(W))}:G},function(s,f,o){var p=o(28),d=o(60),O=o(38),v=p("unscopables"),E=Array.prototype;E[v]==null&&O.f(E,v,{configurable:!0,value:d(null)}),s.exports=function(M){E[v][M]=!0}},function(s,f,o){var p=o(7),d=o(35),O=o(30),v=o(40),E=o(93),M=o(143),A=E("IE_PROTO"),T=p.Object,k=T.prototype;s.exports=M?T.getPrototypeOf:function(I){var C=v(I);if(d(C,A))return C[A];var L=C.constructor;return O(L)&&C instanceof L?L.prototype:C instanceof T?k:null}},function(s,f,o){var p=o(15),d=o(32),O=o(181);s.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var v,E=!1,M={};try{(v=p(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(M,[]),E=M instanceof Array}catch(A){}return function(A,T){return d(A),O(T),E?v(A,T):A.__proto__=T,A}}():void 0)},function(s,f,o){var p,d,O=o(34),v=o(15),E=o(39),M=o(154),A=o(155),T=o(89),k=o(60),I=o(58).get,C=o(190),L=o(191),G=T("native-string-replace",String.prototype.replace),W=RegExp.prototype.exec,ne=W,se=v("".charAt),ie=v("".indexOf),Q=v("".replace),ee=v("".slice),V=(d=/b*/g,O(W,p=/a/,"a"),O(W,d,"a"),p.lastIndex!==0||d.lastIndex!==0),B=A.BROKEN_CARET,X=/()??/.exec("")[1]!==void 0;(V||X||B||C||L)&&(ne=function(Y){var $,ae,xe,me,Pe,ze,Se,ve=this,je=I(ve),Ae=E(Y),Fe=je.raw;if(Fe)return Fe.lastIndex=ve.lastIndex,$=O(ne,Fe,Ae),ve.lastIndex=Fe.lastIndex,$;var tt=je.groups,_t=B&&ve.sticky,Ye=O(M,ve),$e=ve.source,gt=0,le=Ae;if(_t&&(Ye=Q(Ye,"y",""),ie(Ye,"g")===-1&&(Ye+="g"),le=ee(Ae,ve.lastIndex),ve.lastIndex>0&&(!ve.multiline||ve.multiline&&se(Ae,ve.lastIndex-1)!==`
`)&&($e="(?: "+$e+")",le=" "+le,gt++),ae=new RegExp("^(?:"+$e+")",Ye)),X&&(ae=new RegExp("^"+$e+"$(?!\\s)",Ye)),V&&(xe=ve.lastIndex),me=O(W,_t?ae:ve,le),_t?me?(me.input=ee(me.input,gt),me[0]=ee(me[0],gt),me.index=ve.lastIndex,ve.lastIndex+=me[0].length):ve.lastIndex=0:V&&me&&(ve.lastIndex=ve.global?me.index+me[0].length:xe),X&&me&&me.length>1&&O(G,me[0],ae,function(){for(Pe=1;Pe<arguments.length-2;Pe++)arguments[Pe]===void 0&&(me[Pe]=void 0)}),me&&tt)for(me.groups=ze=k(null),Pe=0;Pe<tt.length;Pe++)ze[(Se=tt[Pe])[0]]=me[Se[1]];return me}),s.exports=ne},function(s,f,o){var p=o(16),d=o(7),O=o(75),v=o(59),E=o(45),M=o(40),A=o(115),T=o(63),k=o(81)("splice"),I=d.TypeError,C=Math.max,L=Math.min,G=9007199254740991,W="Maximum allowed length exceeded";p({target:"Array",proto:!0,forced:!k},{splice:function(ne,se){var ie,Q,ee,V,B,X,Y=M(this),$=E(Y),ae=O(ne,$),xe=arguments.length;if(xe===0?ie=Q=0:xe===1?(ie=0,Q=$-ae):(ie=xe-2,Q=L(C(v(se),0),$-ae)),$+ie-Q>G)throw I(W);for(ee=A(Y,Q),V=0;V<Q;V++)(B=ae+V)in Y&&T(ee,V,Y[B]);if(ee.length=Q,ie<Q){for(V=ae;V<$-Q;V++)X=V+ie,(B=V+Q)in Y?Y[X]=Y[B]:delete Y[X];for(V=$;V>$-Q+ie;V--)delete Y[V-1]}else if(ie>Q)for(V=$-Q;V>ae;V--)X=V+ie-1,(B=V+Q-1)in Y?Y[X]=Y[B]:delete Y[X];for(V=0;V<ie;V++)Y[V+ae]=arguments[V+2];return Y.length=$-Q+ie,ee}})},function(s,f,o){var p=o(16),d=o(205);p({target:"String",proto:!0,forced:o(206)("anchor")},{anchor:function(O){return d(this,"a","name",O)}})},function(s,f,o){(function(p){var d=typeof p=="object"&&p&&p.Object===Object&&p;f.a=d}).call(this,o(68))},function(s,f,o){(function(p){var d=o(31),O=y&&!y.nodeType&&y,v=O&&typeof p=="object"&&p&&!p.nodeType&&p,E=v&&v.exports===O?d.a.Buffer:void 0,M=E?E.allocUnsafe:void 0;f.a=function(A,T){if(T)return A.slice();var k=A.length,I=M?M(k):new A.constructor(k);return A.copy(I),I}}).call(this,o(122)(s))},function(s,f,o){var p=o(70),d=o(18);s.exports=!!Object.getOwnPropertySymbols&&!d(function(){var O=Symbol();return!String(O)||!(Object(O)instanceof Symbol)||!Symbol.sham&&p&&p<41})},function(s,f,o){var p=o(7),d=o(110),O="__core-js_shared__",v=p[O]||d(O,{});s.exports=v},function(s,f,o){var p=o(7),d=Object.defineProperty;s.exports=function(O,v){try{d(p,O,{value:v,configurable:!0,writable:!0})}catch(E){p[O]=v}return v}},function(s,f){s.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(s,f){f.f=Object.getOwnPropertySymbols},function(s,f,o){var p={};p[o(28)("toStringTag")]="z",s.exports=String(p)==="[object z]"},function(s,f,o){var p=o(7),d=o(75),O=o(45),v=o(63),E=p.Array,M=Math.max;s.exports=function(A,T,k){for(var I=O(A),C=d(T,I),L=d(k===void 0?I:k,I),G=E(M(L-C,0)),W=0;C<L;C++,W++)v(G,W,A[C]);return G.length=W,G}},function(s,f,o){var p=o(178);s.exports=function(d,O){return new(p(d))(O===0?0:O)}},function(s,f,o){var p=o(16),d=o(34),O=o(71),v=o(73),E=o(30),M=o(180),A=o(101),T=o(102),k=o(78),I=o(57),C=o(42),L=o(28),G=o(80),W=o(142),ne=v.PROPER,se=v.CONFIGURABLE,ie=W.IteratorPrototype,Q=W.BUGGY_SAFARI_ITERATORS,ee=L("iterator"),V="keys",B="values",X="entries",Y=function(){return this};s.exports=function($,ae,xe,me,Pe,ze,Se){M(xe,ae,me);var ve,je,Ae,Fe=function(ue){if(ue===Pe&&gt)return gt;if(!Q&&ue in Ye)return Ye[ue];switch(ue){case V:case B:case X:return function(){return new xe(this,ue)}}return function(){return new xe(this)}},tt=ae+" Iterator",_t=!1,Ye=$.prototype,$e=Ye[ee]||Ye["@@iterator"]||Pe&&Ye[Pe],gt=!Q&&$e||Fe(Pe),le=ae=="Array"&&Ye.entries||$e;if(le&&(ve=A(le.call(new $)))!==Object.prototype&&ve.next&&(O||A(ve)===ie||(T?T(ve,ie):E(ve[ee])||C(ve,ee,Y)),k(ve,tt,!0,!0),O&&(G[tt]=Y)),ne&&Pe==B&&$e&&$e.name!==B&&(!O&&se?I(Ye,"name",B):(_t=!0,gt=function(){return d($e,this)})),Pe)if(je={values:Fe(B),keys:ze?gt:Fe(V),entries:Fe(X)},Se)for(Ae in je)(Q||_t||!(Ae in Ye))&&C(Ye,Ae,je[Ae]);else p({target:ae,proto:!0,forced:Q||_t},je);return O&&!Se||Ye[ee]===gt||C(Ye,ee,gt,{name:Pe}),G[ae]=gt,je}},function(s,f,o){var p=o(7),d=o(64),O=o(34),v=o(32),E=o(88),M=o(145),A=o(45),T=o(54),k=o(146),I=o(118),C=o(147),L=p.TypeError,G=function(ne,se){this.stopped=ne,this.result=se},W=G.prototype;s.exports=function(ne,se,ie){var Q,ee,V,B,X,Y,$,ae=ie&&ie.that,xe=!(!ie||!ie.AS_ENTRIES),me=!(!ie||!ie.IS_ITERATOR),Pe=!(!ie||!ie.INTERRUPTED),ze=d(se,ae),Se=function(je){return Q&&C(Q,"normal",je),new G(!0,je)},ve=function(je){return xe?(v(je),Pe?ze(je[0],je[1],Se):ze(je[0],je[1])):Pe?ze(je,Se):ze(je)};if(me)Q=ne;else{if(!(ee=I(ne)))throw L(E(ne)+" is not iterable");if(M(ee)){for(V=0,B=A(ne);B>V;V++)if((X=ve(ne[V]))&&T(W,X))return X;return new G(!1)}Q=k(ne,ee)}for(Y=Q.next;!($=O(Y,Q)).done;){try{X=ve($.value)}catch(je){C(Q,"throw",je)}if(typeof X=="object"&&X&&T(W,X))return X}return new G(!1)}},function(s,f,o){var p=o(97),d=o(62),O=o(80),v=o(28)("iterator");s.exports=function(E){if(E!=null)return d(E,v)||d(E,"@@iterator")||O[p(E)]}},function(s,f,o){var p=o(7),d=o(54),O=p.TypeError;s.exports=function(v,E){if(d(E,v))return v;throw O("Incorrect invocation")}},function(s,f,o){var p=o(28)("iterator"),d=!1;try{var O=0,v={next:function(){return{done:!!O++}},return:function(){d=!0}};v[p]=function(){return this},Array.from(v,function(){throw 2})}catch(E){}s.exports=function(E,M){if(!M&&!d)return!1;var A=!1;try{var T={};T[p]=function(){return{next:function(){return{done:A=!0}}}},E(T)}catch(k){}return A}},function(s,f,o){var p=o(18);s.exports=function(d,O){var v=[][d];return!!v&&p(function(){v.call(null,O||function(){throw 1},1)})}},function(s,f){s.exports=function(o){if(!o.webpackPolyfill){var p=Object.create(o);p.children||(p.children=[]),Object.defineProperty(p,"loaded",{enumerable:!0,get:function(){return p.l}}),Object.defineProperty(p,"id",{enumerable:!0,get:function(){return p.i}}),Object.defineProperty(p,"exports",{enumerable:!0}),p.webpackPolyfill=1}return p}},function(s,f,o){o(19);var p=o(15),d=o(42),O=o(103),v=o(18),E=o(28),M=o(57),A=E("species"),T=RegExp.prototype;s.exports=function(k,I,C,L){var G=E(k),W=!v(function(){var Q={};return Q[G]=function(){return 7},""[k](Q)!=7}),ne=W&&!v(function(){var Q=!1,ee=/a/;return k==="split"&&((ee={}).constructor={},ee.constructor[A]=function(){return ee},ee.flags="",ee[G]=/./[G]),ee.exec=function(){return Q=!0,null},ee[G](""),!Q});if(!W||!ne||C){var se=p(/./[G]),ie=I(G,""[k],function(Q,ee,V,B,X){var Y=p(Q),$=ee.exec;return $===O||$===T.exec?W&&!X?{done:!0,value:se(ee,V,B)}:{done:!0,value:Y(V,ee,B)}:{done:!1}});d(String.prototype,k,ie[0]),d(T,G,ie[1])}L&&M(T[G],"sham",!0)}},function(s,f,o){var p=o(151).charAt;s.exports=function(d,O,v){return O+(v?p(d,O).length:1)}},function(s,f,o){var p=o(7),d=o(34),O=o(32),v=o(30),E=o(51),M=o(103),A=p.TypeError;s.exports=function(T,k){var I=T.exec;if(v(I)){var C=d(I,T,k);return C!==null&&O(C),C}if(E(T)==="RegExp")return d(M,T,k);throw A("RegExp#exec called on incompatible receiver")}},function(s,f,o){var p=o(76),d=o(34),O=o(15),v=o(123),E=o(18),M=o(32),A=o(30),T=o(59),k=o(94),I=o(39),C=o(44),L=o(124),G=o(62),W=o(201),ne=o(125),se=o(28)("replace"),ie=Math.max,Q=Math.min,ee=O([].concat),V=O([].push),B=O("".indexOf),X=O("".slice),Y="a".replace(/./,"$0")==="$0",$=!!/./[se]&&/./[se]("a","$0")==="";v("replace",function(ae,xe,me){var Pe=$?"$":"$0";return[function(ze,Se){var ve=C(this),je=ze==null?void 0:G(ze,se);return je?d(je,ze,ve,Se):d(xe,I(ve),ze,Se)},function(ze,Se){var ve=M(this),je=I(ze);if(typeof Se=="string"&&B(Se,Pe)===-1&&B(Se,"$<")===-1){var Ae=me(xe,ve,je,Se);if(Ae.done)return Ae.value}var Fe=A(Se);Fe||(Se=I(Se));var tt=ve.global;if(tt){var _t=ve.unicode;ve.lastIndex=0}for(var Ye=[];;){var $e=ne(ve,je);if($e===null||(V(Ye,$e),!tt))break;I($e[0])===""&&(ve.lastIndex=L(je,k(ve.lastIndex),_t))}for(var gt,le="",ue=0,he=0;he<Ye.length;he++){for(var Te=I(($e=Ye[he])[0]),Ge=ie(Q(T($e.index),je.length),0),Ie=[],Ot=1;Ot<$e.length;Ot++)V(Ie,(gt=$e[Ot])===void 0?gt:String(gt));var At=$e.groups;if(Fe){var Et=ee([Te],Ie,Ge,je);At!==void 0&&V(Et,At);var ht=I(p(Se,void 0,Et))}else ht=W(Te,je,Ge,Ie,At,Se);Ge>=ue&&(le+=X(je,ue,Ge)+ht,ue=Ge+Te.length)}return le+X(je,ue)}]},!!E(function(){var ae=/./;return ae.exec=function(){var xe=[];return xe.groups={a:"7"},xe},"".replace(ae,"$<a>")!=="7"})||!Y||$)},function(s,f,o){var p=o(16),d=Math.hypot,O=Math.abs,v=Math.sqrt;p({target:"Math",stat:!0,forced:!!d&&d(1/0,NaN)!==1/0},{hypot:function(E,M){for(var A,T,k=0,I=0,C=arguments.length,L=0;I<C;)L<(A=O(arguments[I++]))?(k=k*(T=L/A)*T+1,L=A):k+=A>0?(T=A/L)*T:A;return L===1/0?1/0:L*v(k)}})},function(s,f,o){var p=o(51),d=o(7);s.exports=p(d.process)=="process"},function(s,f,o){o(16)({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(s,f,o){(function(p,d){var O;/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var v,E="Expected a function",M="__lodash_hash_undefined__",A="__lodash_placeholder__",T=16,k=32,I=64,C=128,L=256,G=1/0,W=9007199254740991,ne=NaN,se=4294967295,ie=[["ary",C],["bind",1],["bindKey",2],["curry",8],["curryRight",T],["flip",512],["partial",k],["partialRight",I],["rearg",L]],Q="[object Arguments]",ee="[object Array]",V="[object Boolean]",B="[object Date]",X="[object Error]",Y="[object Function]",$="[object GeneratorFunction]",ae="[object Map]",xe="[object Number]",me="[object Object]",Pe="[object Promise]",ze="[object RegExp]",Se="[object Set]",ve="[object String]",je="[object Symbol]",Ae="[object WeakMap]",Fe="[object ArrayBuffer]",tt="[object DataView]",_t="[object Float32Array]",Ye="[object Float64Array]",$e="[object Int8Array]",gt="[object Int16Array]",le="[object Int32Array]",ue="[object Uint8Array]",he="[object Uint8ClampedArray]",Te="[object Uint16Array]",Ge="[object Uint32Array]",Ie=/\b__p \+= '';/g,Ot=/\b(__p \+=) '' \+/g,At=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Et=/&(?:amp|lt|gt|quot|#39);/g,ht=/[&<>"']/g,Me=RegExp(Et.source),ut=RegExp(ht.source),fe=/<%-([\s\S]+?)%>/g,rt=/<%([\s\S]+?)%>/g,Rt=/<%=([\s\S]+?)%>/g,rn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,It=/^\w*$/,Zt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,fn=/[\\^$.*+?()[\]{}|]/g,bn=RegExp(fn.source),Dt=/^\s+/,Nn=/\s/,q=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,de=/\{\n\/\* \[wrapped with (.+)\] \*/,oe=/,? & /,be=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ve=/[()=,{}\[\]\/\s]/,We=/\\(\\)?/g,lt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ut=/\w*$/,Yn=/^[-+]0x[0-9a-f]+$/i,nr=/^0b[01]+$/i,Cn=/^\[object .+?Constructor\]$/,Fn=/^0o[0-7]+$/i,ot=/^(?:0|[1-9]\d*)$/,mt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,xt=/($^)/,Nt=/['\n\r\u2028\u2029\\]/g,sn="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Sn="\\u2700-\\u27bf",Oo="a-z\\xdf-\\xf6\\xf8-\\xff",io="A-Z\\xc0-\\xd6\\xd8-\\xde",wo="\\ufe0e\\ufe0f",ci="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",bs="['’]",Wa="[\\ud800-\\udfff]",zr="["+ci+"]",Di="["+sn+"]",ct="\\d+",_s="[\\u2700-\\u27bf]",Ka="["+Oo+"]",$a="[^\\ud800-\\udfff"+ci+ct+Sn+Oo+io+"]",mr="\\ud83c[\\udffb-\\udfff]",Mr="[^\\ud800-\\udfff]",oa="(?:\\ud83c[\\udde6-\\uddff]){2}",qr="[\\ud800-\\udbff][\\udc00-\\udfff]",Br="["+io+"]",Jr="(?:"+Ka+"|"+$a+")",Za="(?:"+Br+"|"+$a+")",qa="(?:['’](?:d|ll|m|re|s|t|ve))?",Ku="(?:['’](?:D|LL|M|RE|S|T|VE))?",Ni="(?:"+Di+"|"+mr+")?",$u="[\\ufe0e\\ufe0f]?",Ja=$u+Ni+("(?:\\u200d(?:"+[Mr,oa,qr].join("|")+")"+$u+Ni+")*"),Os="(?:"+[_s,oa,qr].join("|")+")"+Ja,Uo="(?:"+[Mr+Di+"?",Di,oa,qr,Wa].join("|")+")",Zu=RegExp(bs,"g"),xo=RegExp(Di,"g"),Qa=RegExp(mr+"(?="+mr+")|"+Uo+Ja,"g"),ia=RegExp([Br+"?"+Ka+"+"+qa+"(?="+[zr,Br,"$"].join("|")+")",Za+"+"+Ku+"(?="+[zr,Br+Jr,"$"].join("|")+")",Br+"?"+Jr+"+"+qa,Br+"+"+Ku,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ct,Os].join("|"),"g"),eu=RegExp("[\\u200d\\ud800-\\udfff"+sn+wo+"]"),tu=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ws=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],qu=-1,an={};an[_t]=an[Ye]=an[$e]=an[gt]=an[le]=an[ue]=an[he]=an[Te]=an[Ge]=!0,an[Q]=an[ee]=an[Fe]=an[V]=an[tt]=an[B]=an[X]=an[Y]=an[ae]=an[xe]=an[me]=an[ze]=an[Se]=an[ve]=an[Ae]=!1;var on={};on[Q]=on[ee]=on[Fe]=on[tt]=on[V]=on[B]=on[_t]=on[Ye]=on[$e]=on[gt]=on[le]=on[ae]=on[xe]=on[me]=on[ze]=on[Se]=on[ve]=on[je]=on[ue]=on[he]=on[Te]=on[Ge]=!0,on[X]=on[Y]=on[Ae]=!1;var Ju={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},si=parseFloat,Eo=parseInt,nu=typeof p=="object"&&p&&p.Object===Object&&p,Qu=typeof self=="object"&&self&&self.Object===Object&&self,kn=nu||Qu||Function("return this")(),ru=f&&!f.nodeType&&f,Ci=ru&&typeof d=="object"&&d&&!d.nodeType&&d,ou=Ci&&Ci.exports===ru,aa=ou&&nu.process,rr=function(){try{var Oe=Ci&&Ci.require&&Ci.require("util").types;return Oe||aa&&aa.binding&&aa.binding("util")}catch(De){}}(),iu=rr&&rr.isArrayBuffer,ec=rr&&rr.isDate,au=rr&&rr.isMap,ua=rr&&rr.isRegExp,li=rr&&rr.isSet,ao=rr&&rr.isTypedArray;function hn(Oe,De,Re){switch(Re.length){case 0:return Oe.call(De);case 1:return Oe.call(De,Re[0]);case 2:return Oe.call(De,Re[0],Re[1]);case 3:return Oe.call(De,Re[0],Re[1],Re[2])}return Oe.apply(De,Re)}function tc(Oe,De,Re,Je){for(var Lt=-1,Wt=Oe==null?0:Oe.length;++Lt<Wt;){var yn=Oe[Lt];De(Je,yn,Re(yn),Oe)}return Je}function br(Oe,De){for(var Re=-1,Je=Oe==null?0:Oe.length;++Re<Je&&De(Oe[Re],Re,Oe)!==!1;);return Oe}function nc(Oe,De){for(var Re=Oe==null?0:Oe.length;Re--&&De(Oe[Re],Re,Oe)!==!1;);return Oe}function rc(Oe,De){for(var Re=-1,Je=Oe==null?0:Oe.length;++Re<Je;)if(!De(Oe[Re],Re,Oe))return!1;return!0}function fr(Oe,De){for(var Re=-1,Je=Oe==null?0:Oe.length,Lt=0,Wt=[];++Re<Je;){var yn=Oe[Re];De(yn,Re,Oe)&&(Wt[Lt++]=yn)}return Wt}function _r(Oe,De){return!!(Oe!=null&&Oe.length)&&fi(Oe,De,0)>-1}function uu(Oe,De,Re){for(var Je=-1,Lt=Oe==null?0:Oe.length;++Je<Lt;)if(Re(De,Oe[Je]))return!0;return!1}function en(Oe,De){for(var Re=-1,Je=Oe==null?0:Oe.length,Lt=Array(Je);++Re<Je;)Lt[Re]=De(Oe[Re],Re,Oe);return Lt}function Vn(Oe,De){for(var Re=-1,Je=De.length,Lt=Oe.length;++Re<Je;)Oe[Lt+Re]=De[Re];return Oe}function ca(Oe,De,Re,Je){var Lt=-1,Wt=Oe==null?0:Oe.length;for(Je&&Wt&&(Re=Oe[++Lt]);++Lt<Wt;)Re=De(Re,Oe[Lt],Lt,Oe);return Re}function oc(Oe,De,Re,Je){var Lt=Oe==null?0:Oe.length;for(Je&&Lt&&(Re=Oe[--Lt]);Lt--;)Re=De(Re,Oe[Lt],Lt,Oe);return Re}function cu(Oe,De){for(var Re=-1,Je=Oe==null?0:Oe.length;++Re<Je;)if(De(Oe[Re],Re,Oe))return!0;return!1}var sa=wr("length");function uo(Oe,De,Re){var Je;return Re(Oe,function(Lt,Wt,yn){if(De(Lt,Wt,yn))return Je=Wt,!1}),Je}function So(Oe,De,Re,Je){for(var Lt=Oe.length,Wt=Re+(Je?1:-1);Je?Wt--:++Wt<Lt;)if(De(Oe[Wt],Wt,Oe))return Wt;return-1}function fi(Oe,De,Re){return De==De?function(Je,Lt,Wt){for(var yn=Wt-1,_=Je.length;++yn<_;)if(Je[yn]===Lt)return yn;return-1}(Oe,De,Re):So(Oe,jo,Re)}function Or(Oe,De,Re,Je){for(var Lt=Re-1,Wt=Oe.length;++Lt<Wt;)if(Je(Oe[Lt],De))return Lt;return-1}function jo(Oe){return Oe!=Oe}function qt(Oe,De){var Re=Oe==null?0:Oe.length;return Re?la(Oe,De)/Re:ne}function wr(Oe){return function(De){return De==null?v:De[Oe]}}function co(Oe){return function(De){return Oe==null?v:Oe[De]}}function Jn(Oe,De,Re,Je,Lt){return Lt(Oe,function(Wt,yn,_){Re=Je?(Je=!1,Wt):De(Re,Wt,yn,_)}),Re}function la(Oe,De){for(var Re,Je=-1,Lt=Oe.length;++Je<Lt;){var Wt=De(Oe[Je]);Wt!==v&&(Re=Re===v?Wt:Re+Wt)}return Re}function Ri(Oe,De){for(var Re=-1,Je=Array(Oe);++Re<Oe;)Je[Re]=De(Re);return Je}function su(Oe){return Oe&&Oe.slice(0,xr(Oe)+1).replace(Dt,"")}function jn(Oe){return function(De){return Oe(De)}}function fa(Oe,De){return en(De,function(Re){return Oe[Re]})}function Po(Oe,De){return Oe.has(De)}function Fr(Oe,De){for(var Re=-1,Je=Oe.length;++Re<Je&&fi(De,Oe[Re],0)>-1;);return Re}function lu(Oe,De){for(var Re=Oe.length;Re--&&fi(De,Oe[Re],0)>-1;);return Re}function xs(Oe,De){for(var Re=Oe.length,Je=0;Re--;)Oe[Re]===De&&++Je;return Je}var fu=co({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),Un=co({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function pi(Oe){return"\\"+Ju[Oe]}function so(Oe){return eu.test(Oe)}function pr(Oe){var De=-1,Re=Array(Oe.size);return Oe.forEach(function(Je,Lt){Re[++De]=[Lt,Je]}),Re}function pu(Oe,De){return function(Re){return Oe(De(Re))}}function kr(Oe,De){for(var Re=-1,Je=Oe.length,Lt=0,Wt=[];++Re<Je;){var yn=Oe[Re];yn!==De&&yn!==A||(Oe[Re]=A,Wt[Lt++]=Re)}return Wt}function Go(Oe){var De=-1,Re=Array(Oe.size);return Oe.forEach(function(Je){Re[++De]=Je}),Re}function pa(Oe){var De=-1,Re=Array(Oe.size);return Oe.forEach(function(Je){Re[++De]=[Je,Je]}),Re}function lo(Oe){return so(Oe)?function(De){for(var Re=Qa.lastIndex=0;Qa.test(De);)++Re;return Re}(Oe):sa(Oe)}function Tr(Oe){return so(Oe)?function(De){return De.match(Qa)||[]}(Oe):function(De){return De.split("")}(Oe)}function xr(Oe){for(var De=Oe.length;De--&&Nn.test(Oe.charAt(De)););return De}var Ur=co({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),fo=function Oe(De){var Re,Je=(De=De==null?kn:fo.defaults(kn.Object(),De,fo.pick(kn,ws))).Array,Lt=De.Date,Wt=De.Error,yn=De.Function,_=De.Math,w=De.Object,P=De.RegExp,z=De.String,K=De.TypeError,pe=Je.prototype,Ee=yn.prototype,Be=w.prototype,it=De["__core-js_shared__"],Ht=Ee.toString,Qe=Be.hasOwnProperty,pn=0,zt=(Re=/[^.]+$/.exec(it&&it.keys&&it.keys.IE_PROTO||""))?"Symbol(src)_1."+Re:"",tn=Be.toString,Gr=Ht.call(w),_n=kn._,Er=P("^"+Ht.call(Qe).replace(fn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ao=ou?De.Buffer:v,Mo=De.Symbol,Ii=De.Uint8Array,du=Ao?Ao.allocUnsafe:v,Xo=pu(w.getPrototypeOf,w),da=w.create,dr=Be.propertyIsEnumerable,Li=pe.splice,di=Mo?Mo.isConcatSpreadable:v,Ho=Mo?Mo.iterator:v,Yo=Mo?Mo.toStringTag:v,hu=function(){try{var u=_i(w,"defineProperty");return u({},"",{}),u}catch(l){}}(),Ud=De.clearTimeout!==kn.clearTimeout&&De.clearTimeout,Gd=Lt&&Lt.now!==kn.Date.now&&Lt.now,vf=De.setTimeout!==kn.setTimeout&&De.setTimeout,ic=_.ceil,ha=_.floor,Es=w.getOwnPropertySymbols,Xd=Ao?Ao.isBuffer:v,gf=De.isFinite,Hd=pe.join,mf=pu(w.keys,w),Qn=_.max,hr=_.min,ac=Lt.now,uc=De.parseInt,cc=_.random,Yd=pe.reverse,ya=_i(De,"DataView"),ko=_i(De,"Map"),Ss=_i(De,"Promise"),zi=_i(De,"Set"),va=_i(De,"WeakMap"),yu=_i(w,"create"),sc=va&&new va,ga={},Vd=Cr(ya),bf=Cr(ko),Wd=Cr(Ss),Kd=Cr(zi),_f=Cr(va),lc=Mo?Mo.prototype:v,er=lc?lc.valueOf:v,Of=lc?lc.toString:v;function F(u){if(Mn(u)&&!Ft(u)&&!(u instanceof Qt)){if(u instanceof Qr)return u;if(Qe.call(u,"__wrapped__"))return ep(u)}return new Qr(u)}var ma=function(){function u(){}return function(l){if(!An(l))return{};if(da)return da(l);u.prototype=l;var b=new u;return u.prototype=v,b}}();function vu(){}function Qr(u,l){this.__wrapped__=u,this.__actions__=[],this.__chain__=!!l,this.__index__=0,this.__values__=v}function Qt(u){this.__wrapped__=u,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=se,this.__views__=[]}function Bi(u){var l=-1,b=u==null?0:u.length;for(this.clear();++l<b;){var j=u[l];this.set(j[0],j[1])}}function dn(u){var l=-1,b=u==null?0:u.length;for(this.clear();++l<b;){var j=u[l];this.set(j[0],j[1])}}function To(u){var l=-1,b=u==null?0:u.length;for(this.clear();++l<b;){var j=u[l];this.set(j[0],j[1])}}function hi(u){var l=-1,b=u==null?0:u.length;for(this.__data__=new To;++l<b;)this.add(u[l])}function eo(u){var l=this.__data__=new dn(u);this.size=l.size}function js(u,l){var b=Ft(u),j=!b&&Yi(u),N=!b&&!j&&qo(u),U=!b&&!j&&!N&&Oi(u),te=b||j||N||U,ce=te?Ri(u.length,z):[],_e=ce.length;for(var Z in u)!l&&!Qe.call(u,Z)||te&&(Z=="length"||N&&(Z=="offset"||Z=="parent")||U&&(Z=="buffer"||Z=="byteLength"||Z=="byteOffset")||Io(Z,_e))||ce.push(Z);return ce}function Ps(u){var l=u.length;return l?u[Rs(0,l-1)]:v}function wf(u,l){return Ui(Nr(u),yi(l,0,u.length))}function xf(u){return Ui(Nr(u))}function fc(u,l,b){(b!==v&&!En(u[l],b)||b===v&&!(l in u))&&Do(u,l,b)}function ba(u,l,b){var j=u[l];Qe.call(u,l)&&En(j,b)&&(b!==v||l in u)||Do(u,l,b)}function gu(u,l){for(var b=u.length;b--;)if(En(u[b][0],l))return b;return-1}function Ef(u,l,b,j){return On(u,function(N,U,te){l(j,N,b(N),te)}),j}function As(u,l){return u&&No(l,$n(l),u)}function Do(u,l,b){l=="__proto__"&&hu?hu(u,l,{configurable:!0,enumerable:!0,value:b,writable:!0}):u[l]=b}function pc(u,l){for(var b=-1,j=l.length,N=Je(j),U=u==null;++b<j;)N[b]=U?v:ku(u,l[b]);return N}function yi(u,l,b){return u==u&&(b!==v&&(u=u<=b?u:b),l!==v&&(u=u>=l?u:l)),u}function Xr(u,l,b,j,N,U){var te,ce=1&l,_e=2&l,Z=4&l;if(b&&(te=N?b(u,j,N,U):b(u)),te!==v)return te;if(!An(u))return u;var Ne=Ft(u);if(Ne){if(te=function(Le){var Xe=Le.length,Mt=new Le.constructor(Xe);return Xe&&typeof Le[0]=="string"&&Qe.call(Le,"index")&&(Mt.index=Le.index,Mt.input=Le.input),Mt}(u),!ce)return Nr(u,te)}else{var Ue=ur(u),st=Ue==Y||Ue==$;if(qo(u))return Gs(u,ce);if(Ue==me||Ue==Q||st&&!N){if(te=_e||st?{}:$s(u),!ce)return _e?function(Le,Xe){return No(Le,ke(Le),Xe)}(u,function(Le,Xe){return Le&&No(Xe,ir(Xe),Le)}(te,u)):function(Le,Xe){return No(Le,Ws(Le),Xe)}(u,As(te,u))}else{if(!on[Ue])return N?u:{};te=function(Le,Xe,Mt){var at=Le.constructor;switch(Xe){case Fe:return Xs(Le);case V:case B:return new at(+Le);case tt:return function(Ct,$t){var yt=$t?Xs(Ct.buffer):Ct.buffer;return new Ct.constructor(yt,Ct.byteOffset,Ct.byteLength)}(Le,Mt);case _t:case Ye:case $e:case gt:case le:case ue:case he:case Te:case Ge:return gn(Le,Mt);case ae:return new at;case xe:case ve:return new at(Le);case ze:return function(Ct){var $t=new Ct.constructor(Ct.source,Ut.exec(Ct));return $t.lastIndex=Ct.lastIndex,$t}(Le);case Se:return new at;case je:return kt=Le,er?w(er.call(kt)):{}}var kt}(u,Ue,ce)}}U||(U=new eo);var dt=U.get(u);if(dt)return dt;U.set(u,te),Da(u)?u.forEach(function(Le){te.add(Xr(Le,l,b,Le,u,U))}):pp(u)&&u.forEach(function(Le,Xe){te.set(Xe,Xr(Le,l,b,Xe,u,U))});var jt=Ne?v:(Z?_e?Vs:wu:_e?ir:$n)(u);return br(jt||u,function(Le,Xe){jt&&(Le=u[Xe=Le]),ba(te,Xe,Xr(Le,l,b,Xe,u,U))}),te}function Ms(u,l,b){var j=b.length;if(u==null)return!j;for(u=w(u);j--;){var N=b[j],U=l[N],te=u[N];if(te===v&&!(N in u)||!U(te))return!1}return!0}function ks(u,l,b){if(typeof u!="function")throw new K(E);return Ma(function(){u.apply(v,b)},l)}function Vo(u,l,b,j){var N=-1,U=_r,te=!0,ce=u.length,_e=[],Z=l.length;if(!ce)return _e;b&&(l=en(l,jn(b))),j?(U=uu,te=!1):l.length>=200&&(U=Po,te=!1,l=new hi(l));e:for(;++N<ce;){var Ne=u[N],Ue=b==null?Ne:b(Ne);if(Ne=j||Ne!==0?Ne:0,te&&Ue==Ue){for(var st=Z;st--;)if(l[st]===Ue)continue e;_e.push(Ne)}else U(l,Ue,j)||_e.push(Ne)}return _e}F.templateSettings={escape:fe,evaluate:rt,interpolate:Rt,variable:"",imports:{_:F}},F.prototype=vu.prototype,F.prototype.constructor=F,Qr.prototype=ma(vu.prototype),Qr.prototype.constructor=Qr,Qt.prototype=ma(vu.prototype),Qt.prototype.constructor=Qt,Bi.prototype.clear=function(){this.__data__=yu?yu(null):{},this.size=0},Bi.prototype.delete=function(u){var l=this.has(u)&&delete this.__data__[u];return this.size-=l?1:0,l},Bi.prototype.get=function(u){var l=this.__data__;if(yu){var b=l[u];return b===M?v:b}return Qe.call(l,u)?l[u]:v},Bi.prototype.has=function(u){var l=this.__data__;return yu?l[u]!==v:Qe.call(l,u)},Bi.prototype.set=function(u,l){var b=this.__data__;return this.size+=this.has(u)?0:1,b[u]=yu&&l===v?M:l,this},dn.prototype.clear=function(){this.__data__=[],this.size=0},dn.prototype.delete=function(u){var l=this.__data__,b=gu(l,u);return!(b<0)&&(b==l.length-1?l.pop():Li.call(l,b,1),--this.size,!0)},dn.prototype.get=function(u){var l=this.__data__,b=gu(l,u);return b<0?v:l[b][1]},dn.prototype.has=function(u){return gu(this.__data__,u)>-1},dn.prototype.set=function(u,l){var b=this.__data__,j=gu(b,u);return j<0?(++this.size,b.push([u,l])):b[j][1]=l,this},To.prototype.clear=function(){this.size=0,this.__data__={hash:new Bi,map:new(ko||dn),string:new Bi}},To.prototype.delete=function(u){var l=Pa(this,u).delete(u);return this.size-=l?1:0,l},To.prototype.get=function(u){return Pa(this,u).get(u)},To.prototype.has=function(u){return Pa(this,u).has(u)},To.prototype.set=function(u,l){var b=Pa(this,u),j=b.size;return b.set(u,l),this.size+=b.size==j?0:1,this},hi.prototype.add=hi.prototype.push=function(u){return this.__data__.set(u,M),this},hi.prototype.has=function(u){return this.__data__.has(u)},eo.prototype.clear=function(){this.__data__=new dn,this.size=0},eo.prototype.delete=function(u){var l=this.__data__,b=l.delete(u);return this.size=l.size,b},eo.prototype.get=function(u){return this.__data__.get(u)},eo.prototype.has=function(u){return this.__data__.has(u)},eo.prototype.set=function(u,l){var b=this.__data__;if(b instanceof dn){var j=b.__data__;if(!ko||j.length<199)return j.push([u,l]),this.size=++b.size,this;b=this.__data__=new To(j)}return b.set(u,l),this.size=b.size,this};var On=Uf(ft),Sf=Uf(vn,!0);function jf(u,l){var b=!0;return On(u,function(j,N,U){return b=!!l(j,N,U)}),b}function Rn(u,l,b){for(var j=-1,N=u.length;++j<N;){var U=u[j],te=l(U);if(te!=null&&(ce===v?te==te&&!cr(te):b(te,ce)))var ce=te,_e=U}return _e}function un(u,l){var b=[];return On(u,function(j,N,U){l(j,N,U)&&b.push(j)}),b}function or(u,l,b,j,N){var U=-1,te=u.length;for(b||(b=Zf),N||(N=[]);++U<te;){var ce=u[U];l>0&&b(ce)?l>1?or(ce,l-1,b,j,N):Vn(N,ce):j||(N[N.length]=ce)}return N}var Yt=Gf(),Gn=Gf(!0);function ft(u,l){return u&&Yt(u,l,$n)}function vn(u,l){return u&&Gn(u,l,$n)}function dc(u,l){return fr(l,function(b){return Jo(u[b])})}function Wo(u,l){for(var b=0,j=(l=gi(l,u)).length;u!=null&&b<j;)u=u[Wn(l[b++])];return b&&b==j?u:v}function Ts(u,l,b){var j=l(u);return Ft(u)?j:Vn(j,b(u))}function Pn(u){return u==null?u===v?"[object Undefined]":"[object Null]":Yo&&Yo in w(u)?function(l){var b=Qe.call(l,Yo),j=l[Yo];try{l[Yo]=v;var N=!0}catch(te){}var U=tn.call(l);return N&&(b?l[Yo]=j:delete l[Yo]),U}(u):function(l){return tn.call(l)}(u)}function Tn(u,l){return u>l}function Pf(u,l){return u!=null&&Qe.call(u,l)}function Af(u,l){return u!=null&&l in w(u)}function hc(u,l,b){for(var j=b?uu:_r,N=u[0].length,U=u.length,te=U,ce=Je(U),_e=1/0,Z=[];te--;){var Ne=u[te];te&&l&&(Ne=en(Ne,jn(l))),_e=hr(Ne.length,_e),ce[te]=!b&&(l||N>=120&&Ne.length>=120)?new hi(te&&Ne):v}Ne=u[0];var Ue=-1,st=ce[0];e:for(;++Ue<N&&Z.length<_e;){var dt=Ne[Ue],jt=l?l(dt):dt;if(dt=b||dt!==0?dt:0,!(st?Po(st,jt):j(Z,jt,b))){for(te=U;--te;){var Le=ce[te];if(!(Le?Po(Le,jt):j(u[te],jt,b)))continue e}st&&st.push(jt),Z.push(dt)}}return Z}function _a(u,l,b){var j=(u=Qs(u,l=gi(l,u)))==null?u:u[Wn(mn(l))];return j==null?v:hn(j,u,b)}function Ds(u){return Mn(u)&&Pn(u)==Q}function Oa(u,l,b,j,N){return u===l||(u==null||l==null||!Mn(u)&&!Mn(l)?u!=u&&l!=l:function(U,te,ce,_e,Z,Ne){var Ue=Ft(U),st=Ft(te),dt=Ue?ee:ur(U),jt=st?ee:ur(te),Le=(dt=dt==Q?me:dt)==me,Xe=(jt=jt==Q?me:jt)==me,Mt=dt==jt;if(Mt&&qo(U)){if(!qo(te))return!1;Ue=!0,Le=!1}if(Mt&&!Le)return Ne||(Ne=new eo),Ue||Oi(U)?$f(U,te,ce,_e,Z,Ne):function(yt,Pt,Zn,sr,yo,tr,zo){switch(Zn){case tt:if(yt.byteLength!=Pt.byteLength||yt.byteOffset!=Pt.byteOffset)return!1;yt=yt.buffer,Pt=Pt.buffer;case Fe:return!(yt.byteLength!=Pt.byteLength||!tr(new Ii(yt),new Ii(Pt)));case V:case B:case xe:return En(+yt,+Pt);case X:return yt.name==Pt.name&&yt.message==Pt.message;case ze:case ve:return yt==Pt+"";case ae:var vo=pr;case Se:var ti=1&sr;if(vo||(vo=Go),yt.size!=Pt.size&&!ti)return!1;var ni=zo.get(yt);if(ni)return ni==Pt;sr|=2,zo.set(yt,Pt);var Ki=$f(vo(yt),vo(Pt),sr,yo,tr,zo);return zo.delete(yt),Ki;case je:if(er)return er.call(yt)==er.call(Pt)}return!1}(U,te,dt,ce,_e,Z,Ne);if(!(1&ce)){var at=Le&&Qe.call(U,"__wrapped__"),kt=Xe&&Qe.call(te,"__wrapped__");if(at||kt){var Ct=at?U.value():U,$t=kt?te.value():te;return Ne||(Ne=new eo),Z(Ct,$t,ce,_e,Ne)}}return Mt?(Ne||(Ne=new eo),function(yt,Pt,Zn,sr,yo,tr){var zo=1&Zn,vo=wu(yt),ti=vo.length,ni=wu(Pt).length;if(ti!=ni&&!zo)return!1;for(var Ki=ti;Ki--;){var ri=vo[Ki];if(!(zo?ri in Pt:Qe.call(Pt,ri)))return!1}var Lu=tr.get(yt),Yr=tr.get(Pt);if(Lu&&Yr)return Lu==Pt&&Yr==yt;var Wc=!0;tr.set(yt,Pt),tr.set(Pt,yt);for(var Vr=zo;++Ki<ti;){var vt=yt[ri=vo[Ki]],zu=Pt[ri];if(sr)var Hl=zo?sr(zu,vt,ri,Pt,yt,tr):sr(vt,zu,ri,yt,Pt,tr);if(!(Hl===v?vt===zu||yo(vt,zu,Zn,sr,tr):Hl)){Wc=!1;break}Vr||(Vr=ri=="constructor")}if(Wc&&!Vr){var Bu=yt.constructor,Kc=Pt.constructor;Bu==Kc||!("constructor"in yt)||!("constructor"in Pt)||typeof Bu=="function"&&Bu instanceof Bu&&typeof Kc=="function"&&Kc instanceof Kc||(Wc=!1)}return tr.delete(yt),tr.delete(Pt),Wc}(U,te,ce,_e,Z,Ne)):!1}(u,l,b,j,Oa,N))}function yc(u,l,b,j){var N=b.length,U=N,te=!j;if(u==null)return!U;for(u=w(u);N--;){var ce=b[N];if(te&&ce[2]?ce[1]!==u[ce[0]]:!(ce[0]in u))return!1}for(;++N<U;){var _e=(ce=b[N])[0],Z=u[_e],Ne=ce[1];if(te&&ce[2]){if(Z===v&&!(_e in u))return!1}else{var Ue=new eo;if(j)var st=j(Z,Ne,_e,u,l,Ue);if(!(st===v?Oa(Ne,Z,3,j,Ue):st))return!1}}return!0}function wa(u){return!(!An(u)||(l=u,zt&&zt in l))&&(Jo(u)?Er:Cn).test(Cr(u));var l}function Ns(u){return typeof u=="function"?u:u==null?vr:typeof u=="object"?Ft(u)?kf(u[0],u[1]):Mf(u):Ul(u)}function Ko(u){if(!Aa(u))return mf(u);var l=[];for(var b in w(u))Qe.call(u,b)&&b!="constructor"&&l.push(b);return l}function $d(u){if(!An(u))return function(N){var U=[];if(N!=null)for(var te in w(N))U.push(te);return U}(u);var l=Aa(u),b=[];for(var j in u)(j!="constructor"||!l&&Qe.call(u,j))&&b.push(j);return b}function $o(u,l){return u<l}function to(u,l){var b=-1,j=Sr(u)?Je(u.length):[];return On(u,function(N,U,te){j[++b]=l(N,U,te)}),j}function Mf(u){var l=Ac(u);return l.length==1&&l[0][2]?qs(l[0][0],l[0][1]):function(b){return b===u||yc(b,u,l)}}function kf(u,l){return Mc(u)&&Zs(l)?qs(Wn(u),l):function(b){var j=ku(b,u);return j===v&&j===l?Tu(b,u):Oa(l,j,3)}}function vc(u,l,b,j,N){u!==l&&Yt(l,function(U,te){if(N||(N=new eo),An(U))(function(_e,Z,Ne,Ue,st,dt,jt){var Le=Tc(_e,Ne),Xe=Tc(Z,Ne),Mt=jt.get(Xe);if(Mt)return void fc(_e,Ne,Mt);var at=dt?dt(Le,Xe,Ne+"",_e,Z,jt):v,kt=at===v;if(kt){var Ct=Ft(Xe),$t=!Ct&&qo(Xe),yt=!Ct&&!$t&&Oi(Xe);at=Xe,Ct||$t||yt?Ft(Le)?at=Le:In(Le)?at=Nr(Le):$t?(kt=!1,at=Gs(Xe,!0)):yt?(kt=!1,at=gn(Xe,!0)):at=[]:Qo(Xe)||Yi(Xe)?(at=Le,Yi(Le)?at=xl(Le):An(Le)&&!Jo(Le)||(at=$s(Xe))):kt=!1}kt&&(jt.set(Xe,at),st(at,Xe,Ue,dt,jt),jt.delete(Xe)),fc(_e,Ne,at)})(u,l,te,b,vc,j,N);else{var ce=j?j(Tc(u,te),U,te+"",u,l,N):v;ce===v&&(ce=U),fc(u,te,ce)}},ir)}function Tf(u,l){var b=u.length;if(b)return Io(l+=l<0?b:0,b)?u[l]:v}function Df(u,l,b){l=l.length?en(l,function(U){return Ft(U)?function(te){return Wo(te,U.length===1?U[0]:U)}:U}):[vr];var j=-1;l=en(l,jn(wt()));var N=to(u,function(U,te,ce){var _e=en(l,function(Z){return Z(U)});return{criteria:_e,index:++j,value:U}});return function(U,te){var ce=U.length;for(U.sort(te);ce--;)U[ce]=U[ce].value;return U}(N,function(U,te){return function(ce,_e,Z){for(var Ne=-1,Ue=ce.criteria,st=_e.criteria,dt=Ue.length,jt=Z.length;++Ne<dt;){var Le=Ff(Ue[Ne],st[Ne]);if(Le)return Ne>=jt?Le:Le*(Z[Ne]=="desc"?-1:1)}return ce.index-_e.index}(U,te,b)})}function Nf(u,l,b){for(var j=-1,N=l.length,U={};++j<N;){var te=l[j],ce=Wo(u,te);b(ce,te)&&Ea(U,gi(te,u),ce)}return U}function Cs(u,l,b,j){var N=j?Or:fi,U=-1,te=l.length,ce=u;for(u===l&&(l=Nr(l)),b&&(ce=en(u,jn(b)));++U<te;)for(var _e=0,Z=l[U],Ne=b?b(Z):Z;(_e=N(ce,Ne,_e,j))>-1;)ce!==u&&Li.call(ce,_e,1),Li.call(u,_e,1);return u}function xa(u,l){for(var b=u?l.length:0,j=b-1;b--;){var N=l[b];if(b==j||N!==U){var U=N;Io(N)?Li.call(u,N,1):bc(u,N)}}return u}function Rs(u,l){return u+ha(cc()*(l-u+1))}function gc(u,l){var b="";if(!u||l<1||l>W)return b;do l%2&&(b+=u),(l=ha(l/2))&&(u+=u);while(l);return b}function Vt(u,l){return Dc(Js(u,l,vr),u+"")}function Zd(u){return Ps(xi(u))}function Is(u,l){var b=xi(u);return Ui(b,yi(l,0,b.length))}function Ea(u,l,b,j){if(!An(u))return u;for(var N=-1,U=(l=gi(l,u)).length,te=U-1,ce=u;ce!=null&&++N<U;){var _e=Wn(l[N]),Z=b;if(_e==="__proto__"||_e==="constructor"||_e==="prototype")return u;if(N!=te){var Ne=ce[_e];(Z=j?j(Ne,_e,ce):v)===v&&(Z=An(Ne)?Ne:Io(l[N+1])?[]:{})}ba(ce,_e,Z),ce=ce[_e]}return u}var Cf=sc?function(u,l){return sc.set(u,l),u}:vr,qd=hu?function(u,l){return hu(u,"toString",{configurable:!0,enumerable:!1,value:Xc(l),writable:!0})}:vr;function Jd(u){return Ui(xi(u))}function no(u,l,b){var j=-1,N=u.length;l<0&&(l=-l>N?0:N+l),(b=b>N?N:b)<0&&(b+=N),N=l>b?0:b-l>>>0,l>>>=0;for(var U=Je(N);++j<N;)U[j]=u[j+l];return U}function Ls(u,l){var b;return On(u,function(j,N,U){return!(b=l(j,N,U))}),!!b}function mc(u,l,b){var j=0,N=u==null?j:u.length;if(typeof l=="number"&&l==l&&N<=2147483647){for(;j<N;){var U=j+N>>>1,te=u[U];te!==null&&!cr(te)&&(b?te<=l:te<l)?j=U+1:N=U}return N}return zs(u,l,vr,b)}function zs(u,l,b,j){var N=0,U=u==null?0:u.length;if(U===0)return 0;for(var te=(l=b(l))!=l,ce=l===null,_e=cr(l),Z=l===v;N<U;){var Ne=ha((N+U)/2),Ue=b(u[Ne]),st=Ue!==v,dt=Ue===null,jt=Ue==Ue,Le=cr(Ue);if(te)var Xe=j||jt;else Xe=Z?jt&&(j||st):ce?jt&&st&&(j||!dt):_e?jt&&st&&!dt&&(j||!Le):!dt&&!Le&&(j?Ue<=l:Ue<l);Xe?N=Ne+1:U=Ne}return hr(U,4294967294)}function Rf(u,l){for(var b=-1,j=u.length,N=0,U=[];++b<j;){var te=u[b],ce=l?l(te):te;if(!b||!En(ce,_e)){var _e=ce;U[N++]=te===0?0:te}}return U}function Bs(u){return typeof u=="number"?u:cr(u)?ne:+u}function Dr(u){if(typeof u=="string")return u;if(Ft(u))return en(u,Dr)+"";if(cr(u))return Of?Of.call(u):"";var l=u+"";return l=="0"&&1/u==-1/0?"-0":l}function vi(u,l,b){var j=-1,N=_r,U=u.length,te=!0,ce=[],_e=ce;if(b)te=!1,N=uu;else if(U>=200){var Z=l?null:Ys(u);if(Z)return Go(Z);te=!1,N=Po,_e=new hi}else _e=l?[]:ce;e:for(;++j<U;){var Ne=u[j],Ue=l?l(Ne):Ne;if(Ne=b||Ne!==0?Ne:0,te&&Ue==Ue){for(var st=_e.length;st--;)if(_e[st]===Ue)continue e;l&&_e.push(Ue),ce.push(Ne)}else N(_e,Ue,b)||(_e!==ce&&_e.push(Ue),ce.push(Ne))}return ce}function bc(u,l){return(u=Qs(u,l=gi(l,u)))==null||delete u[Wn(mn(l))]}function If(u,l,b,j){return Ea(u,l,b(Wo(u,l)),j)}function mu(u,l,b,j){for(var N=u.length,U=j?N:-1;(j?U--:++U<N)&&l(u[U],U,u););return b?no(u,j?0:U,j?U+1:N):no(u,j?U+1:0,j?N:U)}function Lf(u,l){var b=u;return b instanceof Qt&&(b=b.value()),ca(l,function(j,N){return N.func.apply(N.thisArg,Vn([j],N.args))},b)}function _c(u,l,b){var j=u.length;if(j<2)return j?vi(u[0]):[];for(var N=-1,U=Je(j);++N<j;)for(var te=u[N],ce=-1;++ce<j;)ce!=N&&(U[N]=Vo(U[N]||te,u[ce],l,b));return vi(or(U,1),l,b)}function zf(u,l,b){for(var j=-1,N=u.length,U=l.length,te={};++j<N;){var ce=j<U?l[j]:v;b(te,u[j],ce)}return te}function Oc(u){return In(u)?u:[]}function Fs(u){return typeof u=="function"?u:vr}function gi(u,l){return Ft(u)?u:Mc(u,l)?[u]:Qf(cn(u))}var Bf=Vt;function mi(u,l,b){var j=u.length;return b=b===v?j:b,!l&&b>=j?u:no(u,l,b)}var Us=Ud||function(u){return kn.clearTimeout(u)};function Gs(u,l){if(l)return u.slice();var b=u.length,j=du?du(b):new u.constructor(b);return u.copy(j),j}function Xs(u){var l=new u.constructor(u.byteLength);return new Ii(l).set(new Ii(u)),l}function gn(u,l){var b=l?Xs(u.buffer):u.buffer;return new u.constructor(b,u.byteOffset,u.length)}function Ff(u,l){if(u!==l){var b=u!==v,j=u===null,N=u==u,U=cr(u),te=l!==v,ce=l===null,_e=l==l,Z=cr(l);if(!ce&&!Z&&!U&&u>l||U&&te&&_e&&!ce&&!Z||j&&te&&_e||!b&&_e||!N)return 1;if(!j&&!U&&!Z&&u<l||Z&&b&&N&&!j&&!U||ce&&b&&N||!te&&N||!_e)return-1}return 0}function wn(u,l,b,j){for(var N=-1,U=u.length,te=b.length,ce=-1,_e=l.length,Z=Qn(U-te,0),Ne=Je(_e+Z),Ue=!j;++ce<_e;)Ne[ce]=l[ce];for(;++N<te;)(Ue||N<U)&&(Ne[b[N]]=u[N]);for(;Z--;)Ne[ce++]=u[N++];return Ne}function wc(u,l,b,j){for(var N=-1,U=u.length,te=-1,ce=b.length,_e=-1,Z=l.length,Ne=Qn(U-ce,0),Ue=Je(Ne+Z),st=!j;++N<Ne;)Ue[N]=u[N];for(var dt=N;++_e<Z;)Ue[dt+_e]=l[_e];for(;++te<ce;)(st||N<U)&&(Ue[dt+b[te]]=u[N++]);return Ue}function Nr(u,l){var b=-1,j=u.length;for(l||(l=Je(j));++b<j;)l[b]=u[b];return l}function No(u,l,b,j){var N=!b;b||(b={});for(var U=-1,te=l.length;++U<te;){var ce=l[U],_e=j?j(b[ce],u[ce],ce,b,u):v;_e===v&&(_e=u[ce]),N?Do(b,ce,_e):ba(b,ce,_e)}return b}function xc(u,l){return function(b,j){var N=Ft(b)?tc:Ef,U=l?l():{};return N(b,u,wt(j,2),U)}}function Fi(u){return Vt(function(l,b){var j=-1,N=b.length,U=N>1?b[N-1]:v,te=N>2?b[2]:v;for(U=u.length>3&&typeof U=="function"?(N--,U):v,te&&yr(b[0],b[1],te)&&(U=N<3?v:U,N=1),l=w(l);++j<N;){var ce=b[j];ce&&u(l,ce,j,U)}return l})}function Uf(u,l){return function(b,j){if(b==null)return b;if(!Sr(b))return u(b,j);for(var N=b.length,U=l?N:-1,te=w(b);(l?U--:++U<N)&&j(te[U],U,te)!==!1;);return b}}function Gf(u){return function(l,b,j){for(var N=-1,U=w(l),te=j(l),ce=te.length;ce--;){var _e=te[u?ce:++N];if(b(U[_e],_e,U)===!1)break}return l}}function Xf(u){return function(l){var b=so(l=cn(l))?Tr(l):v,j=b?b[0]:l.charAt(0),N=b?mi(b,1).join(""):l.slice(1);return j[u]()+N}}function bi(u){return function(l){return ca(ho(Uc(l).replace(Zu,"")),u,"")}}function bu(u){return function(){var l=arguments;switch(l.length){case 0:return new u;case 1:return new u(l[0]);case 2:return new u(l[0],l[1]);case 3:return new u(l[0],l[1],l[2]);case 4:return new u(l[0],l[1],l[2],l[3]);case 5:return new u(l[0],l[1],l[2],l[3],l[4]);case 6:return new u(l[0],l[1],l[2],l[3],l[4],l[5]);case 7:return new u(l[0],l[1],l[2],l[3],l[4],l[5],l[6])}var b=ma(u.prototype),j=u.apply(b,l);return An(j)?j:b}}function Hf(u){return function(l,b,j){var N=w(l);if(!Sr(l)){var U=wt(b,3);l=$n(l),b=function(ce){return U(N[ce],ce,N)}}var te=u(l,b,j);return te>-1?N[U?l[te]:te]:v}}function Yf(u){return xn(function(l){var b=l.length,j=b,N=Qr.prototype.thru;for(u&&l.reverse();j--;){var U=l[j];if(typeof U!="function")throw new K(E);if(N&&!te&&po(U)=="wrapper")var te=new Qr([],!0)}for(j=te?j:b;++j<b;){var ce=po(U=l[j]),_e=ce=="wrapper"?xu(U):v;te=_e&&kc(_e[0])&&_e[1]==424&&!_e[4].length&&_e[9]==1?te[po(_e[0])].apply(te,_e[3]):U.length==1&&kc(U)?te[ce]():te.thru(U)}return function(){var Z=arguments,Ne=Z[0];if(te&&Z.length==1&&Ft(Ne))return te.plant(Ne).value();for(var Ue=0,st=b?l[Ue].apply(this,Z):Ne;++Ue<b;)st=l[Ue].call(this,st);return st}})}function _u(u,l,b,j,N,U,te,ce,_e,Z){var Ne=l&C,Ue=1&l,st=2&l,dt=24&l,jt=512&l,Le=st?v:bu(u);return function Xe(){for(var Mt=arguments.length,at=Je(Mt),kt=Mt;kt--;)at[kt]=arguments[kt];if(dt)var Ct=ja(Xe),$t=xs(at,Ct);if(j&&(at=wn(at,j,N,dt)),U&&(at=wc(at,U,te,dt)),Mt-=$t,dt&&Mt<Z){var yt=kr(at,Ct);return Sc(u,l,_u,Xe.placeholder,b,at,yt,ce,_e,Z-Mt)}var Pt=Ue?b:this,Zn=st?Pt[u]:u;return Mt=at.length,ce?at=Jf(at,ce):jt&&Mt>1&&at.reverse(),Ne&&_e<Mt&&(at.length=_e),this&&this!==kn&&this instanceof Xe&&(Zn=Le||bu(Zn)),Zn.apply(Pt,at)}}function Vf(u,l){return function(b,j){return function(N,U,te,ce){return ft(N,function(_e,Z,Ne){U(ce,te(_e),Z,Ne)}),ce}(b,u,l(j),{})}}function Ou(u,l){return function(b,j){var N;if(b===v&&j===v)return l;if(b!==v&&(N=b),j!==v){if(N===v)return j;typeof b=="string"||typeof j=="string"?(b=Dr(b),j=Dr(j)):(b=Bs(b),j=Bs(j)),N=u(b,j)}return N}}function Hs(u){return xn(function(l){return l=en(l,jn(wt())),Vt(function(b){var j=this;return u(l,function(N){return hn(N,j,b)})})})}function Ec(u,l){var b=(l=l===v?" ":Dr(l)).length;if(b<2)return b?gc(l,u):l;var j=gc(l,ic(u/lo(l)));return so(l)?mi(Tr(j),0,u).join(""):j.slice(0,u)}function Co(u){return function(l,b,j){return j&&typeof j!="number"&&yr(l,b,j)&&(b=j=v),l=Lo(l),b===v?(b=l,l=0):b=Lo(b),function(N,U,te,ce){for(var _e=-1,Z=Qn(ic((U-N)/(te||1)),0),Ne=Je(Z);Z--;)Ne[ce?Z:++_e]=N,N+=te;return Ne}(l,b,j=j===v?l<b?1:-1:Lo(j),u)}}function Sa(u){return function(l,b){return typeof l=="string"&&typeof b=="string"||(l=jr(l),b=jr(b)),u(l,b)}}function Sc(u,l,b,j,N,U,te,ce,_e,Z){var Ne=8&l;l|=Ne?k:I,4&(l&=~(Ne?I:k))||(l&=-4);var Ue=[u,l,N,Ne?U:v,Ne?te:v,Ne?v:U,Ne?v:te,ce,_e,Z],st=b.apply(v,Ue);return kc(u)&&el(st,Ue),st.placeholder=j,tl(st,u,l)}function jc(u){var l=_[u];return function(b,j){if(b=jr(b),(j=j==null?0:hr(Gt(j),292))&&gf(b)){var N=(cn(b)+"e").split("e");return+((N=(cn(l(N[0]+"e"+(+N[1]+j)))+"e").split("e"))[0]+"e"+(+N[1]-j))}return l(b)}}var Ys=zi&&1/Go(new zi([,-0]))[1]==G?function(u){return new zi(u)}:Hc;function Pc(u){return function(l){var b=ur(l);return b==ae?pr(l):b==Se?pa(l):function(j,N){return en(N,function(U){return[U,j[U]]})}(l,u(l))}}function Ro(u,l,b,j,N,U,te,ce){var _e=2&l;if(!_e&&typeof u!="function")throw new K(E);var Z=j?j.length:0;if(Z||(l&=-97,j=N=v),te=te===v?te:Qn(Gt(te),0),ce=ce===v?ce:Gt(ce),Z-=N?N.length:0,l&I){var Ne=j,Ue=N;j=N=v}var st=_e?v:xu(u),dt=[u,l,b,j,N,Ne,Ue,U,te,ce];if(st&&function(Le,Xe){var Mt=Le[1],at=Xe[1],kt=Mt|at,Ct=kt<131,$t=at==C&&Mt==8||at==C&&Mt==L&&Le[7].length<=Xe[8]||at==384&&Xe[7].length<=Xe[8]&&Mt==8;if(!Ct&&!$t)return Le;1&at&&(Le[2]=Xe[2],kt|=1&Mt?0:4);var yt=Xe[3];if(yt){var Pt=Le[3];Le[3]=Pt?wn(Pt,yt,Xe[4]):yt,Le[4]=Pt?kr(Le[3],A):Xe[4]}(yt=Xe[5])&&(Pt=Le[5],Le[5]=Pt?wc(Pt,yt,Xe[6]):yt,Le[6]=Pt?kr(Le[5],A):Xe[6]),(yt=Xe[7])&&(Le[7]=yt),at&C&&(Le[8]=Le[8]==null?Xe[8]:hr(Le[8],Xe[8])),Le[9]==null&&(Le[9]=Xe[9]),Le[0]=Xe[0],Le[1]=kt}(dt,st),u=dt[0],l=dt[1],b=dt[2],j=dt[3],N=dt[4],!(ce=dt[9]=dt[9]===v?_e?0:u.length:Qn(dt[9]-Z,0))&&24&l&&(l&=-25),l&&l!=1)jt=l==8||l==T?function(Le,Xe,Mt){var at=bu(Le);return function kt(){for(var Ct=arguments.length,$t=Je(Ct),yt=Ct,Pt=ja(kt);yt--;)$t[yt]=arguments[yt];var Zn=Ct<3&&$t[0]!==Pt&&$t[Ct-1]!==Pt?[]:kr($t,Pt);return(Ct-=Zn.length)<Mt?Sc(Le,Xe,_u,kt.placeholder,v,$t,Zn,v,v,Mt-Ct):hn(this&&this!==kn&&this instanceof kt?at:Le,this,$t)}}(u,l,ce):l!=k&&l!=33||N.length?_u.apply(v,dt):function(Le,Xe,Mt,at){var kt=1&Xe,Ct=bu(Le);return function $t(){for(var yt=-1,Pt=arguments.length,Zn=-1,sr=at.length,yo=Je(sr+Pt),tr=this&&this!==kn&&this instanceof $t?Ct:Le;++Zn<sr;)yo[Zn]=at[Zn];for(;Pt--;)yo[Zn++]=arguments[++yt];return hn(tr,kt?Mt:this,yo)}}(u,l,b,j);else var jt=function(Le,Xe,Mt){var at=1&Xe,kt=bu(Le);return function Ct(){return(this&&this!==kn&&this instanceof Ct?kt:Le).apply(at?Mt:this,arguments)}}(u,l,b);return tl((st?Cf:el)(jt,dt),u,l)}function Wf(u,l,b,j){return u===v||En(u,Be[b])&&!Qe.call(j,b)?l:u}function Kf(u,l,b,j,N,U){return An(u)&&An(l)&&(U.set(l,u),vc(u,l,v,Kf,U),U.delete(l)),u}function Qd(u){return Qo(u)?v:u}function $f(u,l,b,j,N,U){var te=1&b,ce=u.length,_e=l.length;if(ce!=_e&&!(te&&_e>ce))return!1;var Z=U.get(u),Ne=U.get(l);if(Z&&Ne)return Z==l&&Ne==u;var Ue=-1,st=!0,dt=2&b?new hi:v;for(U.set(u,l),U.set(l,u);++Ue<ce;){var jt=u[Ue],Le=l[Ue];if(j)var Xe=te?j(Le,jt,Ue,l,u,U):j(jt,Le,Ue,u,l,U);if(Xe!==v){if(Xe)continue;st=!1;break}if(dt){if(!cu(l,function(Mt,at){if(!Po(dt,at)&&(jt===Mt||N(jt,Mt,b,j,U)))return dt.push(at)})){st=!1;break}}else if(jt!==Le&&!N(jt,Le,b,j,U)){st=!1;break}}return U.delete(u),U.delete(l),st}function xn(u){return Dc(Js(u,v,il),u+"")}function wu(u){return Ts(u,$n,Ws)}function Vs(u){return Ts(u,ir,ke)}var xu=sc?function(u){return sc.get(u)}:Hc;function po(u){for(var l=u.name+"",b=ga[l],j=Qe.call(ga,l)?b.length:0;j--;){var N=b[j],U=N.func;if(U==null||U==u)return N.name}return l}function ja(u){return(Qe.call(F,"placeholder")?F:u).placeholder}function wt(){var u=F.iteratee||zl;return u=u===zl?Ns:u,arguments.length?u(arguments[0],arguments[1]):u}function Pa(u,l){var b,j,N=u.__data__;return((j=typeof(b=l))=="string"||j=="number"||j=="symbol"||j=="boolean"?b!=="__proto__":b===null)?N[typeof l=="string"?"string":"hash"]:N.map}function Ac(u){for(var l=$n(u),b=l.length;b--;){var j=l[b],N=u[j];l[b]=[j,N,Zs(N)]}return l}function _i(u,l){var b=function(j,N){return j==null?v:j[N]}(u,l);return wa(b)?b:v}var Ws=Es?function(u){return u==null?[]:(u=w(u),fr(Es(u),function(l){return dr.call(u,l)}))}:Ra,ke=Es?function(u){for(var l=[];u;)Vn(l,Ws(u)),u=Xo(u);return l}:Ra,ur=Pn;function Ks(u,l,b){for(var j=-1,N=(l=gi(l,u)).length,U=!1;++j<N;){var te=Wn(l[j]);if(!(U=u!=null&&b(u,te)))break;u=u[te]}return U||++j!=N?U:!!(N=u==null?0:u.length)&&Vi(N)&&Io(te,N)&&(Ft(u)||Yi(u))}function $s(u){return typeof u.constructor!="function"||Aa(u)?{}:ma(Xo(u))}function Zf(u){return Ft(u)||Yi(u)||!!(di&&u&&u[di])}function Io(u,l){var b=typeof u;return!!(l=l==null?W:l)&&(b=="number"||b!="symbol"&&ot.test(u))&&u>-1&&u%1==0&&u<l}function yr(u,l,b){if(!An(b))return!1;var j=typeof l;return!!(j=="number"?Sr(b)&&Io(l,b.length):j=="string"&&l in b)&&En(b[l],u)}function Mc(u,l){if(Ft(u))return!1;var b=typeof u;return!(b!="number"&&b!="symbol"&&b!="boolean"&&u!=null&&!cr(u))||It.test(u)||!rn.test(u)||l!=null&&u in w(l)}function kc(u){var l=po(u),b=F[l];if(typeof b!="function"||!(l in Qt.prototype))return!1;if(u===b)return!0;var j=xu(b);return!!j&&u===j[0]}(ya&&ur(new ya(new ArrayBuffer(1)))!=tt||ko&&ur(new ko)!=ae||Ss&&ur(Ss.resolve())!=Pe||zi&&ur(new zi)!=Se||va&&ur(new va)!=Ae)&&(ur=function(u){var l=Pn(u),b=l==me?u.constructor:v,j=b?Cr(b):"";if(j)switch(j){case Vd:return tt;case bf:return ae;case Wd:return Pe;case Kd:return Se;case _f:return Ae}return l});var qf=it?Jo:Iu;function Aa(u){var l=u&&u.constructor;return u===(typeof l=="function"&&l.prototype||Be)}function Zs(u){return u==u&&!An(u)}function qs(u,l){return function(b){return b!=null&&b[u]===l&&(l!==v||u in w(b))}}function Js(u,l,b){return l=Qn(l===v?u.length-1:l,0),function(){for(var j=arguments,N=-1,U=Qn(j.length-l,0),te=Je(U);++N<U;)te[N]=j[l+N];N=-1;for(var ce=Je(l+1);++N<l;)ce[N]=j[N];return ce[l]=b(te),hn(u,this,ce)}}function Qs(u,l){return l.length<2?u:Wo(u,no(l,0,-1))}function Jf(u,l){for(var b=u.length,j=hr(l.length,b),N=Nr(u);j--;){var U=l[j];u[j]=Io(U,b)?N[U]:v}return u}function Tc(u,l){if((l!=="constructor"||typeof u[l]!="function")&&l!="__proto__")return u[l]}var el=Nc(Cf),Ma=vf||function(u,l){return kn.setTimeout(u,l)},Dc=Nc(qd);function tl(u,l,b){var j=l+"";return Dc(u,function(N,U){var te=U.length;if(!te)return N;var ce=te-1;return U[ce]=(te>1?"& ":"")+U[ce],U=U.join(te>2?", ":" "),N.replace(q,`{
/* [wrapped with `+U+`] */
`)}(j,function(N,U){return br(ie,function(te){var ce="_."+te[0];U&te[1]&&!_r(N,ce)&&N.push(ce)}),N.sort()}(function(N){var U=N.match(de);return U?U[1].split(oe):[]}(j),b)))}function Nc(u){var l=0,b=0;return function(){var j=ac(),N=16-(j-b);if(b=j,N>0){if(++l>=800)return arguments[0]}else l=0;return u.apply(v,arguments)}}function Ui(u,l){var b=-1,j=u.length,N=j-1;for(l=l===v?j:l;++b<l;){var U=Rs(b,N),te=u[U];u[U]=u[b],u[b]=te}return u.length=l,u}var Qf=function(u){var l=Ta(u,function(j){return b.size===500&&b.clear(),j}),b=l.cache;return l}(function(u){var l=[];return u.charCodeAt(0)===46&&l.push(""),u.replace(Zt,function(b,j,N,U){l.push(N?U.replace(We,"$1"):j||b)}),l});function Wn(u){if(typeof u=="string"||cr(u))return u;var l=u+"";return l=="0"&&1/u==-1/0?"-0":l}function Cr(u){if(u!=null){try{return Ht.call(u)}catch(l){}try{return u+""}catch(l){}}return""}function ep(u){if(u instanceof Qt)return u.clone();var l=new Qr(u.__wrapped__,u.__chain__);return l.__actions__=Nr(u.__actions__),l.__index__=u.__index__,l.__values__=u.__values__,l}var Hr=Vt(function(u,l){return In(u)?Vo(u,or(l,1,In,!0)):[]}),tp=Vt(function(u,l){var b=mn(l);return In(b)&&(b=v),In(u)?Vo(u,or(l,1,In,!0),wt(b,2)):[]}),nl=Vt(function(u,l){var b=mn(l);return In(b)&&(b=v),In(u)?Vo(u,or(l,1,In,!0),v,b):[]});function rl(u,l,b){var j=u==null?0:u.length;if(!j)return-1;var N=b==null?0:Gt(b);return N<0&&(N=Qn(j+N,0)),So(u,wt(l,3),N)}function ol(u,l,b){var j=u==null?0:u.length;if(!j)return-1;var N=j-1;return b!==v&&(N=Gt(b),N=b<0?Qn(j+N,0):hr(N,j-1)),So(u,wt(l,3),N,!0)}function il(u){return u!=null&&u.length?or(u,1):[]}function al(u){return u&&u.length?u[0]:v}var np=Vt(function(u){var l=en(u,Oc);return l.length&&l[0]===u[0]?hc(l):[]}),ul=Vt(function(u){var l=mn(u),b=en(u,Oc);return l===mn(b)?l=v:b.pop(),b.length&&b[0]===u[0]?hc(b,wt(l,2)):[]}),Eu=Vt(function(u){var l=mn(u),b=en(u,Oc);return(l=typeof l=="function"?l:v)&&b.pop(),b.length&&b[0]===u[0]?hc(b,v,l):[]});function mn(u){var l=u==null?0:u.length;return l?u[l-1]:v}var eh=Vt(rp);function rp(u,l){return u&&u.length&&l&&l.length?Cs(u,l):u}var cl=xn(function(u,l){var b=u==null?0:u.length,j=pc(u,l);return xa(u,en(l,function(N){return Io(N,b)?+N:N}).sort(Ff)),j});function Cc(u){return u==null?u:Yd.call(u)}var Rr=Vt(function(u){return vi(or(u,1,In,!0))}),Kn=Vt(function(u){var l=mn(u);return In(l)&&(l=v),vi(or(u,1,In,!0),wt(l,2))}),th=Vt(function(u){var l=mn(u);return l=typeof l=="function"?l:v,vi(or(u,1,In,!0),v,l)});function Ir(u){if(!u||!u.length)return[];var l=0;return u=fr(u,function(b){if(In(b))return l=Qn(b.length,l),!0}),Ri(l,function(b){return en(u,wr(b))})}function St(u,l){if(!u||!u.length)return[];var b=Ir(u);return l==null?b:en(b,function(j){return hn(l,v,j)})}var sl=Vt(function(u,l){return In(u)?Vo(u,l):[]}),ll=Vt(function(u){return _c(fr(u,In))}),fl=Vt(function(u){var l=mn(u);return In(l)&&(l=v),_c(fr(u,In),wt(l,2))}),op=Vt(function(u){var l=mn(u);return l=typeof l=="function"?l:v,_c(fr(u,In),v,l)}),ip=Vt(Ir),nh=Vt(function(u){var l=u.length,b=l>1?u[l-1]:v;return b=typeof b=="function"?(u.pop(),b):v,St(u,b)});function ap(u){var l=F(u);return l.__chain__=!0,l}function ka(u,l){return l(u)}var rh=xn(function(u){var l=u.length,b=l?u[0]:0,j=this.__wrapped__,N=function(U){return pc(U,u)};return!(l>1||this.__actions__.length)&&j instanceof Qt&&Io(b)?((j=j.slice(b,+b+(l?1:0))).__actions__.push({func:ka,args:[N],thisArg:v}),new Qr(j,this.__chain__).thru(function(U){return l&&!U.length&&U.push(v),U})):this.thru(N)}),pl=xc(function(u,l,b){Qe.call(u,b)?++u[b]:Do(u,b,1)}),oh=Hf(rl),ih=Hf(ol);function dl(u,l){return(Ft(u)?br:On)(u,wt(l,3))}function Gi(u,l){return(Ft(u)?nc:Sf)(u,wt(l,3))}var up=xc(function(u,l,b){Qe.call(u,b)?u[b].push(l):Do(u,b,[l])}),Bt=Vt(function(u,l,b){var j=-1,N=typeof l=="function",U=Sr(u)?Je(u.length):[];return On(u,function(te){U[++j]=N?hn(l,te,b):_a(te,l,b)}),U}),cp=xc(function(u,l,b){Do(u,b,l)});function Xi(u,l){return(Ft(u)?en:to)(u,wt(l,3))}var hl=xc(function(u,l,b){u[b?0:1].push(l)},function(){return[[],[]]}),ah=Vt(function(u,l){if(u==null)return[];var b=l.length;return b>1&&yr(u,l[0],l[1])?l=[]:b>2&&yr(l[0],l[1],l[2])&&(l=[l[0]]),Df(u,or(l,1),[])}),Su=Gd||function(){return kn.Date.now()};function yl(u,l,b){return l=b?v:l,l=u&&l==null?u.length:l,Ro(u,C,v,v,v,v,l)}function vl(u,l){var b;if(typeof l!="function")throw new K(E);return u=Gt(u),function(){return--u>0&&(b=l.apply(this,arguments)),u<=1&&(l=v),b}}var gl=Vt(function(u,l,b){var j=1;if(b.length){var N=kr(b,ja(gl));j|=k}return Ro(u,j,l,b,N)}),sp=Vt(function(u,l,b){var j=3;if(b.length){var N=kr(b,ja(sp));j|=k}return Ro(l,j,u,b,N)});function lp(u,l,b){var j,N,U,te,ce,_e,Z=0,Ne=!1,Ue=!1,st=!0;if(typeof u!="function")throw new K(E);function dt(kt){var Ct=j,$t=N;return j=N=v,Z=kt,te=u.apply($t,Ct)}function jt(kt){return Z=kt,ce=Ma(Xe,l),Ne?dt(kt):te}function Le(kt){var Ct=kt-_e;return _e===v||Ct>=l||Ct<0||Ue&&kt-Z>=U}function Xe(){var kt=Su();if(Le(kt))return Mt(kt);ce=Ma(Xe,function(Ct){var $t=l-(Ct-_e);return Ue?hr($t,U-(Ct-Z)):$t}(kt))}function Mt(kt){return ce=v,st&&j?dt(kt):(j=N=v,te)}function at(){var kt=Su(),Ct=Le(kt);if(j=arguments,N=this,_e=kt,Ct){if(ce===v)return jt(_e);if(Ue)return Us(ce),ce=Ma(Xe,l),dt(_e)}return ce===v&&(ce=Ma(Xe,l)),te}return l=jr(l)||0,An(b)&&(Ne=!!b.leading,U=(Ue="maxWait"in b)?Qn(jr(b.maxWait)||0,l):U,st="trailing"in b?!!b.trailing:st),at.cancel=function(){ce!==v&&Us(ce),Z=0,j=_e=N=ce=v},at.flush=function(){return ce===v?te:Mt(Su())},at}var ju=Vt(function(u,l){return ks(u,1,l)}),uh=Vt(function(u,l,b){return ks(u,jr(l)||0,b)});function Ta(u,l){if(typeof u!="function"||l!=null&&typeof l!="function")throw new K(E);var b=function(){var j=arguments,N=l?l.apply(this,j):j[0],U=b.cache;if(U.has(N))return U.get(N);var te=u.apply(this,j);return b.cache=U.set(N,te)||U,te};return b.cache=new(Ta.Cache||To),b}function Rc(u){if(typeof u!="function")throw new K(E);return function(){var l=arguments;switch(l.length){case 0:return!u.call(this);case 1:return!u.call(this,l[0]);case 2:return!u.call(this,l[0],l[1]);case 3:return!u.call(this,l[0],l[1],l[2])}return!u.apply(this,l)}}Ta.Cache=To;var ch=Bf(function(u,l){var b=(l=l.length==1&&Ft(l[0])?en(l[0],jn(wt())):en(or(l,1),jn(wt()))).length;return Vt(function(j){for(var N=-1,U=hr(j.length,b);++N<U;)j[N]=l[N].call(this,j[N]);return hn(u,this,j)})}),Hi=Vt(function(u,l){var b=kr(l,ja(Hi));return Ro(u,k,v,l,b)}),Zo=Vt(function(u,l){var b=kr(l,ja(Zo));return Ro(u,I,v,l,b)}),ml=xn(function(u,l){return Ro(u,L,v,v,v,l)});function En(u,l){return u===l||u!=u&&l!=l}var Ic=Sa(Tn),Pu=Sa(function(u,l){return u>=l}),Yi=Ds(function(){return arguments}())?Ds:function(u){return Mn(u)&&Qe.call(u,"callee")&&!dr.call(u,"callee")},Ft=Je.isArray,fp=iu?jn(iu):function(u){return Mn(u)&&Pn(u)==Fe};function Sr(u){return u!=null&&Vi(u.length)&&!Jo(u)}function In(u){return Mn(u)&&Sr(u)}var qo=Xd||Iu,Lc=ec?jn(ec):function(u){return Mn(u)&&Pn(u)==B};function bl(u){if(!Mn(u))return!1;var l=Pn(u);return l==X||l=="[object DOMException]"||typeof u.message=="string"&&typeof u.name=="string"&&!Qo(u)}function Jo(u){if(!An(u))return!1;var l=Pn(u);return l==Y||l==$||l=="[object AsyncFunction]"||l=="[object Proxy]"}function zc(u){return typeof u=="number"&&u==Gt(u)}function Vi(u){return typeof u=="number"&&u>-1&&u%1==0&&u<=W}function An(u){var l=typeof u;return u!=null&&(l=="object"||l=="function")}function Mn(u){return u!=null&&typeof u=="object"}var pp=au?jn(au):function(u){return Mn(u)&&ur(u)==ae};function _l(u){return typeof u=="number"||Mn(u)&&Pn(u)==xe}function Qo(u){if(!Mn(u)||Pn(u)!=me)return!1;var l=Xo(u);if(l===null)return!0;var b=Qe.call(l,"constructor")&&l.constructor;return typeof b=="function"&&b instanceof b&&Ht.call(b)==Gr}var Ol=ua?jn(ua):function(u){return Mn(u)&&Pn(u)==ze},Da=li?jn(li):function(u){return Mn(u)&&ur(u)==Se};function Au(u){return typeof u=="string"||!Ft(u)&&Mn(u)&&Pn(u)==ve}function cr(u){return typeof u=="symbol"||Mn(u)&&Pn(u)==je}var Oi=ao?jn(ao):function(u){return Mn(u)&&Vi(u.length)&&!!an[Pn(u)]},Na=Sa($o),Mu=Sa(function(u,l){return u<=l});function Ca(u){if(!u)return[];if(Sr(u))return Au(u)?Tr(u):Nr(u);if(Ho&&u[Ho])return function(b){for(var j,N=[];!(j=b.next()).done;)N.push(j.value);return N}(u[Ho]());var l=ur(u);return(l==ae?pr:l==Se?Go:xi)(u)}function Lo(u){return u?(u=jr(u))===G||u===-1/0?17976931348623157e292*(u<0?-1:1):u==u?u:0:u===0?u:0}function Gt(u){var l=Lo(u),b=l%1;return l==l?b?l-b:l:0}function wl(u){return u?yi(Gt(u),0,se):0}function jr(u){if(typeof u=="number")return u;if(cr(u))return ne;if(An(u)){var l=typeof u.valueOf=="function"?u.valueOf():u;u=An(l)?l+"":l}if(typeof u!="string")return u===0?u:+u;u=su(u);var b=nr.test(u);return b||Fn.test(u)?Eo(u.slice(2),b?2:8):Yn.test(u)?ne:+u}function xl(u){return No(u,ir(u))}function cn(u){return u==null?"":Dr(u)}var dp=Fi(function(u,l){if(Aa(l)||Sr(l))No(l,$n(l),u);else for(var b in l)Qe.call(l,b)&&ba(u,b,l[b])}),El=Fi(function(u,l){No(l,ir(l),u)}),ei=Fi(function(u,l,b,j){No(l,ir(l),u,j)}),Sl=Fi(function(u,l,b,j){No(l,$n(l),u,j)}),hp=xn(pc),yp=Vt(function(u,l){u=w(u);var b=-1,j=l.length,N=j>2?l[2]:v;for(N&&yr(l[0],l[1],N)&&(j=1);++b<j;)for(var U=l[b],te=ir(U),ce=-1,_e=te.length;++ce<_e;){var Z=te[ce],Ne=u[Z];(Ne===v||En(Ne,Be[Z])&&!Qe.call(u,Z))&&(u[Z]=U[Z])}return u}),jl=Vt(function(u){return u.push(v,Kf),hn(Ml,v,u)});function ku(u,l,b){var j=u==null?v:Wo(u,l);return j===v?b:j}function Tu(u,l){return u!=null&&Ks(u,l,Af)}var vp=Vf(function(u,l,b){l!=null&&typeof l.toString!="function"&&(l=tn.call(l)),u[l]=b},Xc(vr)),Pl=Vf(function(u,l,b){l!=null&&typeof l.toString!="function"&&(l=tn.call(l)),Qe.call(u,l)?u[l].push(b):u[l]=[b]},wt),Al=Vt(_a);function $n(u){return Sr(u)?js(u):Ko(u)}function ir(u){return Sr(u)?js(u,!0):$d(u)}var wi=Fi(function(u,l,b){vc(u,l,b)}),Ml=Fi(function(u,l,b,j){vc(u,l,b,j)}),gp=xn(function(u,l){var b={};if(u==null)return b;var j=!1;l=en(l,function(U){return U=gi(U,u),j||(j=U.length>1),U}),No(u,Vs(u),b),j&&(b=Xr(b,7,Qd));for(var N=l.length;N--;)bc(b,l[N]);return b}),kl=xn(function(u,l){return u==null?{}:function(b,j){return Nf(b,j,function(N,U){return Tu(b,U)})}(u,l)});function Bc(u,l){if(u==null)return{};var b=en(Vs(u),function(j){return[j]});return l=wt(l),Nf(u,b,function(j,N){return l(j,N[0])})}var mp=Pc($n),Tl=Pc(ir);function xi(u){return u==null?[]:fa(u,$n(u))}var Fc=bi(function(u,l,b){return l=l.toLowerCase(),u+(b?Du(l):l)});function Du(u){return Ln(cn(u).toLowerCase())}function Uc(u){return(u=cn(u))&&u.replace(mt,fu).replace(xo,"")}var Dl=bi(function(u,l,b){return u+(b?"-":"")+l.toLowerCase()}),bp=bi(function(u,l,b){return u+(b?" ":"")+l.toLowerCase()}),Nl=Xf("toLowerCase"),_p=bi(function(u,l,b){return u+(b?"_":"")+l.toLowerCase()}),Cl=bi(function(u,l,b){return u+(b?" ":"")+Ln(l)}),sh=bi(function(u,l,b){return u+(b?" ":"")+l.toUpperCase()}),Ln=Xf("toUpperCase");function ho(u,l,b){return u=cn(u),(l=b?v:l)===v?function(j){return tu.test(j)}(u)?function(j){return j.match(ia)||[]}(u):function(j){return j.match(be)||[]}(u):u.match(l)||[]}var Gc=Vt(function(u,l){try{return hn(u,v,l)}catch(b){return bl(b)?b:new Wt(b)}}),Rl=xn(function(u,l){return br(l,function(b){b=Wn(b),Do(u,b,gl(u[b],u))}),u});function Xc(u){return function(){return u}}var Il=Yf(),Ll=Yf(!0);function vr(u){return u}function zl(u){return Ns(typeof u=="function"?u:Xr(u,1))}var Wi=Vt(function(u,l){return function(b){return _a(b,u,l)}}),Bl=Vt(function(u,l){return function(b){return _a(u,b,l)}});function Nu(u,l,b){var j=$n(l),N=dc(l,j);b!=null||An(l)&&(N.length||!j.length)||(b=l,l=u,u=this,N=dc(l,$n(l)));var U=!(An(b)&&"chain"in b&&!b.chain),te=Jo(u);return br(N,function(ce){var _e=l[ce];u[ce]=_e,te&&(u.prototype[ce]=function(){var Z=this.__chain__;if(U||Z){var Ne=u(this.__wrapped__),Ue=Ne.__actions__=Nr(this.__actions__);return Ue.push({func:_e,args:arguments,thisArg:u}),Ne.__chain__=Z,Ne}return _e.apply(u,Vn([this.value()],arguments))})}),u}function Hc(){}var Cu=Hs(en),Ru=Hs(rc),Fl=Hs(cu);function Ul(u){return Mc(u)?wr(Wn(u)):function(l){return function(b){return Wo(b,l)}}(u)}var Op=Co(),ar=Co(!0);function Ra(){return[]}function Iu(){return!1}var Gl=Ou(function(u,l){return u+l},0),wp=jc("ceil"),xp=Ou(function(u,l){return u/l},1),Xl=jc("floor"),Ia,Ep=Ou(function(u,l){return u*l},1),Yc=jc("round"),Vc=Ou(function(u,l){return u-l},0);return F.after=function(u,l){if(typeof l!="function")throw new K(E);return u=Gt(u),function(){if(--u<1)return l.apply(this,arguments)}},F.ary=yl,F.assign=dp,F.assignIn=El,F.assignInWith=ei,F.assignWith=Sl,F.at=hp,F.before=vl,F.bind=gl,F.bindAll=Rl,F.bindKey=sp,F.castArray=function(){if(!arguments.length)return[];var u=arguments[0];return Ft(u)?u:[u]},F.chain=ap,F.chunk=function(u,l,b){l=(b?yr(u,l,b):l===v)?1:Qn(Gt(l),0);var j=u==null?0:u.length;if(!j||l<1)return[];for(var N=0,U=0,te=Je(ic(j/l));N<j;)te[U++]=no(u,N,N+=l);return te},F.compact=function(u){for(var l=-1,b=u==null?0:u.length,j=0,N=[];++l<b;){var U=u[l];U&&(N[j++]=U)}return N},F.concat=function(){var u=arguments.length;if(!u)return[];for(var l=Je(u-1),b=arguments[0],j=u;j--;)l[j-1]=arguments[j];return Vn(Ft(b)?Nr(b):[b],or(l,1))},F.cond=function(u){var l=u==null?0:u.length,b=wt();return u=l?en(u,function(j){if(typeof j[1]!="function")throw new K(E);return[b(j[0]),j[1]]}):[],Vt(function(j){for(var N=-1;++N<l;){var U=u[N];if(hn(U[0],this,j))return hn(U[1],this,j)}})},F.conforms=function(u){return function(l){var b=$n(l);return function(j){return Ms(j,l,b)}}(Xr(u,1))},F.constant=Xc,F.countBy=pl,F.create=function(u,l){var b=ma(u);return l==null?b:As(b,l)},F.curry=function u(l,b,j){var N=Ro(l,8,v,v,v,v,v,b=j?v:b);return N.placeholder=u.placeholder,N},F.curryRight=function u(l,b,j){var N=Ro(l,T,v,v,v,v,v,b=j?v:b);return N.placeholder=u.placeholder,N},F.debounce=lp,F.defaults=yp,F.defaultsDeep=jl,F.defer=ju,F.delay=uh,F.difference=Hr,F.differenceBy=tp,F.differenceWith=nl,F.drop=function(u,l,b){var j=u==null?0:u.length;return j?no(u,(l=b||l===v?1:Gt(l))<0?0:l,j):[]},F.dropRight=function(u,l,b){var j=u==null?0:u.length;return j?no(u,0,(l=j-(l=b||l===v?1:Gt(l)))<0?0:l):[]},F.dropRightWhile=function(u,l){return u&&u.length?mu(u,wt(l,3),!0,!0):[]},F.dropWhile=function(u,l){return u&&u.length?mu(u,wt(l,3),!0):[]},F.fill=function(u,l,b,j){var N=u==null?0:u.length;return N?(b&&typeof b!="number"&&yr(u,l,b)&&(b=0,j=N),function(U,te,ce,_e){var Z=U.length;for((ce=Gt(ce))<0&&(ce=-ce>Z?0:Z+ce),(_e=_e===v||_e>Z?Z:Gt(_e))<0&&(_e+=Z),_e=ce>_e?0:wl(_e);ce<_e;)U[ce++]=te;return U}(u,l,b,j)):[]},F.filter=function(u,l){return(Ft(u)?fr:un)(u,wt(l,3))},F.flatMap=function(u,l){return or(Xi(u,l),1)},F.flatMapDeep=function(u,l){return or(Xi(u,l),G)},F.flatMapDepth=function(u,l,b){return b=b===v?1:Gt(b),or(Xi(u,l),b)},F.flatten=il,F.flattenDeep=function(u){return u!=null&&u.length?or(u,G):[]},F.flattenDepth=function(u,l){return u!=null&&u.length?or(u,l=l===v?1:Gt(l)):[]},F.flip=function(u){return Ro(u,512)},F.flow=Il,F.flowRight=Ll,F.fromPairs=function(u){for(var l=-1,b=u==null?0:u.length,j={};++l<b;){var N=u[l];j[N[0]]=N[1]}return j},F.functions=function(u){return u==null?[]:dc(u,$n(u))},F.functionsIn=function(u){return u==null?[]:dc(u,ir(u))},F.groupBy=up,F.initial=function(u){return u!=null&&u.length?no(u,0,-1):[]},F.intersection=np,F.intersectionBy=ul,F.intersectionWith=Eu,F.invert=vp,F.invertBy=Pl,F.invokeMap=Bt,F.iteratee=zl,F.keyBy=cp,F.keys=$n,F.keysIn=ir,F.map=Xi,F.mapKeys=function(u,l){var b={};return l=wt(l,3),ft(u,function(j,N,U){Do(b,l(j,N,U),j)}),b},F.mapValues=function(u,l){var b={};return l=wt(l,3),ft(u,function(j,N,U){Do(b,N,l(j,N,U))}),b},F.matches=function(u){return Mf(Xr(u,1))},F.matchesProperty=function(u,l){return kf(u,Xr(l,1))},F.memoize=Ta,F.merge=wi,F.mergeWith=Ml,F.method=Wi,F.methodOf=Bl,F.mixin=Nu,F.negate=Rc,F.nthArg=function(u){return u=Gt(u),Vt(function(l){return Tf(l,u)})},F.omit=gp,F.omitBy=function(u,l){return Bc(u,Rc(wt(l)))},F.once=function(u){return vl(2,u)},F.orderBy=function(u,l,b,j){return u==null?[]:(Ft(l)||(l=l==null?[]:[l]),Ft(b=j?v:b)||(b=b==null?[]:[b]),Df(u,l,b))},F.over=Cu,F.overArgs=ch,F.overEvery=Ru,F.overSome=Fl,F.partial=Hi,F.partialRight=Zo,F.partition=hl,F.pick=kl,F.pickBy=Bc,F.property=Ul,F.propertyOf=function(u){return function(l){return u==null?v:Wo(u,l)}},F.pull=eh,F.pullAll=rp,F.pullAllBy=function(u,l,b){return u&&u.length&&l&&l.length?Cs(u,l,wt(b,2)):u},F.pullAllWith=function(u,l,b){return u&&u.length&&l&&l.length?Cs(u,l,v,b):u},F.pullAt=cl,F.range=Op,F.rangeRight=ar,F.rearg=ml,F.reject=function(u,l){return(Ft(u)?fr:un)(u,Rc(wt(l,3)))},F.remove=function(u,l){var b=[];if(!u||!u.length)return b;var j=-1,N=[],U=u.length;for(l=wt(l,3);++j<U;){var te=u[j];l(te,j,u)&&(b.push(te),N.push(j))}return xa(u,N),b},F.rest=function(u,l){if(typeof u!="function")throw new K(E);return Vt(u,l=l===v?l:Gt(l))},F.reverse=Cc,F.sampleSize=function(u,l,b){return l=(b?yr(u,l,b):l===v)?1:Gt(l),(Ft(u)?wf:Is)(u,l)},F.set=function(u,l,b){return u==null?u:Ea(u,l,b)},F.setWith=function(u,l,b,j){return j=typeof j=="function"?j:v,u==null?u:Ea(u,l,b,j)},F.shuffle=function(u){return(Ft(u)?xf:Jd)(u)},F.slice=function(u,l,b){var j=u==null?0:u.length;return j?(b&&typeof b!="number"&&yr(u,l,b)?(l=0,b=j):(l=l==null?0:Gt(l),b=b===v?j:Gt(b)),no(u,l,b)):[]},F.sortBy=ah,F.sortedUniq=function(u){return u&&u.length?Rf(u):[]},F.sortedUniqBy=function(u,l){return u&&u.length?Rf(u,wt(l,2)):[]},F.split=function(u,l,b){return b&&typeof b!="number"&&yr(u,l,b)&&(l=b=v),(b=b===v?se:b>>>0)?(u=cn(u))&&(typeof l=="string"||l!=null&&!Ol(l))&&!(l=Dr(l))&&so(u)?mi(Tr(u),0,b):u.split(l,b):[]},F.spread=function(u,l){if(typeof u!="function")throw new K(E);return l=l==null?0:Qn(Gt(l),0),Vt(function(b){var j=b[l],N=mi(b,0,l);return j&&Vn(N,j),hn(u,this,N)})},F.tail=function(u){var l=u==null?0:u.length;return l?no(u,1,l):[]},F.take=function(u,l,b){return u&&u.length?no(u,0,(l=b||l===v?1:Gt(l))<0?0:l):[]},F.takeRight=function(u,l,b){var j=u==null?0:u.length;return j?no(u,(l=j-(l=b||l===v?1:Gt(l)))<0?0:l,j):[]},F.takeRightWhile=function(u,l){return u&&u.length?mu(u,wt(l,3),!1,!0):[]},F.takeWhile=function(u,l){return u&&u.length?mu(u,wt(l,3)):[]},F.tap=function(u,l){return l(u),u},F.throttle=function(u,l,b){var j=!0,N=!0;if(typeof u!="function")throw new K(E);return An(b)&&(j="leading"in b?!!b.leading:j,N="trailing"in b?!!b.trailing:N),lp(u,l,{leading:j,maxWait:l,trailing:N})},F.thru=ka,F.toArray=Ca,F.toPairs=mp,F.toPairsIn=Tl,F.toPath=function(u){return Ft(u)?en(u,Wn):cr(u)?[u]:Nr(Qf(cn(u)))},F.toPlainObject=xl,F.transform=function(u,l,b){var j=Ft(u),N=j||qo(u)||Oi(u);if(l=wt(l,4),b==null){var U=u&&u.constructor;b=N?j?new U:[]:An(u)&&Jo(U)?ma(Xo(u)):{}}return(N?br:ft)(u,function(te,ce,_e){return l(b,te,ce,_e)}),b},F.unary=function(u){return yl(u,1)},F.union=Rr,F.unionBy=Kn,F.unionWith=th,F.uniq=function(u){return u&&u.length?vi(u):[]},F.uniqBy=function(u,l){return u&&u.length?vi(u,wt(l,2)):[]},F.uniqWith=function(u,l){return l=typeof l=="function"?l:v,u&&u.length?vi(u,v,l):[]},F.unset=function(u,l){return u==null||bc(u,l)},F.unzip=Ir,F.unzipWith=St,F.update=function(u,l,b){return u==null?u:If(u,l,Fs(b))},F.updateWith=function(u,l,b,j){return j=typeof j=="function"?j:v,u==null?u:If(u,l,Fs(b),j)},F.values=xi,F.valuesIn=function(u){return u==null?[]:fa(u,ir(u))},F.without=sl,F.words=ho,F.wrap=function(u,l){return Hi(Fs(l),u)},F.xor=ll,F.xorBy=fl,F.xorWith=op,F.zip=ip,F.zipObject=function(u,l){return zf(u||[],l||[],ba)},F.zipObjectDeep=function(u,l){return zf(u||[],l||[],Ea)},F.zipWith=nh,F.entries=mp,F.entriesIn=Tl,F.extend=El,F.extendWith=ei,Nu(F,F),F.add=Gl,F.attempt=Gc,F.camelCase=Fc,F.capitalize=Du,F.ceil=wp,F.clamp=function(u,l,b){return b===v&&(b=l,l=v),b!==v&&(b=(b=jr(b))==b?b:0),l!==v&&(l=(l=jr(l))==l?l:0),yi(jr(u),l,b)},F.clone=function(u){return Xr(u,4)},F.cloneDeep=function(u){return Xr(u,5)},F.cloneDeepWith=function(u,l){return Xr(u,5,l=typeof l=="function"?l:v)},F.cloneWith=function(u,l){return Xr(u,4,l=typeof l=="function"?l:v)},F.conformsTo=function(u,l){return l==null||Ms(u,l,$n(l))},F.deburr=Uc,F.defaultTo=function(u,l){return u==null||u!=u?l:u},F.divide=xp,F.endsWith=function(u,l,b){u=cn(u),l=Dr(l);var j=u.length,N=b=b===v?j:yi(Gt(b),0,j);return(b-=l.length)>=0&&u.slice(b,N)==l},F.eq=En,F.escape=function(u){return(u=cn(u))&&ut.test(u)?u.replace(ht,Un):u},F.escapeRegExp=function(u){return(u=cn(u))&&bn.test(u)?u.replace(fn,"\\$&"):u},F.every=function(u,l,b){var j=Ft(u)?rc:jf;return b&&yr(u,l,b)&&(l=v),j(u,wt(l,3))},F.find=oh,F.findIndex=rl,F.findKey=function(u,l){return uo(u,wt(l,3),ft)},F.findLast=ih,F.findLastIndex=ol,F.findLastKey=function(u,l){return uo(u,wt(l,3),vn)},F.floor=Xl,F.forEach=dl,F.forEachRight=Gi,F.forIn=function(u,l){return u==null?u:Yt(u,wt(l,3),ir)},F.forInRight=function(u,l){return u==null?u:Gn(u,wt(l,3),ir)},F.forOwn=function(u,l){return u&&ft(u,wt(l,3))},F.forOwnRight=function(u,l){return u&&vn(u,wt(l,3))},F.get=ku,F.gt=Ic,F.gte=Pu,F.has=function(u,l){return u!=null&&Ks(u,l,Pf)},F.hasIn=Tu,F.head=al,F.identity=vr,F.includes=function(u,l,b,j){u=Sr(u)?u:xi(u),b=b&&!j?Gt(b):0;var N=u.length;return b<0&&(b=Qn(N+b,0)),Au(u)?b<=N&&u.indexOf(l,b)>-1:!!N&&fi(u,l,b)>-1},F.indexOf=function(u,l,b){var j=u==null?0:u.length;if(!j)return-1;var N=b==null?0:Gt(b);return N<0&&(N=Qn(j+N,0)),fi(u,l,N)},F.inRange=function(u,l,b){return l=Lo(l),b===v?(b=l,l=0):b=Lo(b),function(j,N,U){return j>=hr(N,U)&&j<Qn(N,U)}(u=jr(u),l,b)},F.invoke=Al,F.isArguments=Yi,F.isArray=Ft,F.isArrayBuffer=fp,F.isArrayLike=Sr,F.isArrayLikeObject=In,F.isBoolean=function(u){return u===!0||u===!1||Mn(u)&&Pn(u)==V},F.isBuffer=qo,F.isDate=Lc,F.isElement=function(u){return Mn(u)&&u.nodeType===1&&!Qo(u)},F.isEmpty=function(u){if(u==null)return!0;if(Sr(u)&&(Ft(u)||typeof u=="string"||typeof u.splice=="function"||qo(u)||Oi(u)||Yi(u)))return!u.length;var l=ur(u);if(l==ae||l==Se)return!u.size;if(Aa(u))return!Ko(u).length;for(var b in u)if(Qe.call(u,b))return!1;return!0},F.isEqual=function(u,l){return Oa(u,l)},F.isEqualWith=function(u,l,b){var j=(b=typeof b=="function"?b:v)?b(u,l):v;return j===v?Oa(u,l,v,b):!!j},F.isError=bl,F.isFinite=function(u){return typeof u=="number"&&gf(u)},F.isFunction=Jo,F.isInteger=zc,F.isLength=Vi,F.isMap=pp,F.isMatch=function(u,l){return u===l||yc(u,l,Ac(l))},F.isMatchWith=function(u,l,b){return b=typeof b=="function"?b:v,yc(u,l,Ac(l),b)},F.isNaN=function(u){return _l(u)&&u!=+u},F.isNative=function(u){if(qf(u))throw new Wt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return wa(u)},F.isNil=function(u){return u==null},F.isNull=function(u){return u===null},F.isNumber=_l,F.isObject=An,F.isObjectLike=Mn,F.isPlainObject=Qo,F.isRegExp=Ol,F.isSafeInteger=function(u){return zc(u)&&u>=-9007199254740991&&u<=W},F.isSet=Da,F.isString=Au,F.isSymbol=cr,F.isTypedArray=Oi,F.isUndefined=function(u){return u===v},F.isWeakMap=function(u){return Mn(u)&&ur(u)==Ae},F.isWeakSet=function(u){return Mn(u)&&Pn(u)=="[object WeakSet]"},F.join=function(u,l){return u==null?"":Hd.call(u,l)},F.kebabCase=Dl,F.last=mn,F.lastIndexOf=function(u,l,b){var j=u==null?0:u.length;if(!j)return-1;var N=j;return b!==v&&(N=(N=Gt(b))<0?Qn(j+N,0):hr(N,j-1)),l==l?function(U,te,ce){for(var _e=ce+1;_e--;)if(U[_e]===te)return _e;return _e}(u,l,N):So(u,jo,N,!0)},F.lowerCase=bp,F.lowerFirst=Nl,F.lt=Na,F.lte=Mu,F.max=function(u){return u&&u.length?Rn(u,vr,Tn):v},F.maxBy=function(u,l){return u&&u.length?Rn(u,wt(l,2),Tn):v},F.mean=function(u){return qt(u,vr)},F.meanBy=function(u,l){return qt(u,wt(l,2))},F.min=function(u){return u&&u.length?Rn(u,vr,$o):v},F.minBy=function(u,l){return u&&u.length?Rn(u,wt(l,2),$o):v},F.stubArray=Ra,F.stubFalse=Iu,F.stubObject=function(){return{}},F.stubString=function(){return""},F.stubTrue=function(){return!0},F.multiply=Ep,F.nth=function(u,l){return u&&u.length?Tf(u,Gt(l)):v},F.noConflict=function(){return kn._===this&&(kn._=_n),this},F.noop=Hc,F.now=Su,F.pad=function(u,l,b){u=cn(u);var j=(l=Gt(l))?lo(u):0;if(!l||j>=l)return u;var N=(l-j)/2;return Ec(ha(N),b)+u+Ec(ic(N),b)},F.padEnd=function(u,l,b){u=cn(u);var j=(l=Gt(l))?lo(u):0;return l&&j<l?u+Ec(l-j,b):u},F.padStart=function(u,l,b){u=cn(u);var j=(l=Gt(l))?lo(u):0;return l&&j<l?Ec(l-j,b)+u:u},F.parseInt=function(u,l,b){return b||l==null?l=0:l&&(l=+l),uc(cn(u).replace(Dt,""),l||0)},F.random=function(u,l,b){if(b&&typeof b!="boolean"&&yr(u,l,b)&&(l=b=v),b===v&&(typeof l=="boolean"?(b=l,l=v):typeof u=="boolean"&&(b=u,u=v)),u===v&&l===v?(u=0,l=1):(u=Lo(u),l===v?(l=u,u=0):l=Lo(l)),u>l){var j=u;u=l,l=j}if(b||u%1||l%1){var N=cc();return hr(u+N*(l-u+si("1e-"+((N+"").length-1))),l)}return Rs(u,l)},F.reduce=function(u,l,b){var j=Ft(u)?ca:Jn,N=arguments.length<3;return j(u,wt(l,4),b,N,On)},F.reduceRight=function(u,l,b){var j=Ft(u)?oc:Jn,N=arguments.length<3;return j(u,wt(l,4),b,N,Sf)},F.repeat=function(u,l,b){return l=(b?yr(u,l,b):l===v)?1:Gt(l),gc(cn(u),l)},F.replace=function(){var u=arguments,l=cn(u[0]);return u.length<3?l:l.replace(u[1],u[2])},F.result=function(u,l,b){var j=-1,N=(l=gi(l,u)).length;for(N||(N=1,u=v);++j<N;){var U=u==null?v:u[Wn(l[j])];U===v&&(j=N,U=b),u=Jo(U)?U.call(u):U}return u},F.round=Yc,F.runInContext=Oe,F.sample=function(u){return(Ft(u)?Ps:Zd)(u)},F.size=function(u){if(u==null)return 0;if(Sr(u))return Au(u)?lo(u):u.length;var l=ur(u);return l==ae||l==Se?u.size:Ko(u).length},F.snakeCase=_p,F.some=function(u,l,b){var j=Ft(u)?cu:Ls;return b&&yr(u,l,b)&&(l=v),j(u,wt(l,3))},F.sortedIndex=function(u,l){return mc(u,l)},F.sortedIndexBy=function(u,l,b){return zs(u,l,wt(b,2))},F.sortedIndexOf=function(u,l){var b=u==null?0:u.length;if(b){var j=mc(u,l);if(j<b&&En(u[j],l))return j}return-1},F.sortedLastIndex=function(u,l){return mc(u,l,!0)},F.sortedLastIndexBy=function(u,l,b){return zs(u,l,wt(b,2),!0)},F.sortedLastIndexOf=function(u,l){if(u!=null&&u.length){var b=mc(u,l,!0)-1;if(En(u[b],l))return b}return-1},F.startCase=Cl,F.startsWith=function(u,l,b){return u=cn(u),b=b==null?0:yi(Gt(b),0,u.length),l=Dr(l),u.slice(b,b+l.length)==l},F.subtract=Vc,F.sum=function(u){return u&&u.length?la(u,vr):0},F.sumBy=function(u,l){return u&&u.length?la(u,wt(l,2)):0},F.template=function(u,l,b){var j=F.templateSettings;b&&yr(u,l,b)&&(l=v),u=cn(u),l=ei({},l,j,Wf);var N,U,te=ei({},l.imports,j.imports,Wf),ce=$n(te),_e=fa(te,ce),Z=0,Ne=l.interpolate||xt,Ue="__p += '",st=P((l.escape||xt).source+"|"+Ne.source+"|"+(Ne===Rt?lt:xt).source+"|"+(l.evaluate||xt).source+"|$","g"),dt="//# sourceURL="+(Qe.call(l,"sourceURL")?(l.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++qu+"]")+`
`;u.replace(st,function(Xe,Mt,at,kt,Ct,$t){return at||(at=kt),Ue+=u.slice(Z,$t).replace(Nt,pi),Mt&&(N=!0,Ue+=`' +
__e(`+Mt+`) +
'`),Ct&&(U=!0,Ue+=`';
`+Ct+`;
__p += '`),at&&(Ue+=`' +
((__t = (`+at+`)) == null ? '' : __t) +
'`),Z=$t+Xe.length,Xe}),Ue+=`';
`;var jt=Qe.call(l,"variable")&&l.variable;if(jt){if(Ve.test(jt))throw new Wt("Invalid `variable` option passed into `_.template`")}else Ue=`with (obj) {
`+Ue+`
}
`;Ue=(U?Ue.replace(Ie,""):Ue).replace(Ot,"$1").replace(At,"$1;"),Ue="function("+(jt||"obj")+`) {
`+(jt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(N?", __e = _.escape":"")+(U?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Ue+`return __p
}`;var Le=Gc(function(){return yn(ce,dt+"return "+Ue).apply(v,_e)});if(Le.source=Ue,bl(Le))throw Le;return Le},F.times=function(u,l){if((u=Gt(u))<1||u>W)return[];var b=se,j=hr(u,se);l=wt(l),u-=se;for(var N=Ri(j,l);++b<u;)l(b);return N},F.toFinite=Lo,F.toInteger=Gt,F.toLength=wl,F.toLower=function(u){return cn(u).toLowerCase()},F.toNumber=jr,F.toSafeInteger=function(u){return u?yi(Gt(u),-9007199254740991,W):u===0?u:0},F.toString=cn,F.toUpper=function(u){return cn(u).toUpperCase()},F.trim=function(u,l,b){if((u=cn(u))&&(b||l===v))return su(u);if(!u||!(l=Dr(l)))return u;var j=Tr(u),N=Tr(l);return mi(j,Fr(j,N),lu(j,N)+1).join("")},F.trimEnd=function(u,l,b){if((u=cn(u))&&(b||l===v))return u.slice(0,xr(u)+1);if(!u||!(l=Dr(l)))return u;var j=Tr(u);return mi(j,0,lu(j,Tr(l))+1).join("")},F.trimStart=function(u,l,b){if((u=cn(u))&&(b||l===v))return u.replace(Dt,"");if(!u||!(l=Dr(l)))return u;var j=Tr(u);return mi(j,Fr(j,Tr(l))).join("")},F.truncate=function(u,l){var b=30,j="...";if(An(l)){var N="separator"in l?l.separator:N;b="length"in l?Gt(l.length):b,j="omission"in l?Dr(l.omission):j}var U=(u=cn(u)).length;if(so(u)){var te=Tr(u);U=te.length}if(b>=U)return u;var ce=b-lo(j);if(ce<1)return j;var _e=te?mi(te,0,ce).join(""):u.slice(0,ce);if(N===v)return _e+j;if(te&&(ce+=_e.length-ce),Ol(N)){if(u.slice(ce).search(N)){var Z,Ne=_e;for(N.global||(N=P(N.source,cn(Ut.exec(N))+"g")),N.lastIndex=0;Z=N.exec(Ne);)var Ue=Z.index;_e=_e.slice(0,Ue===v?ce:Ue)}}else if(u.indexOf(Dr(N),ce)!=ce){var st=_e.lastIndexOf(N);st>-1&&(_e=_e.slice(0,st))}return _e+j},F.unescape=function(u){return(u=cn(u))&&Me.test(u)?u.replace(Et,Ur):u},F.uniqueId=function(u){var l=++pn;return cn(u)+l},F.upperCase=sh,F.upperFirst=Ln,F.each=dl,F.eachRight=Gi,F.first=al,Nu(F,(Ia={},ft(F,function(u,l){Qe.call(F.prototype,l)||(Ia[l]=u)}),Ia),{chain:!1}),F.VERSION="4.17.21",br(["bind","bindKey","curry","curryRight","partial","partialRight"],function(u){F[u].placeholder=F}),br(["drop","take"],function(u,l){Qt.prototype[u]=function(b){b=b===v?1:Qn(Gt(b),0);var j=this.__filtered__&&!l?new Qt(this):this.clone();return j.__filtered__?j.__takeCount__=hr(b,j.__takeCount__):j.__views__.push({size:hr(b,se),type:u+(j.__dir__<0?"Right":"")}),j},Qt.prototype[u+"Right"]=function(b){return this.reverse()[u](b).reverse()}}),br(["filter","map","takeWhile"],function(u,l){var b=l+1,j=b==1||b==3;Qt.prototype[u]=function(N){var U=this.clone();return U.__iteratees__.push({iteratee:wt(N,3),type:b}),U.__filtered__=U.__filtered__||j,U}}),br(["head","last"],function(u,l){var b="take"+(l?"Right":"");Qt.prototype[u]=function(){return this[b](1).value()[0]}}),br(["initial","tail"],function(u,l){var b="drop"+(l?"":"Right");Qt.prototype[u]=function(){return this.__filtered__?new Qt(this):this[b](1)}}),Qt.prototype.compact=function(){return this.filter(vr)},Qt.prototype.find=function(u){return this.filter(u).head()},Qt.prototype.findLast=function(u){return this.reverse().find(u)},Qt.prototype.invokeMap=Vt(function(u,l){return typeof u=="function"?new Qt(this):this.map(function(b){return _a(b,u,l)})}),Qt.prototype.reject=function(u){return this.filter(Rc(wt(u)))},Qt.prototype.slice=function(u,l){u=Gt(u);var b=this;return b.__filtered__&&(u>0||l<0)?new Qt(b):(u<0?b=b.takeRight(-u):u&&(b=b.drop(u)),l!==v&&(b=(l=Gt(l))<0?b.dropRight(-l):b.take(l-u)),b)},Qt.prototype.takeRightWhile=function(u){return this.reverse().takeWhile(u).reverse()},Qt.prototype.toArray=function(){return this.take(se)},ft(Qt.prototype,function(u,l){var b=/^(?:filter|find|map|reject)|While$/.test(l),j=/^(?:head|last)$/.test(l),N=F[j?"take"+(l=="last"?"Right":""):l],U=j||/^find/.test(l);N&&(F.prototype[l]=function(){var te=this.__wrapped__,ce=j?[1]:arguments,_e=te instanceof Qt,Z=ce[0],Ne=_e||Ft(te),Ue=function(Mt){var at=N.apply(F,Vn([Mt],ce));return j&&st?at[0]:at};Ne&&b&&typeof Z=="function"&&Z.length!=1&&(_e=Ne=!1);var st=this.__chain__,dt=!!this.__actions__.length,jt=U&&!st,Le=_e&&!dt;if(!U&&Ne){te=Le?te:new Qt(this);var Xe=u.apply(te,ce);return Xe.__actions__.push({func:ka,args:[Ue],thisArg:v}),new Qr(Xe,st)}return jt&&Le?u.apply(this,ce):(Xe=this.thru(Ue),jt?j?Xe.value()[0]:Xe.value():Xe)})}),br(["pop","push","shift","sort","splice","unshift"],function(u){var l=pe[u],b=/^(?:push|sort|unshift)$/.test(u)?"tap":"thru",j=/^(?:pop|shift)$/.test(u);F.prototype[u]=function(){var N=arguments;if(j&&!this.__chain__){var U=this.value();return l.apply(Ft(U)?U:[],N)}return this[b](function(te){return l.apply(Ft(te)?te:[],N)})}}),ft(Qt.prototype,function(u,l){var b=F[l];if(b){var j=b.name+"";Qe.call(ga,j)||(ga[j]=[]),ga[j].push({name:l,func:b})}}),ga[_u(v,2).name]=[{name:"wrapper",func:v}],Qt.prototype.clone=function(){var u=new Qt(this.__wrapped__);return u.__actions__=Nr(this.__actions__),u.__dir__=this.__dir__,u.__filtered__=this.__filtered__,u.__iteratees__=Nr(this.__iteratees__),u.__takeCount__=this.__takeCount__,u.__views__=Nr(this.__views__),u},Qt.prototype.reverse=function(){if(this.__filtered__){var u=new Qt(this);u.__dir__=-1,u.__filtered__=!0}else(u=this.clone()).__dir__*=-1;return u},Qt.prototype.value=function(){var u=this.__wrapped__.value(),l=this.__dir__,b=Ft(u),j=l<0,N=b?u.length:0,U=function($t,yt,Pt){for(var Zn=-1,sr=Pt.length;++Zn<sr;){var yo=Pt[Zn],tr=yo.size;switch(yo.type){case"drop":$t+=tr;break;case"dropRight":yt-=tr;break;case"take":yt=hr(yt,$t+tr);break;case"takeRight":$t=Qn($t,yt-tr)}}return{start:$t,end:yt}}(0,N,this.__views__),te=U.start,ce=U.end,_e=ce-te,Z=j?ce:te-1,Ne=this.__iteratees__,Ue=Ne.length,st=0,dt=hr(_e,this.__takeCount__);if(!b||!j&&N==_e&&dt==_e)return Lf(u,this.__actions__);var jt=[];e:for(;_e--&&st<dt;){for(var Le=-1,Xe=u[Z+=l];++Le<Ue;){var Mt=Ne[Le],at=Mt.iteratee,kt=Mt.type,Ct=at(Xe);if(kt==2)Xe=Ct;else if(!Ct){if(kt==1)continue e;break e}}jt[st++]=Xe}return jt},F.prototype.at=rh,F.prototype.chain=function(){return ap(this)},F.prototype.commit=function(){return new Qr(this.value(),this.__chain__)},F.prototype.next=function(){this.__values__===v&&(this.__values__=Ca(this.value()));var u=this.__index__>=this.__values__.length;return{done:u,value:u?v:this.__values__[this.__index__++]}},F.prototype.plant=function(u){for(var l,b=this;b instanceof vu;){var j=ep(b);j.__index__=0,j.__values__=v,l?N.__wrapped__=j:l=j;var N=j;b=b.__wrapped__}return N.__wrapped__=u,l},F.prototype.reverse=function(){var u=this.__wrapped__;if(u instanceof Qt){var l=u;return this.__actions__.length&&(l=new Qt(this)),(l=l.reverse()).__actions__.push({func:ka,args:[Cc],thisArg:v}),new Qr(l,this.__chain__)}return this.thru(Cc)},F.prototype.toJSON=F.prototype.valueOf=F.prototype.value=function(){return Lf(this.__wrapped__,this.__actions__)},F.prototype.first=F.prototype.head,Ho&&(F.prototype[Ho]=function(){return this}),F}();kn._=fo,(O=function(){return fo}.call(f,o,f,d))===v||(d.exports=O)}).call(this)}).call(this,o(68),o(221)(s))},function(s,f,o){var p=o(7),d=o(34),O=o(33),v=o(87),E=o(62),M=o(174),A=o(28),T=p.TypeError,k=A("toPrimitive");s.exports=function(I,C){if(!O(I)||v(I))return I;var L,G=E(I,k);if(G){if(C===void 0&&(C="default"),L=d(G,I,C),!O(L)||v(L))return L;throw T("Can't convert object to primitive value")}return C===void 0&&(C="number"),M(I,C)}},function(s,f,o){var p=o(108);s.exports=p&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},function(s,f,o){var p=o(36),d=o(18),O=o(91);s.exports=!p&&!d(function(){return Object.defineProperty(O("div"),"a",{get:function(){return 7}}).a!=7})},function(s,f,o){var p=o(35),d=o(135),O=o(50),v=o(38);s.exports=function(E,M){for(var A=d(M),T=v.f,k=O.f,I=0;I<A.length;I++){var C=A[I];p(E,C)||T(E,C,k(M,C))}}},function(s,f,o){var p=o(46),d=o(15),O=o(74),v=o(112),E=o(32),M=d([].concat);s.exports=p("Reflect","ownKeys")||function(A){var T=O.f(E(A)),k=v.f;return k?M(T,k(A)):T}},function(s,f,o){var p=o(15),d=o(35),O=o(41),v=o(137).indexOf,E=o(72),M=p([].push);s.exports=function(A,T){var k,I=O(A),C=0,L=[];for(k in I)!d(E,k)&&d(I,k)&&M(L,k);for(;T.length>C;)d(I,k=T[C++])&&(~v(L,k)||M(L,k));return L}},function(s,f,o){var p=o(41),d=o(75),O=o(45),v=function(E){return function(M,A,T){var k,I=p(M),C=O(I),L=d(T,C);if(E&&A!=A){for(;C>L;)if((k=I[L++])!=k)return!0}else for(;C>L;L++)if((E||L in I)&&I[L]===A)return E||L||0;return!E&&-1}};s.exports={includes:v(!0),indexOf:v(!1)}},function(s,f,o){var p=o(46);s.exports=p("document","documentElement")},function(s,f,o){var p=o(51),d=o(41),O=o(74).f,v=o(114),E=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];s.exports.f=function(M){return E&&p(M)=="Window"?function(A){try{return O(A)}catch(T){return v(E)}}(M):O(d(M))}},function(s,f,o){var p=o(28);f.f=p},function(s,f,o){var p=o(177),d=o(35),O=o(140),v=o(38).f;s.exports=function(E){var M=p.Symbol||(p.Symbol={});d(M,E)||v(M,E,{value:O.f(E)})}},function(s,f,o){var p,d,O,v=o(18),E=o(30),M=o(60),A=o(101),T=o(42),k=o(28),I=o(71),C=k("iterator"),L=!1;[].keys&&("next"in(O=[].keys())?(d=A(A(O)))!==Object.prototype&&(p=d):L=!0),p==null||v(function(){var G={};return p[C].call(G)!==G})?p={}:I&&(p=M(p)),E(p[C])||T(p,C,function(){return this}),s.exports={IteratorPrototype:p,BUGGY_SAFARI_ITERATORS:L}},function(s,f,o){var p=o(18);s.exports=!p(function(){function d(){}return d.prototype.constructor=null,Object.getPrototypeOf(new d)!==d.prototype})},function(s,f,o){var p=o(16),d=o(15),O=o(72),v=o(33),E=o(35),M=o(38).f,A=o(74),T=o(139),k=o(183),I=o(90),C=o(185),L=!1,G=I("meta"),W=0,ne=function(ie){M(ie,G,{value:{objectID:"O"+W++,weakData:{}}})},se=s.exports={enable:function(){se.enable=function(){},L=!0;var ie=A.f,Q=d([].splice),ee={};ee[G]=1,ie(ee).length&&(A.f=function(V){for(var B=ie(V),X=0,Y=B.length;X<Y;X++)if(B[X]===G){Q(B,X,1);break}return B},p({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:T.f}))},fastKey:function(ie,Q){if(!v(ie))return typeof ie=="symbol"?ie:(typeof ie=="string"?"S":"P")+ie;if(!E(ie,G)){if(!k(ie))return"F";if(!Q)return"E";ne(ie)}return ie[G].objectID},getWeakData:function(ie,Q){if(!E(ie,G)){if(!k(ie))return!0;if(!Q)return!1;ne(ie)}return ie[G].weakData},onFreeze:function(ie){return C&&L&&k(ie)&&!E(ie,G)&&ne(ie),ie}};O[G]=!0},function(s,f,o){var p=o(28),d=o(80),O=p("iterator"),v=Array.prototype;s.exports=function(E){return E!==void 0&&(d.Array===E||v[O]===E)}},function(s,f,o){var p=o(7),d=o(34),O=o(56),v=o(32),E=o(88),M=o(118),A=p.TypeError;s.exports=function(T,k){var I=arguments.length<2?M(T):k;if(O(I))return v(d(I,T));throw A(E(T)+" is not iterable")}},function(s,f,o){var p=o(34),d=o(32),O=o(62);s.exports=function(v,E,M){var A,T;d(v);try{if(!(A=O(v,"return"))){if(E==="throw")throw M;return M}A=p(A,v)}catch(k){T=!0,A=k}if(E==="throw")throw M;if(T)throw A;return d(A),M}},function(s,f,o){var p=o(30),d=o(33),O=o(102);s.exports=function(v,E,M){var A,T;return O&&p(A=E.constructor)&&A!==M&&d(T=A.prototype)&&T!==M.prototype&&O(v,T),v}},function(s,f,o){var p=o(42);s.exports=function(d,O,v){for(var E in O)p(d,E,O[E],v);return d}},function(s,f,o){var p=o(46),d=o(38),O=o(28),v=o(36),E=O("species");s.exports=function(M){var A=p(M),T=d.f;v&&A&&!A[E]&&T(A,E,{configurable:!0,get:function(){return this}})}},function(s,f,o){var p=o(15),d=o(59),O=o(39),v=o(44),E=p("".charAt),M=p("".charCodeAt),A=p("".slice),T=function(k){return function(I,C){var L,G,W=O(v(I)),ne=d(C),se=W.length;return ne<0||ne>=se?k?"":void 0:(L=M(W,ne))<55296||L>56319||ne+1===se||(G=M(W,ne+1))<56320||G>57343?k?E(W,ne):L:k?A(W,ne,ne+2):G-56320+(L-55296<<10)+65536}};s.exports={codeAt:T(!1),charAt:T(!0)}},function(s,f){s.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(s,f,o){var p=o(91)("span").classList,d=p&&p.constructor&&p.constructor.prototype;s.exports=d===Object.prototype?void 0:d},function(s,f,o){var p=o(32);s.exports=function(){var d=p(this),O="";return d.global&&(O+="g"),d.ignoreCase&&(O+="i"),d.multiline&&(O+="m"),d.dotAll&&(O+="s"),d.unicode&&(O+="u"),d.sticky&&(O+="y"),O}},function(s,f,o){var p=o(18),d=o(7).RegExp,O=p(function(){var M=d("a","y");return M.lastIndex=2,M.exec("abcd")!=null}),v=O||p(function(){return!d("a","y").sticky}),E=O||p(function(){var M=d("^r","gy");return M.lastIndex=2,M.exec("str")!=null});s.exports={BROKEN_CARET:E,MISSED_STICKY:v,UNSUPPORTED_Y:O}},function(s,f,o){var p=o(16),d=o(79).find,O=o(100),v="find",E=!0;v in[]&&Array(1).find(function(){E=!1}),p({target:"Array",proto:!0,forced:E},{find:function(M){return d(this,M,arguments.length>1?arguments[1]:void 0)}}),O(v)},function(s,f,o){var p=o(16),d=o(137).includes,O=o(100);p({target:"Array",proto:!0},{includes:function(v){return d(this,v,arguments.length>1?arguments[1]:void 0)}}),O("includes")},function(s,f,o){var p=o(16),d=o(15),O=o(197),v=o(44),E=o(39),M=o(198),A=d("".indexOf);p({target:"String",proto:!0,forced:!M("includes")},{includes:function(T){return!!~A(E(v(this)),E(O(T)),arguments.length>1?arguments[1]:void 0)}})},function(s,f,o){var p=o(33),d=o(51),O=o(28)("match");s.exports=function(v){var E;return p(v)&&((E=v[O])!==void 0?!!E:d(v)=="RegExp")}},function(s,f,o){var p=o(15);s.exports=p(1 .valueOf)},function(s,f,o){var p=o(15),d=o(44),O=o(39),v=o(162),E=p("".replace),M="["+v+"]",A=RegExp("^"+M+M+"*"),T=RegExp(M+M+"*$"),k=function(I){return function(C){var L=O(d(C));return 1&I&&(L=E(L,A,"")),2&I&&(L=E(L,T,"")),L}};s.exports={start:k(1),end:k(2),trim:k(3)}},function(s,f){s.exports=`	
\v\f\r                　\u2028\u2029\uFEFF`},function(s,f){var o,p,d=s.exports={};function O(){throw new Error("setTimeout has not been defined")}function v(){throw new Error("clearTimeout has not been defined")}function E(W){if(o===setTimeout)return setTimeout(W,0);if((o===O||!o)&&setTimeout)return o=setTimeout,setTimeout(W,0);try{return o(W,0)}catch(ne){try{return o.call(null,W,0)}catch(se){return o.call(this,W,0)}}}(function(){try{o=typeof setTimeout=="function"?setTimeout:O}catch(W){o=O}try{p=typeof clearTimeout=="function"?clearTimeout:v}catch(W){p=v}})();var M,A=[],T=!1,k=-1;function I(){T&&M&&(T=!1,M.length?A=M.concat(A):k=-1,A.length&&C())}function C(){if(!T){var W=E(I);T=!0;for(var ne=A.length;ne;){for(M=A,A=[];++k<ne;)M&&M[k].run();k=-1,ne=A.length}M=null,T=!1,function(se){if(p===clearTimeout)return clearTimeout(se);if((p===v||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(se);try{p(se)}catch(ie){try{return p.call(null,se)}catch(Q){return p.call(this,se)}}}(W)}}function L(W,ne){this.fun=W,this.array=ne}function G(){}d.nextTick=function(W){var ne=new Array(arguments.length-1);if(arguments.length>1)for(var se=1;se<arguments.length;se++)ne[se-1]=arguments[se];A.push(new L(W,ne)),A.length!==1||T||E(C)},L.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=G,d.addListener=G,d.once=G,d.off=G,d.removeListener=G,d.removeAllListeners=G,d.emit=G,d.prependListener=G,d.prependOnceListener=G,d.listeners=function(W){return[]},d.binding=function(W){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(W){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(s,f,o){var p=o(32),d=o(165),O=o(28)("species");s.exports=function(v,E){var M,A=p(v).constructor;return A===void 0||(M=p(A)[O])==null?E:d(M)}},function(s,f,o){var p=o(7),d=o(99),O=o(88),v=p.TypeError;s.exports=function(E){if(d(E))return E;throw v(O(E)+" is not a constructor")}},function(s,f,o){var p=o(16),d=o(161).trim;p({target:"String",proto:!0,forced:o(200)("trim")},{trim:function(){return d(this)}})},function(s,f,o){var p=o(34),d=o(123),O=o(32),v=o(94),E=o(39),M=o(44),A=o(62),T=o(124),k=o(125);d("match",function(I,C,L){return[function(G){var W=M(this),ne=G==null?void 0:A(G,I);return ne?p(ne,G,W):new RegExp(G)[I](E(W))},function(G){var W=O(this),ne=E(G),se=L(C,W,ne);if(se.done)return se.value;if(!W.global)return k(W,ne);var ie=W.unicode;W.lastIndex=0;for(var Q,ee=[],V=0;(Q=k(W,ne))!==null;){var B=E(Q[0]);ee[V]=B,B===""&&(W.lastIndex=T(ne,v(W.lastIndex),ie)),V++}return V===0?null:ee}]})},function(s,f,o){var p,d,O,v,E=o(7),M=o(76),A=o(64),T=o(30),k=o(35),I=o(18),C=o(138),L=o(98),G=o(91),W=o(169),ne=o(128),se=E.setImmediate,ie=E.clearImmediate,Q=E.process,ee=E.Dispatch,V=E.Function,B=E.MessageChannel,X=E.String,Y=0,$={},ae="onreadystatechange";try{p=E.location}catch(Se){}var xe=function(Se){if(k($,Se)){var ve=$[Se];delete $[Se],ve()}},me=function(Se){return function(){xe(Se)}},Pe=function(Se){xe(Se.data)},ze=function(Se){E.postMessage(X(Se),p.protocol+"//"+p.host)};se&&ie||(se=function(Se){var ve=L(arguments,1);return $[++Y]=function(){M(T(Se)?Se:V(Se),void 0,ve)},d(Y),Y},ie=function(Se){delete $[Se]},ne?d=function(Se){Q.nextTick(me(Se))}:ee&&ee.now?d=function(Se){ee.now(me(Se))}:B&&!W?(v=(O=new B).port2,O.port1.onmessage=Pe,d=A(v.postMessage,v)):E.addEventListener&&T(E.postMessage)&&!E.importScripts&&p&&p.protocol!=="file:"&&!I(ze)?(d=ze,E.addEventListener("message",Pe,!1)):d=ae in G("script")?function(Se){C.appendChild(G("script")).onreadystatechange=function(){C.removeChild(this),xe(Se)}}:function(Se){setTimeout(me(Se),0)}),s.exports={set:se,clear:ie}},function(s,f,o){var p=o(55);s.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(p)},function(s,f,o){var p=o(56),d=function(O){var v,E;this.promise=new O(function(M,A){if(v!==void 0||E!==void 0)throw TypeError("Bad Promise constructor");v=M,E=A}),this.resolve=p(v),this.reject=p(E)};s.exports.f=function(O){return new d(O)}},function(s,f,o){f.a=function(){return!1}},function(s,f,o){(function(p){o.d(f,"a",function(){return Q});var d=o(1);function O(B){throw new Error("[mobx-utils] "+B)}function v(B,X){X===void 0&&(X="Illegal state"),B||O(X)}var E=function(B){return B&&B!==Object.prototype&&Object.getOwnPropertyNames(B).concat(E(Object.getPrototypeOf(B))||[])},M=function(B){return function(X){var Y=E(X);return Y.filter(function($,ae){return Y.indexOf($)===ae})}(B).filter(function(X){return X!=="constructor"&&!~X.indexOf("__")})},A="pending",T="fulfilled",k="rejected";function I(B){switch(this.state){case A:return B.pending&&B.pending(this.value);case k:return B.rejected&&B.rejected(this.value);case T:return B.fulfilled?B.fulfilled(this.value):this.value}}function C(B,X){if(v(arguments.length<=2,"fromPromise expects up to two arguments"),v(typeof B=="function"||typeof B=="object"&&B&&typeof B.then=="function","Please pass a promise or function to fromPromise"),B.isPromiseBasedObservable===!0)return B;typeof B=="function"&&(B=new Promise(B));var Y=B;B.then(Object(d.k)("observableFromPromise-resolve",function(ae){Y.value=ae,Y.state=T}),Object(d.k)("observableFromPromise-reject",function(ae){Y.value=ae,Y.state=k})),Y.isPromiseBasedObservable=!0,Y.case=I;var $=X&&X.state===T?X.value:void 0;return Object(d.q)(Y,{value:$,state:A},{},{deep:!1}),Y}(function(B){B.reject=Object(d.k)("fromPromise.reject",function(X){var Y=B(Promise.reject(X));return Y.state=k,Y.value=X,Y}),B.resolve=Object(d.k)("fromPromise.resolve",function(X){X===void 0&&(X=void 0);var Y=B(Promise.resolve(X));return Y.state=T,Y.value=X,Y})})(C||(C={}));var L=function(B,X,Y,$){var ae,xe=arguments.length,me=xe<3?X:$===null?$=Object.getOwnPropertyDescriptor(X,Y):$;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(B,X,Y,$);else for(var Pe=B.length-1;Pe>=0;Pe--)(ae=B[Pe])&&(me=(xe<3?ae(me):xe>3?ae(X,Y,me):ae(X,Y))||me);return xe>3&&me&&Object.defineProperty(X,Y,me),me};(function(){function B(X,Y){var $=this;Object(d.G)(function(){$.current=Y,$.subscription=X.subscribe($)})}B.prototype.dispose=function(){this.subscription&&this.subscription.unsubscribe()},B.prototype.next=function(X){this.current=X},B.prototype.complete=function(){this.dispose()},B.prototype.error=function(X){this.current=X,this.dispose()},L([d.C.ref],B.prototype,"current",void 0),L([d.k.bound],B.prototype,"next",null),L([d.k.bound],B.prototype,"complete",null),L([d.k.bound],B.prototype,"error",null)})();var G=function(){return G=Object.assign||function(B){for(var X,Y=1,$=arguments.length;Y<$;Y++)for(var ae in X=arguments[Y])Object.prototype.hasOwnProperty.call(X,ae)&&(B[ae]=X[ae]);return B},G.apply(this,arguments)},W=function(B,X,Y,$){var ae,xe=arguments.length,me=xe<3?X:$===null?$=Object.getOwnPropertyDescriptor(X,Y):$;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(B,X,Y,$);else for(var Pe=B.length-1;Pe>=0;Pe--)(ae=B[Pe])&&(me=(xe<3?ae(me):xe>3?ae(X,Y,me):ae(X,Y))||me);return xe>3&&me&&Object.defineProperty(X,Y,me),me},ne=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"];(function(){function B(X){var Y=this;this.model=X,this.localValues=d.C.map({}),this.localComputedValues=d.C.map({}),this.isPropertyDirty=function($){return Y.localValues.has($)},v(Object(d.A)(X),"createViewModel expects an observable object"),M(X).forEach(function($){if($!==d.a&&$!=="__mobxDidRunLazyInitializers"){if(v(ne.indexOf($)===-1,"The propertyname "+$+" is reserved and cannot be used with viewModels"),Object(d.w)(X,$)){var ae=Object(d.h)(X,$).derivation;Y.localComputedValues.set($,Object(d.m)(ae.bind(Y)))}var xe=Object.getOwnPropertyDescriptor(X,$),me=xe?{enumerable:xe.enumerable}:{};Object.defineProperty(Y,$,G(G({},me),{configurable:!0,get:function(){return Object(d.w)(X,$)?Y.localComputedValues.get($).get():Y.isPropertyDirty($)?Y.localValues.get($):Y.model[$]},set:Object(d.k)(function(Pe){Pe!==Y.model[$]?Y.localValues.set($,Pe):Y.localValues.delete($)})}))}})}Object.defineProperty(B.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"changedValues",{get:function(){return this.localValues.toJS()},enumerable:!1,configurable:!0}),B.prototype.submit=function(){var X=this;Object(d.B)(this.localValues).forEach(function(Y){var $=X.localValues.get(Y),ae=X.model[Y];Object(d.y)(ae)?ae.replace($):Object(d.z)(ae)?(ae.clear(),ae.merge($)):Object(d.v)($)||(X.model[Y]=$)}),this.localValues.clear()},B.prototype.reset=function(){this.localValues.clear()},B.prototype.resetProperty=function(X){this.localValues.delete(X)},W([d.m],B.prototype,"isDirty",null),W([d.m],B.prototype,"changedValues",null),W([d.k.bound],B.prototype,"submit",null),W([d.k.bound],B.prototype,"reset",null),W([d.k.bound],B.prototype,"resetProperty",null)})();function se(B){if(!B)return"ROOT";for(var X=[];B.parent;)X.push(B.path),B=B.parent;return X.reverse().join("/")}function ie(B){return Object(d.A)(B)||Object(d.y)(B)||Object(d.z)(B)}function Q(B,X){var Y=new WeakMap;function $(me){var Pe=Y.get(me.object);(function(ze,Se){switch(ze.type){case"add":ae(ze.newValue,Se,ze.name);break;case"update":xe(ze.oldValue),ae(ze.newValue,Se,ze.name||""+ze.index);break;case"remove":case"delete":xe(ze.oldValue);break;case"splice":ze.removed.map(xe),ze.added.forEach(function(Ae,Fe){return ae(Ae,Se,""+(ze.index+Fe))});for(var ve=ze.index+ze.addedCount;ve<ze.object.length;ve++)if(ie(ze.object[ve])){var je=Y.get(ze.object[ve]);je&&(je.path=""+ve)}}})(me,Pe),X(me,se(Pe),B)}function ae(me,Pe,ze){if(ie(me)){var Se=Y.get(me);if(Se){if(Se.parent!==Pe||Se.path!==ze)throw new Error("The same observable object cannot appear twice in the same tree, trying to assign it to '"+se(Pe)+"/"+ze+"', but it already exists at '"+se(Se.parent)+"/"+Se.path+"'")}else{var ve={parent:Pe,path:ze,dispose:Object(d.D)(me,$)};Y.set(me,ve),Object(d.p)(me).forEach(function(je){var Ae=je[0];return ae(je[1],ve,Ae)})}}}function xe(me){if(ie(me)){var Pe=Y.get(me);if(!Pe)return;Y.delete(me),Pe.dispose(),Object(d.L)(me).forEach(xe)}}return ae(B,void 0,""),function(){xe(B)}}var ee,V=(ee=function(B,X){return ee=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Y,$){Y.__proto__=$}||function(Y,$){for(var ae in $)$.hasOwnProperty(ae)&&(Y[ae]=$[ae])},ee(B,X)},function(B,X){function Y(){this.constructor=B}ee(B,X),B.prototype=X===null?Object.create(X):(Y.prototype=X.prototype,new Y)});(function(B){function X(Y,$,ae){var xe=ae===void 0?{}:ae,me=xe.name,Pe=me===void 0?"ogm"+(1e3*Math.random()|0):me,ze=xe.keyToName,Se=ze===void 0?function(Ae){return""+Ae}:ze,ve=B.call(this)||this;ve._keyToName=Se,ve._groupBy=$,ve._ogmInfoKey=Symbol("ogmInfo"+Pe),ve._base=Y;for(var je=0;je<Y.length;je++)ve._addItem(Y[je]);return ve._disposeBaseObserver=Object(d.D)(ve._base,function(Ae){if(Ae.type==="splice")Object(d.J)(function(){for(var Fe=0,tt=Ae.removed;Fe<tt.length;Fe++){var _t=tt[Fe];ve._removeItem(_t)}for(var Ye=0,$e=Ae.added;Ye<$e.length;Ye++){var gt=$e[Ye];ve._addItem(gt)}});else{if(Ae.type!=="update")throw new Error("illegal state");Object(d.J)(function(){ve._removeItem(Ae.oldValue),ve._addItem(Ae.newValue)})}}),ve}V(X,B),X.prototype.clear=function(){throw new Error("not supported")},X.prototype.delete=function(Y){throw new Error("not supported")},X.prototype.set=function(Y,$){throw new Error("not supported")},X.prototype.dispose=function(){this._disposeBaseObserver();for(var Y=0;Y<this._base.length;Y++){var $=this._base[Y];$[this._ogmInfoKey].reaction(),delete $[this._ogmInfoKey]}},X.prototype._getGroupArr=function(Y){var $=B.prototype.get.call(this,Y);return $===void 0&&($=Object(d.C)([],{name:"GroupArray["+this._keyToName(Y)+"]",deep:!1}),B.prototype.set.call(this,Y,$)),$},X.prototype._removeFromGroupArr=function(Y,$){var ae=B.prototype.get.call(this,Y);ae.length===1?B.prototype.delete.call(this,Y):($===ae.length-1||(ae[$]=ae[ae.length-1],ae[$][this._ogmInfoKey].groupArrIndex=$),ae.length--)},X.prototype._addItem=function(Y){var $=this,ae=this._groupBy(Y),xe=this._getGroupArr(ae),me={groupByValue:ae,groupArrIndex:xe.length,reaction:Object(d.F)(function(){return $._groupBy(Y)},function(Pe,ze){var Se=Y[$._ogmInfoKey];$._removeFromGroupArr(Se.groupByValue,Se.groupArrIndex);var ve=$._getGroupArr(Pe),je=ve.length;ve.push(Y),Se.groupByValue=Pe,Se.groupArrIndex=je})};Object.defineProperty(Y,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:me}),xe.push(Y)},X.prototype._removeItem=function(Y){var $=Y[this._ogmInfoKey];this._removeFromGroupArr($.groupByValue,$.groupArrIndex),$.reaction(),delete Y[this._ogmInfoKey]}})(d.b),function(){function B(X,Y){this.base=X,this.args=Y,this.closestIdx=0,this.isDisposed=!1;for(var $=this.closest=this.root=X,ae=0;ae<this.args.length-1&&($=$.get(Y[ae]));ae++)this.closest=$;this.closestIdx=ae}return B.prototype.exists=function(){this.assertNotDisposed();var X=this.args.length;return this.closestIdx>=X-1&&this.closest.has(this.args[X-1])},B.prototype.get=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");return this.closest.get(this.args[this.args.length-1])},B.prototype.set=function(X){this.assertNotDisposed();for(var Y=this.args.length,$=this.closest,ae=this.closestIdx;ae<Y-1;ae++){var xe=new Map;$.set(this.args[ae],xe),$=xe}this.closestIdx=Y-1,this.closest=$,$.set(this.args[Y-1],X)},B.prototype.delete=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");var X=this.args.length;this.closest.delete(this.args[X-1]);for(var Y=this.root,$=[Y],ae=0;ae<X-1;ae++)Y=Y.get(this.args[ae]),$.push(Y);for(ae=$.length-1;ae>0;ae--)$[ae].size===0&&$[ae-1].delete(this.args[ae-1]);this.isDisposed=!0},B.prototype.assertNotDisposed=function(){if(this.isDisposed)throw new Error("Concurrent modification exception")},B}(),Promise.resolve(),typeof queueMicrotask!="undefined"||p!==void 0&&p.nextTick}).call(this,o(163))},function(s,f,o){var p;(function(d,O,v){if(d){for(var E,M={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},A={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},T={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},k={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},I=1;I<20;++I)M[111+I]="f"+I;for(I=0;I<=9;++I)M[I+96]=I.toString();ie.prototype.bind=function(Q,ee,V){var B=this;return Q=Q instanceof Array?Q:[Q],B._bindMultiple.call(B,Q,ee,V),B},ie.prototype.unbind=function(Q,ee){return this.bind.call(this,Q,function(){},ee)},ie.prototype.trigger=function(Q,ee){var V=this;return V._directMap[Q+":"+ee]&&V._directMap[Q+":"+ee]({},Q),V},ie.prototype.reset=function(){var Q=this;return Q._callbacks={},Q._directMap={},Q},ie.prototype.stopCallback=function(Q,ee){if((" "+ee.className+" ").indexOf(" mousetrap ")>-1||se(ee,this.target))return!1;if("composedPath"in Q&&typeof Q.composedPath=="function"){var V=Q.composedPath()[0];V!==Q.target&&(ee=V)}return ee.tagName=="INPUT"||ee.tagName=="SELECT"||ee.tagName=="TEXTAREA"||ee.isContentEditable},ie.prototype.handleKey=function(){var Q=this;return Q._handleKey.apply(Q,arguments)},ie.addKeycodes=function(Q){for(var ee in Q)Q.hasOwnProperty(ee)&&(M[ee]=Q[ee]);E=null},ie.init=function(){var Q=ie(O);for(var ee in Q)ee.charAt(0)!=="_"&&(ie[ee]=function(V){return function(){return Q[V].apply(Q,arguments)}}(ee))},ie.init(),d.Mousetrap=ie,s.exports&&(s.exports=ie),(p=function(){return ie}.call(f,o,f,s))===void 0||(s.exports=p)}function C(Q,ee,V){Q.addEventListener?Q.addEventListener(ee,V,!1):Q.attachEvent("on"+ee,V)}function L(Q){if(Q.type=="keypress"){var ee=String.fromCharCode(Q.which);return Q.shiftKey||(ee=ee.toLowerCase()),ee}return M[Q.which]?M[Q.which]:A[Q.which]?A[Q.which]:String.fromCharCode(Q.which).toLowerCase()}function G(Q){return Q=="shift"||Q=="ctrl"||Q=="alt"||Q=="meta"}function W(Q,ee,V){return V||(V=function(){if(!E)for(var B in E={},M)B>95&&B<112||M.hasOwnProperty(B)&&(E[M[B]]=B);return E}()[Q]?"keydown":"keypress"),V=="keypress"&&ee.length&&(V="keydown"),V}function ne(Q,ee){var V,B,X,Y=[];for(V=function($){return $==="+"?["+"]:($=$.replace(/\+{2}/g,"+plus")).split("+")}(Q),X=0;X<V.length;++X)B=V[X],k[B]&&(B=k[B]),ee&&ee!="keypress"&&T[B]&&(B=T[B],Y.push("shift")),G(B)&&Y.push(B);return{key:B,modifiers:Y,action:ee=W(B,Y,ee)}}function se(Q,ee){return Q!==null&&Q!==O&&(Q===ee||se(Q.parentNode,ee))}function ie(Q){var ee=this;if(Q=Q||O,!(ee instanceof ie))return new ie(Q);ee.target=Q,ee._callbacks={},ee._directMap={};var V,B={},X=!1,Y=!1,$=!1;function ae(ve){ve=ve||{};var je,Ae=!1;for(je in B)ve[je]?Ae=!0:B[je]=0;Ae||($=!1)}function xe(ve,je,Ae,Fe,tt,_t){var Ye,$e,gt,le,ue=[],he=Ae.type;if(!ee._callbacks[ve])return[];for(he=="keyup"&&G(ve)&&(je=[ve]),Ye=0;Ye<ee._callbacks[ve].length;++Ye)if($e=ee._callbacks[ve][Ye],(Fe||!$e.seq||B[$e.seq]==$e.level)&&he==$e.action&&(he=="keypress"&&!Ae.metaKey&&!Ae.ctrlKey||(gt=je,le=$e.modifiers,gt.sort().join(",")===le.sort().join(",")))){var Te=!Fe&&$e.combo==tt,Ge=Fe&&$e.seq==Fe&&$e.level==_t;(Te||Ge)&&ee._callbacks[ve].splice(Ye,1),ue.push($e)}return ue}function me(ve,je,Ae,Fe){ee.stopCallback(je,je.target||je.srcElement,Ae,Fe)||ve(je,Ae)===!1&&(function(tt){tt.preventDefault?tt.preventDefault():tt.returnValue=!1}(je),function(tt){tt.stopPropagation?tt.stopPropagation():tt.cancelBubble=!0}(je))}function Pe(ve){typeof ve.which!="number"&&(ve.which=ve.keyCode);var je=L(ve);je&&(ve.type!="keyup"||X!==je?ee.handleKey(je,function(Ae){var Fe=[];return Ae.shiftKey&&Fe.push("shift"),Ae.altKey&&Fe.push("alt"),Ae.ctrlKey&&Fe.push("ctrl"),Ae.metaKey&&Fe.push("meta"),Fe}(ve),ve):X=!1)}function ze(ve,je,Ae,Fe){function tt(gt){return function(){$=gt,++B[ve],clearTimeout(V),V=setTimeout(ae,1e3)}}function _t(gt){me(Ae,gt,ve),Fe!=="keyup"&&(X=L(gt)),setTimeout(ae,10)}B[ve]=0;for(var Ye=0;Ye<je.length;++Ye){var $e=Ye+1===je.length?_t:tt(Fe||ne(je[Ye+1]).action);Se(je[Ye],$e,Fe,ve,Ye)}}function Se(ve,je,Ae,Fe,tt){ee._directMap[ve+":"+Ae]=je;var _t,Ye=(ve=ve.replace(/\s+/g," ")).split(" ");Ye.length>1?ze(ve,Ye,je,Ae):(_t=ne(ve,Ae),ee._callbacks[_t.key]=ee._callbacks[_t.key]||[],xe(_t.key,_t.modifiers,{type:_t.action},Fe,ve,tt),ee._callbacks[_t.key][Fe?"unshift":"push"]({callback:je,modifiers:_t.modifiers,action:_t.action,seq:Fe,level:tt,combo:ve}))}ee._handleKey=function(ve,je,Ae){var Fe,tt=xe(ve,je,Ae),_t={},Ye=0,$e=!1;for(Fe=0;Fe<tt.length;++Fe)tt[Fe].seq&&(Ye=Math.max(Ye,tt[Fe].level));for(Fe=0;Fe<tt.length;++Fe)if(tt[Fe].seq){if(tt[Fe].level!=Ye)continue;$e=!0,_t[tt[Fe].seq]=1,me(tt[Fe].callback,Ae,tt[Fe].combo,tt[Fe].seq)}else $e||me(tt[Fe].callback,Ae,tt[Fe].combo);var gt=Ae.type=="keypress"&&Y;Ae.type!=$||G(ve)||gt||ae(_t),Y=$e&&Ae.type=="keydown"},ee._bindMultiple=function(ve,je,Ae){for(var Fe=0;Fe<ve.length;++Fe)Se(ve[Fe],je,Ae)},C(Q,"keypress",Pe),C(Q,"keydown",Pe),C(Q,"keyup",Pe)}})(typeof window!="undefined"?window:null,typeof window!="undefined"?document:null)},function(s,f,o){var p=o(7),d=o(34),O=o(30),v=o(33),E=p.TypeError;s.exports=function(M,A){var T,k;if(A==="string"&&O(T=M.toString)&&!v(k=d(T,M))||O(T=M.valueOf)&&!v(k=d(T,M))||A!=="string"&&O(T=M.toString)&&!v(k=d(T,M)))return k;throw E("Can't convert object to primitive value")}},function(s,f,o){var p=o(7),d=o(30),O=o(92),v=p.WeakMap;s.exports=d(v)&&/native code/.test(O(v))},function(s,f,o){var p=o(36),d=o(38),O=o(32),v=o(41),E=o(77);s.exports=p?Object.defineProperties:function(M,A){O(M);for(var T,k=v(A),I=E(A),C=I.length,L=0;C>L;)d.f(M,T=I[L++],k[T]);return M}},function(s,f,o){var p=o(7);s.exports=p},function(s,f,o){var p=o(7),d=o(96),O=o(99),v=o(33),E=o(28)("species"),M=p.Array;s.exports=function(A){var T;return d(A)&&(T=A.constructor,(O(T)&&(T===M||d(T.prototype))||v(T)&&(T=T[E])===null)&&(T=void 0)),T===void 0?M:T}},function(s,f,o){var p=o(113),d=o(97);s.exports=p?{}.toString:function(){return"[object "+d(this)+"]"}},function(s,f,o){var p=o(142).IteratorPrototype,d=o(60),O=o(69),v=o(78),E=o(80),M=function(){return this};s.exports=function(A,T,k,I){var C=T+" Iterator";return A.prototype=d(p,{next:O(+!I,k)}),v(A,C,!1,!0),E[C]=M,A}},function(s,f,o){var p=o(7),d=o(30),O=p.String,v=p.TypeError;s.exports=function(E){if(typeof E=="object"||d(E))return E;throw v("Can't set "+O(E)+" as a prototype")}},function(s,f,o){var p=o(16),d=o(7),O=o(15),v=o(95),E=o(42),M=o(144),A=o(117),T=o(119),k=o(30),I=o(33),C=o(18),L=o(120),G=o(78),W=o(148);s.exports=function(ne,se,ie){var Q=ne.indexOf("Map")!==-1,ee=ne.indexOf("Weak")!==-1,V=Q?"set":"add",B=d[ne],X=B&&B.prototype,Y=B,$={},ae=function(ve){var je=O(X[ve]);E(X,ve,ve=="add"?function(Ae){return je(this,Ae===0?0:Ae),this}:ve=="delete"?function(Ae){return!(ee&&!I(Ae))&&je(this,Ae===0?0:Ae)}:ve=="get"?function(Ae){return ee&&!I(Ae)?void 0:je(this,Ae===0?0:Ae)}:ve=="has"?function(Ae){return!(ee&&!I(Ae))&&je(this,Ae===0?0:Ae)}:function(Ae,Fe){return je(this,Ae===0?0:Ae,Fe),this})};if(v(ne,!k(B)||!(ee||X.forEach&&!C(function(){new B().entries().next()}))))Y=ie.getConstructor(se,ne,Q,V),M.enable();else if(v(ne,!0)){var xe=new Y,me=xe[V](ee?{}:-0,1)!=xe,Pe=C(function(){xe.has(1)}),ze=L(function(ve){new B(ve)}),Se=!ee&&C(function(){for(var ve=new B,je=5;je--;)ve[V](je,je);return!ve.has(-0)});ze||((Y=se(function(ve,je){T(ve,X);var Ae=W(new B,ve,Y);return je!=null&&A(je,Ae[V],{that:Ae,AS_ENTRIES:Q}),Ae})).prototype=X,X.constructor=Y),(Pe||Se)&&(ae("delete"),ae("has"),Q&&ae("get")),(Se||me)&&ae(V),ee&&X.clear&&delete X.clear}return $[ne]=Y,p({global:!0,forced:Y!=B},$),G(Y,ne),ee||ie.setStrong(Y,ne,Q),Y}},function(s,f,o){var p=o(18),d=o(33),O=o(51),v=o(184),E=Object.isExtensible,M=p(function(){});s.exports=M||v?function(A){return!!d(A)&&(!v||O(A)!="ArrayBuffer")&&(!E||E(A))}:E},function(s,f,o){var p=o(18);s.exports=p(function(){if(typeof ArrayBuffer=="function"){var d=new ArrayBuffer(8);Object.isExtensible(d)&&Object.defineProperty(d,"a",{value:8})}})},function(s,f,o){var p=o(18);s.exports=!p(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(s,f,o){var p=o(38).f,d=o(60),O=o(149),v=o(64),E=o(119),M=o(117),A=o(116),T=o(150),k=o(36),I=o(144).fastKey,C=o(58),L=C.set,G=C.getterFor;s.exports={getConstructor:function(W,ne,se,ie){var Q=W(function(Y,$){E(Y,ee),L(Y,{type:ne,index:d(null),first:void 0,last:void 0,size:0}),k||(Y.size=0),$!=null&&M($,Y[ie],{that:Y,AS_ENTRIES:se})}),ee=Q.prototype,V=G(ne),B=function(Y,$,ae){var xe,me,Pe=V(Y),ze=X(Y,$);return ze?ze.value=ae:(Pe.last=ze={index:me=I($,!0),key:$,value:ae,previous:xe=Pe.last,next:void 0,removed:!1},Pe.first||(Pe.first=ze),xe&&(xe.next=ze),k?Pe.size++:Y.size++,me!=="F"&&(Pe.index[me]=ze)),Y},X=function(Y,$){var ae,xe=V(Y),me=I($);if(me!=="F")return xe.index[me];for(ae=xe.first;ae;ae=ae.next)if(ae.key==$)return ae};return O(ee,{clear:function(){for(var Y=V(this),$=Y.index,ae=Y.first;ae;)ae.removed=!0,ae.previous&&(ae.previous=ae.previous.next=void 0),delete $[ae.index],ae=ae.next;Y.first=Y.last=void 0,k?Y.size=0:this.size=0},delete:function(Y){var $=this,ae=V($),xe=X($,Y);if(xe){var me=xe.next,Pe=xe.previous;delete ae.index[xe.index],xe.removed=!0,Pe&&(Pe.next=me),me&&(me.previous=Pe),ae.first==xe&&(ae.first=me),ae.last==xe&&(ae.last=Pe),k?ae.size--:$.size--}return!!xe},forEach:function(Y){for(var $,ae=V(this),xe=v(Y,arguments.length>1?arguments[1]:void 0);$=$?$.next:ae.first;)for(xe($.value,$.key,this);$&&$.removed;)$=$.previous},has:function(Y){return!!X(this,Y)}}),O(ee,se?{get:function(Y){var $=X(this,Y);return $&&$.value},set:function(Y,$){return B(this,Y===0?0:Y,$)}}:{add:function(Y){return B(this,Y=Y===0?0:Y,Y)}}),k&&p(ee,"size",{get:function(){return V(this).size}}),Q},setStrong:function(W,ne,se){var ie=ne+" Iterator",Q=G(ne),ee=G(ie);A(W,ne,function(V,B){L(this,{type:ie,target:V,state:Q(V),kind:B,last:void 0})},function(){for(var V=ee(this),B=V.kind,X=V.last;X&&X.removed;)X=X.previous;return V.target&&(V.last=X=X?X.next:V.state.first)?B=="keys"?{value:X.key,done:!1}:B=="values"?{value:X.value,done:!1}:{value:[X.key,X.value],done:!1}:(V.target=void 0,{value:void 0,done:!0})},se?"entries":"values",!se,!0),T(ne)}}},function(s,f,o){var p=o(79).forEach,d=o(121)("forEach");s.exports=d?[].forEach:function(O){return p(this,O,arguments.length>1?arguments[1]:void 0)}},function(s,f,o){var p=o(7),d=o(64),O=o(34),v=o(40),E=o(189),M=o(145),A=o(99),T=o(45),k=o(63),I=o(146),C=o(118),L=p.Array;s.exports=function(G){var W=v(G),ne=A(this),se=arguments.length,ie=se>1?arguments[1]:void 0,Q=ie!==void 0;Q&&(ie=d(ie,se>2?arguments[2]:void 0));var ee,V,B,X,Y,$,ae=C(W),xe=0;if(!ae||this==L&&M(ae))for(ee=T(W),V=ne?new this(ee):L(ee);ee>xe;xe++)$=Q?ie(W[xe],xe):W[xe],k(V,xe,$);else for(Y=(X=I(W,ae)).next,V=ne?new this:[];!(B=O(Y,X)).done;xe++)$=Q?E(X,ie,[B.value,xe],!0):B.value,k(V,xe,$);return V.length=xe,V}},function(s,f,o){var p=o(32),d=o(147);s.exports=function(O,v,E,M){try{return M?v(p(E)[0],E[1]):v(E)}catch(A){d(O,"throw",A)}}},function(s,f,o){var p=o(18),d=o(7).RegExp;s.exports=p(function(){var O=d(".","s");return!(O.dotAll&&O.exec(`
`)&&O.flags==="s")})},function(s,f,o){var p=o(18),d=o(7).RegExp;s.exports=p(function(){var O=d("(?<a>b)","g");return O.exec("b").groups.a!=="b"||"b".replace(O,"$<a>c")!=="bc"})},function(s,f,o){var p=o(16),d=o(15),O=o(56),v=o(40),E=o(45),M=o(39),A=o(18),T=o(193),k=o(121),I=o(194),C=o(195),L=o(70),G=o(196),W=[],ne=d(W.sort),se=d(W.push),ie=A(function(){W.sort(void 0)}),Q=A(function(){W.sort(null)}),ee=k("sort"),V=!A(function(){if(L)return L<70;if(!(I&&I>3)){if(C)return!0;if(G)return G<603;var B,X,Y,$,ae="";for(B=65;B<76;B++){switch(X=String.fromCharCode(B),B){case 66:case 69:case 70:case 72:Y=3;break;case 68:case 71:Y=4;break;default:Y=2}for($=0;$<47;$++)W.push({k:X+$,v:Y})}for(W.sort(function(xe,me){return me.v-xe.v}),$=0;$<W.length;$++)X=W[$].k.charAt(0),ae.charAt(ae.length-1)!==X&&(ae+=X);return ae!=="DGBEFHACIJK"}});p({target:"Array",proto:!0,forced:ie||!Q||!ee||!V},{sort:function(B){B!==void 0&&O(B);var X=v(this);if(V)return B===void 0?ne(X):ne(X,B);var Y,$,ae=[],xe=E(X);for($=0;$<xe;$++)$ in X&&se(ae,X[$]);for(T(ae,function(me){return function(Pe,ze){return ze===void 0?-1:Pe===void 0?1:me!==void 0?+me(Pe,ze)||0:M(Pe)>M(ze)?1:-1}}(B)),Y=ae.length,$=0;$<Y;)X[$]=ae[$++];for(;$<xe;)delete X[$++];return X}})},function(s,f,o){var p=o(114),d=Math.floor,O=function(M,A){var T=M.length,k=d(T/2);return T<8?v(M,A):E(M,O(p(M,0,k),A),O(p(M,k),A),A)},v=function(M,A){for(var T,k,I=M.length,C=1;C<I;){for(k=C,T=M[C];k&&A(M[k-1],T)>0;)M[k]=M[--k];k!==C++&&(M[k]=T)}return M},E=function(M,A,T,k){for(var I=A.length,C=T.length,L=0,G=0;L<I||G<C;)M[L+G]=L<I&&G<C?k(A[L],T[G])<=0?A[L++]:T[G++]:L<I?A[L++]:T[G++];return M};s.exports=O},function(s,f,o){var p=o(55).match(/firefox\/(\d+)/i);s.exports=!!p&&+p[1]},function(s,f,o){var p=o(55);s.exports=/MSIE|Trident/.test(p)},function(s,f,o){var p=o(55).match(/AppleWebKit\/(\d+)\./);s.exports=!!p&&+p[1]},function(s,f,o){var p=o(7),d=o(159),O=p.TypeError;s.exports=function(v){if(d(v))throw O("The method doesn't accept regular expressions");return v}},function(s,f,o){var p=o(28)("match");s.exports=function(d){var O=/./;try{"/./"[d](O)}catch(v){try{return O[p]=!1,"/./"[d](O)}catch(E){}}return!1}},function(s,f,o){o(16)({target:"Number",stat:!0},{isNaN:function(p){return p!=p}})},function(s,f,o){var p=o(73).PROPER,d=o(18),O=o(162);s.exports=function(v){return d(function(){return!!O[v]()||"​᠎"[v]()!=="​᠎"||p&&O[v].name!==v})}},function(s,f,o){var p=o(15),d=o(40),O=Math.floor,v=p("".charAt),E=p("".replace),M=p("".slice),A=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,T=/\$([$&'`]|\d{1,2})/g;s.exports=function(k,I,C,L,G,W){var ne=C+k.length,se=L.length,ie=T;return G!==void 0&&(G=d(G),ie=A),E(W,ie,function(Q,ee){var V;switch(v(ee,0)){case"$":return"$";case"&":return k;case"`":return M(I,0,C);case"'":return M(I,ne);case"<":V=G[M(ee,1,-1)];break;default:var B=+ee;if(B===0)return Q;if(B>se){var X=O(B/10);return X===0?Q:X<=se?L[X-1]===void 0?v(ee,1):L[X-1]+v(ee,1):Q}V=L[B-1]}return V===void 0?"":V})}},function(s,f,o){var p=o(36),d=o(15),O=o(34),v=o(18),E=o(77),M=o(112),A=o(84),T=o(40),k=o(85),I=Object.assign,C=Object.defineProperty,L=d([].concat);s.exports=!I||v(function(){if(p&&I({b:1},I(C({},"a",{enumerable:!0,get:function(){C(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var G={},W={},ne=Symbol(),se="abcdefghijklmnopqrst";return G[ne]=7,se.split("").forEach(function(ie){W[ie]=ie}),I({},G)[ne]!=7||E(I({},W)).join("")!=se})?function(G,W){for(var ne=T(G),se=arguments.length,ie=1,Q=M.f,ee=A.f;se>ie;)for(var V,B=k(arguments[ie++]),X=Q?L(E(B),Q(B)):E(B),Y=X.length,$=0;Y>$;)V=X[$++],p&&!O(ee,B,V)||(ne[V]=B[V]);return ne}:I},function(s,f,o){var p=o(7),d=o(15),O=o(56),v=o(33),E=o(35),M=o(98),A=p.Function,T=d([].concat),k=d([].join),I={},C=function(L,G,W){if(!E(I,G)){for(var ne=[],se=0;se<G;se++)ne[se]="a["+se+"]";I[G]=A("C,a","return new C("+k(ne,",")+")")}return I[G](L,W)};s.exports=A.bind||function(L){var G=O(this),W=G.prototype,ne=M(arguments,1),se=function(){var ie=T(ne,M(arguments));return this instanceof se?C(G,ie.length,ie):G.apply(L,ie)};return v(W)&&(se.prototype=W),se}},function(s,f,o){var p=o(35);s.exports=function(d){return d!==void 0&&(p(d,"value")||p(d,"writable"))}},function(s,f,o){var p=o(15),d=o(44),O=o(39),v=/"/g,E=p("".replace);s.exports=function(M,A,T,k){var I=O(d(M)),C="<"+A;return T!==""&&(C+=" "+T+'="'+E(O(k),v,"&quot;")+'"'),C+">"+I+"</"+A+">"}},function(s,f,o){var p=o(18);s.exports=function(d){return p(function(){var O=""[d]('"');return O!==O.toLowerCase()||O.split('"').length>3})}},function(s,f,o){o(16)({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)})},function(s,f,o){var p,d,O,v,E=o(16),M=o(71),A=o(7),T=o(46),k=o(34),I=o(209),C=o(42),L=o(149),G=o(102),W=o(78),ne=o(150),se=o(56),ie=o(30),Q=o(33),ee=o(119),V=o(92),B=o(117),X=o(120),Y=o(164),$=o(168).set,ae=o(210),xe=o(213),me=o(214),Pe=o(170),ze=o(215),Se=o(58),ve=o(95),je=o(28),Ae=o(216),Fe=o(128),tt=o(70),_t=je("species"),Ye="Promise",$e=Se.getterFor(Ye),gt=Se.set,le=Se.getterFor(Ye),ue=I&&I.prototype,he=I,Te=ue,Ge=A.TypeError,Ie=A.document,Ot=A.process,At=Pe.f,Et=At,ht=!!(Ie&&Ie.createEvent&&A.dispatchEvent),Me=ie(A.PromiseRejectionEvent),ut="unhandledrejection",fe=!1,rt=ve(Ye,function(){var oe=V(he),be=oe!==String(he);if(!be&&tt===66||M&&!Te.finally)return!0;if(tt>=51&&/native code/.test(oe))return!1;var Ve=new he(function(lt){lt(1)}),We=function(lt){lt(function(){},function(){})};return(Ve.constructor={})[_t]=We,!(fe=Ve.then(function(){})instanceof We)||!be&&Ae&&!Me}),Rt=rt||!X(function(oe){he.all(oe).catch(function(){})}),rn=function(oe){var be;return!(!Q(oe)||!ie(be=oe.then))&&be},It=function(oe,be){if(!oe.notified){oe.notified=!0;var Ve=oe.reactions;ae(function(){for(var We=oe.value,lt=oe.state==1,Ut=0;Ve.length>Ut;){var Yn,nr,Cn,Fn=Ve[Ut++],ot=lt?Fn.ok:Fn.fail,mt=Fn.resolve,xt=Fn.reject,Nt=Fn.domain;try{ot?(lt||(oe.rejection===2&&Dt(oe),oe.rejection=1),ot===!0?Yn=We:(Nt&&Nt.enter(),Yn=ot(We),Nt&&(Nt.exit(),Cn=!0)),Yn===Fn.promise?xt(Ge("Promise-chain cycle")):(nr=rn(Yn))?k(nr,Yn,mt,xt):mt(Yn)):xt(We)}catch(sn){Nt&&!Cn&&Nt.exit(),xt(sn)}}oe.reactions=[],oe.notified=!1,be&&!oe.rejection&&fn(oe)})}},Zt=function(oe,be,Ve){var We,lt;ht?((We=Ie.createEvent("Event")).promise=be,We.reason=Ve,We.initEvent(oe,!1,!0),A.dispatchEvent(We)):We={promise:be,reason:Ve},!Me&&(lt=A["on"+oe])?lt(We):oe===ut&&me("Unhandled promise rejection",Ve)},fn=function(oe){k($,A,function(){var be,Ve=oe.facade,We=oe.value;if(bn(oe)&&(be=ze(function(){Fe?Ot.emit("unhandledRejection",We,Ve):Zt(ut,Ve,We)}),oe.rejection=Fe||bn(oe)?2:1,be.error))throw be.value})},bn=function(oe){return oe.rejection!==1&&!oe.parent},Dt=function(oe){k($,A,function(){var be=oe.facade;Fe?Ot.emit("rejectionHandled",be):Zt("rejectionhandled",be,oe.value)})},Nn=function(oe,be,Ve){return function(We){oe(be,We,Ve)}},q=function(oe,be,Ve){oe.done||(oe.done=!0,Ve&&(oe=Ve),oe.value=be,oe.state=2,It(oe,!0))},de=function(oe,be,Ve){if(!oe.done){oe.done=!0,Ve&&(oe=Ve);try{if(oe.facade===be)throw Ge("Promise can't be resolved itself");var We=rn(be);We?ae(function(){var lt={done:!1};try{k(We,be,Nn(de,lt,oe),Nn(q,lt,oe))}catch(Ut){q(lt,Ut,oe)}}):(oe.value=be,oe.state=1,It(oe,!1))}catch(lt){q({done:!1},lt,oe)}}};if(rt&&(Te=(he=function(oe){ee(this,Te),se(oe),k(p,this);var be=$e(this);try{oe(Nn(de,be),Nn(q,be))}catch(Ve){q(be,Ve)}}).prototype,(p=function(oe){gt(this,{type:Ye,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=L(Te,{then:function(oe,be){var Ve=le(this),We=Ve.reactions,lt=At(Y(this,he));return lt.ok=!ie(oe)||oe,lt.fail=ie(be)&&be,lt.domain=Fe?Ot.domain:void 0,Ve.parent=!0,We[We.length]=lt,Ve.state!=0&&It(Ve,!1),lt.promise},catch:function(oe){return this.then(void 0,oe)}}),d=function(){var oe=new p,be=$e(oe);this.promise=oe,this.resolve=Nn(de,be),this.reject=Nn(q,be)},Pe.f=At=function(oe){return oe===he||oe===O?new d(oe):Et(oe)},!M&&ie(I)&&ue!==Object.prototype)){v=ue.then,fe||(C(ue,"then",function(oe,be){var Ve=this;return new he(function(We,lt){k(v,Ve,We,lt)}).then(oe,be)},{unsafe:!0}),C(ue,"catch",Te.catch,{unsafe:!0}));try{delete ue.constructor}catch(oe){}G&&G(ue,Te)}E({global:!0,wrap:!0,forced:rt},{Promise:he}),W(he,Ye,!1,!0),ne(Ye),O=T(Ye),E({target:Ye,stat:!0,forced:rt},{reject:function(oe){var be=At(this);return k(be.reject,void 0,oe),be.promise}}),E({target:Ye,stat:!0,forced:M||rt},{resolve:function(oe){return xe(M&&this===O?he:this,oe)}}),E({target:Ye,stat:!0,forced:Rt},{all:function(oe){var be=this,Ve=At(be),We=Ve.resolve,lt=Ve.reject,Ut=ze(function(){var Yn=se(be.resolve),nr=[],Cn=0,Fn=1;B(oe,function(ot){var mt=Cn++,xt=!1;Fn++,k(Yn,be,ot).then(function(Nt){xt||(xt=!0,nr[mt]=Nt,--Fn||We(nr))},lt)}),--Fn||We(nr)});return Ut.error&&lt(Ut.value),Ve.promise},race:function(oe){var be=this,Ve=At(be),We=Ve.reject,lt=ze(function(){var Ut=se(be.resolve);B(oe,function(Yn){k(Ut,be,Yn).then(Ve.resolve,We)})});return lt.error&&We(lt.value),Ve.promise}})},function(s,f,o){var p=o(7);s.exports=p.Promise},function(s,f,o){var p,d,O,v,E,M,A,T,k=o(7),I=o(64),C=o(50).f,L=o(168).set,G=o(169),W=o(211),ne=o(212),se=o(128),ie=k.MutationObserver||k.WebKitMutationObserver,Q=k.document,ee=k.process,V=k.Promise,B=C(k,"queueMicrotask"),X=B&&B.value;X||(p=function(){var Y,$;for(se&&(Y=ee.domain)&&Y.exit();d;){$=d.fn,d=d.next;try{$()}catch(ae){throw d?v():O=void 0,ae}}O=void 0,Y&&Y.enter()},G||se||ne||!ie||!Q?!W&&V&&V.resolve?((A=V.resolve(void 0)).constructor=V,T=I(A.then,A),v=function(){T(p)}):se?v=function(){ee.nextTick(p)}:(L=I(L,k),v=function(){L(p)}):(E=!0,M=Q.createTextNode(""),new ie(p).observe(M,{characterData:!0}),v=function(){M.data=E=!E})),s.exports=X||function(Y){var $={fn:Y,next:void 0};O&&(O.next=$),d||(d=$,v()),O=$}},function(s,f,o){var p=o(55),d=o(7);s.exports=/ipad|iphone|ipod/i.test(p)&&d.Pebble!==void 0},function(s,f,o){var p=o(55);s.exports=/web0s(?!.*chrome)/i.test(p)},function(s,f,o){var p=o(32),d=o(33),O=o(170);s.exports=function(v,E){if(p(v),d(E)&&E.constructor===v)return E;var M=O.f(v);return(0,M.resolve)(E),M.promise}},function(s,f,o){var p=o(7);s.exports=function(d,O){var v=p.console;v&&v.error&&(arguments.length==1?v.error(d):v.error(d,O))}},function(s,f){s.exports=function(o){try{return{error:!1,value:o()}}catch(p){return{error:!0,value:p}}}},function(s,f){s.exports=typeof window=="object"},function(s,f,o){var p=o(40),d=o(75),O=o(45);s.exports=function(v){for(var E=p(this),M=O(E),A=arguments.length,T=d(A>1?arguments[1]:void 0,M),k=A>2?arguments[2]:void 0,I=k===void 0?M:d(k,M);I>T;)E[T++]=v;return E}},function(s,f,o){var p=o(16),d=o(7),O=o(15),v=o(59),E=o(160),M=o(219),A=o(18),T=d.RangeError,k=d.String,I=Math.floor,C=O(M),L=O("".slice),G=O(1 .toFixed),W=function(Q,ee,V){return ee===0?V:ee%2==1?W(Q,ee-1,V*Q):W(Q*Q,ee/2,V)},ne=function(Q,ee,V){for(var B=-1,X=V;++B<6;)X+=ee*Q[B],Q[B]=X%1e7,X=I(X/1e7)},se=function(Q,ee){for(var V=6,B=0;--V>=0;)B+=Q[V],Q[V]=I(B/ee),B=B%ee*1e7},ie=function(Q){for(var ee=6,V="";--ee>=0;)if(V!==""||ee===0||Q[ee]!==0){var B=k(Q[ee]);V=V===""?B:V+C("0",7-B.length)+B}return V};p({target:"Number",proto:!0,forced:A(function(){return G(8e-5,3)!=="0.000"||G(.9,0)!=="1"||G(1.255,2)!=="1.25"||G(0xde0b6b3a7640080,0)!=="1000000000000000128"})||!A(function(){G({})})},{toFixed:function(Q){var ee,V,B,X,Y=E(this),$=v(Q),ae=[0,0,0,0,0,0],xe="",me="0";if($<0||$>20)throw T("Incorrect fraction digits");if(Y!=Y)return"NaN";if(Y<=-1e21||Y>=1e21)return k(Y);if(Y<0&&(xe="-",Y=-Y),Y>1e-21)if(V=(ee=function(Pe){for(var ze=0,Se=Pe;Se>=4096;)ze+=12,Se/=4096;for(;Se>=2;)ze+=1,Se/=2;return ze}(Y*W(2,69,1))-69)<0?Y*W(2,-ee,1):Y/W(2,ee,1),V*=4503599627370496,(ee=52-ee)>0){for(ne(ae,0,V),B=$;B>=7;)ne(ae,1e7,0),B-=7;for(ne(ae,W(10,B,1),0),B=ee-1;B>=23;)se(ae,1<<23),B-=23;se(ae,1<<B),ne(ae,1,1),se(ae,2),me=ie(ae)}else ne(ae,0,V),ne(ae,1<<-ee,0),me=ie(ae)+C("0",$);return me=$>0?xe+((X=me.length)<=$?"0."+C("0",$-X)+me:L(me,0,X-$)+"."+L(me,X-$)):xe+me}})},function(s,f,o){var p=o(7),d=o(59),O=o(39),v=o(44),E=p.RangeError;s.exports=function(M){var A=O(v(this)),T="",k=d(M);if(k<0||k==1/0)throw E("Wrong number of repetitions");for(;k>0;(k>>>=1)&&(A+=A))1&k&&(T+=A);return T}},function(s,f,o){var p=o(36),d=o(15),O=o(77),v=o(41),E=d(o(84).f),M=d([].push),A=function(T){return function(k){for(var I,C=v(k),L=O(C),G=L.length,W=0,ne=[];G>W;)I=L[W++],p&&!E(C,I)||M(ne,T?[I,C[I]]:C[I]);return ne}};s.exports={entries:A(!0),values:A(!1)}},function(s,f){s.exports=function(o){return o.webpackPolyfill||(o.deprecate=function(){},o.paths=[],o.children||(o.children=[]),Object.defineProperty(o,"loaded",{enumerable:!0,get:function(){return o.l}}),Object.defineProperty(o,"id",{enumerable:!0,get:function(){return o.i}}),o.webpackPolyfill=1),o}},function(s,f,o){o.r(f),o.d(f,"observer",function(){return ui}),o.d(f,"LogicFlow",function(){return Fv}),o.d(f,"h",function(){return fe.g}),o.d(f,"LogicFlowUtil",function(){return p}),o.d(f,"BaseNode",function(){return Qi}),o.d(f,"RectNode",function(){return Ty}),o.d(f,"CircleNode",function(){return Ry}),o.d(f,"PolygonNode",function(){return Fy}),o.d(f,"DiamondNode",function(){return Hy}),o.d(f,"EllipseNode",function(){return $y}),o.d(f,"TextNode",function(){return Jy}),o.d(f,"HtmlNode",function(){return nv}),o.d(f,"BaseEdge",function(){return ef}),o.d(f,"LineEdge",function(){return vv}),o.d(f,"PolylineEdge",function(){return Ov}),o.d(f,"BezierEdge",function(){return Sv}),o.d(f,"Arrow",function(){return xw}),o.d(f,"BaseEdgeModel",function(){return sl}),o.d(f,"BezierEdgeModel",function(){return Lh}),o.d(f,"LineEdgeModel",function(){return Xi}),o.d(f,"PolylineEdgeModel",function(){return Ic}),o.d(f,"BaseNodeModel",function(){return Ji}),o.d(f,"CircleNodeModel",function(){return Xh}),o.d(f,"DiamondNodeModel",function(){return Kh}),o.d(f,"EllipseNodeModel",function(){return Jh}),o.d(f,"PolygonNodeModel",function(){return oy}),o.d(f,"RectNodeModel",function(){return cy}),o.d(f,"TextNodeModel",function(){return py}),o.d(f,"HtmlNodeModel",function(){return yy}),o.d(f,"EditConfigModel",function(){return Ts}),o.d(f,"GraphModel",function(){return Bu}),o.d(f,"SnaplineModel",function(){return Ym}),o.d(f,"Keyboard",function(){return Db}),o.d(f,"get",function(){return Tg}),o.d(f,"defaults",function(){return Ng}),o.d(f,"ElementState",function(){return un}),o.d(f,"ModelType",function(){return Yt}),o.d(f,"ElementType",function(){return Gn}),o.d(f,"EventType",function(){return ft}),o.d(f,"formateAnchorConnectValidateData",function(){return Eu});var p={};o.r(p),o.d(p,"createUuid",function(){return po}),o.d(p,"refreshGraphId",function(){return ja}),o.d(p,"StepDrag",function(){return ho}),o.d(p,"setupEdgeModel",function(){return pp}),o.d(p,"isBboxOverLapping",function(){return _l}),o.d(p,"filterRepeatPoints",function(){return Qo}),o.d(p,"getSimplePolyline",function(){return Ol}),o.d(p,"getExpandedBBox",function(){return Da}),o.d(p,"pointDirection",function(){return Au}),o.d(p,"getExpandedBBoxPoint",function(){return cr}),o.d(p,"mergeBBox",function(){return Oi}),o.d(p,"getBBoxOfPoints",function(){return Na}),o.d(p,"getPointsFromBBox",function(){return Mu}),o.d(p,"isPointOutsideBBox",function(){return Ca}),o.d(p,"getBBoxXCrossPoints",function(){return Lo}),o.d(p,"getBBoxYCrossPoints",function(){return Gt}),o.d(p,"getBBoxCrossPointsByPoint",function(){return wl}),o.d(p,"estimateDistance",function(){return jr}),o.d(p,"costByPoints",function(){return xl}),o.d(p,"heuristicCostEstimate",function(){return cn}),o.d(p,"rebuildPath",function(){return dp}),o.d(p,"removeClosePointFromOpenList",function(){return El}),o.d(p,"isSegmentsIntersected",function(){return ei}),o.d(p,"isSegmentCrossingBBox",function(){return Sl}),o.d(p,"getNextNeighborPoints",function(){return hp}),o.d(p,"pathFinder",function(){return yp}),o.d(p,"getBoxByOriginNode",function(){return jl}),o.d(p,"pointFilter",function(){return ku}),o.d(p,"getPolylinePoints",function(){return Tu}),o.d(p,"getLongestEdge",function(){return vp}),o.d(p,"isSegmentsInNode",function(){return Pl}),o.d(p,"isSegmentsCrossNode",function(){return Al}),o.d(p,"getCrossPointInRect",function(){return $n}),o.d(p,"segmentDirection",function(){return ir}),o.d(p,"points2PointsList",function(){return wi}),o.d(p,"getSimplePoints",function(){return Ml}),o.d(p,"getBytesLength",function(){return kl}),o.d(p,"getTextWidth",function(){return mp}),o.d(p,"getAppendAttributes",function(){return Tl}),o.d(p,"getBezierControlPoints",function(){return xi}),o.d(p,"getBezierPoints",function(){return Fc}),o.d(p,"getEndTangent",function(){return Uc}),o.d(p,"getClosestPointOfPolyline",function(){return Dl}),o.d(p,"pickEdgeConfig",function(){return bp}),o.d(p,"twoPointDistance",function(){return Nl}),o.d(p,"createEdgeGenerator",function(){return _p}),o.d(p,"snapToGrid",function(){return Co}),o.d(p,"getGridOffset",function(){return Sa}),o.d(p,"sampleCubic",function(){return Ft}),o.d(p,"getThetaOfVector",function(){return Sr}),o.d(p,"degrees",function(){return In}),o.d(p,"Vector",function(){return ar}),o.d(p,"Point",function(){return Ra}),o.d(p,"Matrix",function(){return yt}),o.d(p,"RotateMatrix",function(){return Pt}),o.d(p,"ScaleMatrix",function(){return Zn}),o.d(p,"TranslateMatrix",function(){return sr});var d=o(1),O=o(10);if(!O.j)throw new Error("mobx-react-lite requires React with Hooks support");if(!d.H)throw new Error("mobx-react-lite requires mobx at least version 4 to be available");var v=o(43),E=Object(v.b)("observerBatching");function M(t){t()}var A=!1;function T(){return A}function k(t){return Object(d.t)(t)}var I,C=1e4,L=new Set;function G(){I===void 0&&(I=setTimeout(W,1e4))}function W(){I=void 0;var t=Date.now();L.forEach(function(e){var n=e.current;n&&t>=n.cleanAt&&(n.reaction.dispose(),e.current=null,L.delete(e))}),L.size>0&&G()}var ne=!1,se=[],ie={};function Q(t){return"observer"+t}function ee(t,e,n){e===void 0&&(e="observed"),n===void 0&&(n=ie),T();var r,a=function(x){return function(){ne?se.push(x):x()}}((n.useForceUpdate||v.d)()),i=O.d.useRef(null);if(!i.current){var c=new d.c(Q(e),function(){h.mounted?a():(c.dispose(),i.current=null)}),h=function(x){return{cleanAt:Date.now()+C,reaction:x}}(c);i.current=h,r=i,L.add(r),G()}var g=i.current.reaction;return O.d.useDebugValue(g,k),O.d.useEffect(function(){var x;return x=i,L.delete(x),i.current?i.current.mounted=!0:(i.current={reaction:new d.c(Q(e),function(){a()}),cleanAt:1/0},a()),function(){i.current.reaction.dispose(),i.current=null}},[]),function(x){ne=!0,se=[];try{var S=x();ne=!1;var D=se.length>0?se:void 0;return O.d.useLayoutEffect(function(){D&&D.forEach(function(R){return R()})},[D]),S}finally{ne=!1}}(function(){var x,S;if(g.track(function(){try{x=t()}catch(D){S=D}}),S)throw S;return x})}var V=function(){return V=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},V.apply(this,arguments)};function B(t,e){var n,r,a,i=V({forwardRef:!1},e),c=t.displayName||t.name,h=function(g,x){return ee(function(){return t(g,x)},c)};return h.displayName=c,n=i.forwardRef?Object(O.f)(Object(O.e)(h)):Object(O.f)(h),r=t,a=n,Object.keys(r).forEach(function(g){X[g]||Object.defineProperty(a,g,Object.getOwnPropertyDescriptor(r,g))}),n.displayName=c,n}var X={$$typeof:!0,render:!0,compare:!0,type:!0};function Y(t){var e=t.children,n=t.render,r=e||n;return typeof r!="function"?null:ee(r)}function $(t,e,n,r,a){var i=e==="children"?"render":"children",c=typeof t[e]=="function",h=typeof t[i]=="function";return c&&h?new Error("MobX Observer: Do not use children and render in the same time in`"+n):c||h?null:new Error("Invalid prop `"+a+"` of type `"+typeof t[e]+"` supplied to `"+n+"`, expected `function`.")}Y.propTypes={children:$,render:$},Y.displayName="Observer";var ae;(ae=O.g)||(ae=M),Object(d.n)({reactionScheduler:ae}),Object(v.a)()[E]=!0;var xe=0,me={};function Pe(t){return me[t]||(me[t]=function(e){if(typeof Symbol=="function")return Symbol(e);var n="__$mobx-react "+e+" ("+xe+")";return xe++,n}(t)),me[t]}function ze(t,e){if(Se(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var a=0;a<n.length;a++)if(!Object.hasOwnProperty.call(e,n[a])||!Se(t[n[a]],e[n[a]]))return!1;return!0}function Se(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function ve(t,e,n){Object.hasOwnProperty.call(t,e)?t[e]=n:Object.defineProperty(t,e,{enumerable:!1,configurable:!0,writable:!0,value:n})}var je=Pe("patchMixins"),Ae=Pe("patchedDefinition");function Fe(t,e){for(var n=this,r=arguments.length,a=new Array(r>2?r-2:0),i=2;i<r;i++)a[i-2]=arguments[i];e.locks++;try{var c;return t!=null&&(c=t.apply(this,a)),c}finally{e.locks--,e.locks===0&&e.methods.forEach(function(h){h.apply(n,a)})}}function tt(t,e){return function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];Fe.call.apply(Fe,[this,t,e].concat(r))}}function _t(t,e,n){var r=function(h,g){var x=h[je]=h[je]||{},S=x[g]=x[g]||{};return S.locks=S.locks||0,S.methods=S.methods||[],S}(t,e);r.methods.indexOf(n)<0&&r.methods.push(n);var a=Object.getOwnPropertyDescriptor(t,e);if(!a||!a[Ae]){var i=t[e],c=Ye(t,e,a?a.enumerable:void 0,r,i);Object.defineProperty(t,e,c)}}function Ye(t,e,n,r,a){var i,c=tt(a,r);return(i={})[Ae]=!0,i.get=function(){return c},i.set=function(h){if(this===t)c=tt(h,r);else{var g=Ye(this,e,n,r,h);Object.defineProperty(this,e,g)}},i.configurable=!0,i.enumerable=n,i}var $e=d.a||"$mobx",gt=Pe("isMobXReactObserver"),le=Pe("isUnmounted"),ue=Pe("skipRender"),he=Pe("isForcingUpdate");function Te(t){var e=t.prototype;if(t[gt]?Ge(e):t[gt]=!0,e.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(t.__proto__!==O.b)if(e.shouldComponentUpdate){if(e.shouldComponentUpdate!==Ot)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}else e.shouldComponentUpdate=Ot;At(e,"props"),At(e,"state");var n=e.render;return e.render=function(){return Ie.call(this,n)},_t(e,"componentWillUnmount",function(){var r;(r=this.render[$e])===null||r===void 0||r.dispose(),this[le]=!0,!this.render[$e]&&Ge(this)}),t}function Ge(t){return t.displayName||t.name||t.constructor&&(t.constructor.displayName||t.constructor.name)||"<component>"}function Ie(t){var e=this;ve(this,ue,!1),ve(this,he,!1);var n=Ge(this),r=t.bind(this),a=!1,i=new d.c(n+".render()",function(){if(!a&&(a=!0,e[le]!==!0)){var h=!0;try{ve(e,he,!0),e[ue]||O.a.prototype.forceUpdate.call(e),h=!1}finally{ve(e,he,!1),h&&i.dispose()}}});function c(){a=!1;var h=void 0,g=void 0;if(i.track(function(){try{g=Object(d.d)(!1,r)}catch(x){h=x}}),h)throw h;return g}return i.reactComponent=this,c[$e]=i,this.render=c,c.call(this)}function Ot(t,e){return this.state!==e||!ze(this.props,t)}function At(t,e){var n=Pe("reactProp_"+e+"_valueHolder"),r=Pe("reactProp_"+e+"_atomHolder");function a(){return this[r]||ve(this,r,Object(d.o)("reactive "+e)),this[r]}Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){var i=!1;return d.f&&d.e&&(i=Object(d.f)(!0)),a.call(this).reportObserved(),d.f&&d.e&&Object(d.e)(i),this[n]},set:function(i){this[he]||ze(this[n],i)?ve(this,n,i):(ve(this,n,i),ve(this,ue,!0),a.call(this).reportChanged(),ve(this,ue,!1))}})}var Et=typeof Symbol=="function"&&Symbol.for,ht=Et?Symbol.for("react.forward_ref"):typeof O.e=="function"&&Object(O.e)(function(t){return null}).$$typeof,Me=Et?Symbol.for("react.memo"):typeof O.f=="function"&&Object(O.f)(function(t){return null}).$$typeof;function ut(t){if(t.isMobxInjector,Me&&t.$$typeof===Me)throw new Error("Mobx observer: You are trying to use 'observer' on a function component wrapped in either another observer or 'React.memo'. The observer already applies 'React.memo' for you.");if(ht&&t.$$typeof===ht){var e=t.render;if(typeof e!="function")throw new Error("render property of ForwardRef was not a function");return Object(O.e)(function(){var n=arguments;return Object(O.c)(Y,null,function(){return e.apply(void 0,n)})})}return typeof t!="function"||t.prototype&&t.prototype.render||t.isReactClass||Object.prototype.isPrototypeOf.call(O.a,t)?Te(t):B(t)}if(!O.a)throw new Error("mobx-react requires React to be available");if(!d.C)throw new Error("mobx-react requires mobx to be available");var fe=o(0);o(4),o(8),o(2),o(3),o(52),o(6),o(5),o(11),o(37),o(26),o(21),o(20),o(24),o(22),o(25),o(9),o(17),o(23),o(19),o(192),o(156),o(104),o(157),o(158),o(199),o(61);var rt=function(t,e){for(var n=-1,r=t==null?0:t.length,a=Array(r);++n<r;)a[n]=e(t[n],n,t);return a},Rt=function(){this.__data__=[],this.size=0},rn=function(t,e){return t===e||t!=t&&e!=e},It=function(t,e){for(var n=t.length;n--;)if(rn(t[n][0],e))return n;return-1},Zt=Array.prototype.splice,fn=function(t){var e=this.__data__,n=It(e,t);return!(n<0)&&(n==e.length-1?e.pop():Zt.call(e,n,1),--this.size,!0)},bn=function(t){var e=this.__data__,n=It(e,t);return n<0?void 0:e[n][1]},Dt=function(t){return It(this.__data__,t)>-1},Nn=function(t,e){var n=this.__data__,r=It(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};function q(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}q.prototype.clear=Rt,q.prototype.delete=fn,q.prototype.get=bn,q.prototype.has=Dt,q.prototype.set=Nn;var de=q,oe=function(){this.__data__=new de,this.size=0},be=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Ve=function(t){return this.__data__.get(t)},We=function(t){return this.__data__.has(t)},lt=o(31),Ut=lt.a.Symbol,Yn=Object.prototype,nr=Yn.hasOwnProperty,Cn=Yn.toString,Fn=Ut?Ut.toStringTag:void 0,ot=function(t){var e=nr.call(t,Fn),n=t[Fn];try{t[Fn]=void 0;var r=!0}catch(i){}var a=Cn.call(t);return r&&(e?t[Fn]=n:delete t[Fn]),a},mt=Object.prototype.toString,xt=function(t){return mt.call(t)},Nt=Ut?Ut.toStringTag:void 0,sn=function(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Nt&&Nt in Object(t)?ot(t):xt(t)},Sn=function(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")},Oo,io=function(t){if(!Sn(t))return!1;var e=sn(t);return e=="[object Function]"||e=="[object GeneratorFunction]"||e=="[object AsyncFunction]"||e=="[object Proxy]"},wo=lt.a["__core-js_shared__"],ci=(Oo=/[^.]+$/.exec(wo&&wo.keys&&wo.keys.IE_PROTO||""))?"Symbol(src)_1."+Oo:"",bs=function(t){return!!ci&&ci in t},Wa=Function.prototype.toString,zr=function(t){if(t!=null){try{return Wa.call(t)}catch(e){}try{return t+""}catch(e){}}return""},Di=/^\[object .+?Constructor\]$/,ct=Function.prototype,_s=Object.prototype,Ka=ct.toString,$a=_s.hasOwnProperty,mr=RegExp("^"+Ka.call($a).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Mr=function(t){return!(!Sn(t)||bs(t))&&(io(t)?mr:Di).test(zr(t))},oa=function(t,e){return t==null?void 0:t[e]},qr=function(t,e){var n=oa(t,e);return Mr(n)?n:void 0},Br=qr(lt.a,"Map"),Jr=qr(Object,"create"),Za=function(){this.__data__=Jr?Jr(null):{},this.size=0},qa=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Ku=Object.prototype.hasOwnProperty,Ni=function(t){var e=this.__data__;if(Jr){var n=e[t];return n==="__lodash_hash_undefined__"?void 0:n}return Ku.call(e,t)?e[t]:void 0},$u=Object.prototype.hasOwnProperty,Ja=function(t){var e=this.__data__;return Jr?e[t]!==void 0:$u.call(e,t)},Os=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Jr&&e===void 0?"__lodash_hash_undefined__":e,this};function Uo(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Uo.prototype.clear=Za,Uo.prototype.delete=qa,Uo.prototype.get=Ni,Uo.prototype.has=Ja,Uo.prototype.set=Os;var Zu=Uo,xo=function(){this.size=0,this.__data__={hash:new Zu,map:new(Br||de),string:new Zu}},Qa=function(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null},ia=function(t,e){var n=t.__data__;return Qa(e)?n[typeof e=="string"?"string":"hash"]:n.map},eu=function(t){var e=ia(this,t).delete(t);return this.size-=e?1:0,e},tu=function(t){return ia(this,t).get(t)},ws=function(t){return ia(this,t).has(t)},qu=function(t,e){var n=ia(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};function an(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}an.prototype.clear=xo,an.prototype.delete=eu,an.prototype.get=tu,an.prototype.has=ws,an.prototype.set=qu;var on=an,Ju=function(t,e){var n=this.__data__;if(n instanceof de){var r=n.__data__;if(!Br||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new on(r)}return n.set(t,e),this.size=n.size,this};function si(t){var e=this.__data__=new de(t);this.size=e.size}si.prototype.clear=oe,si.prototype.delete=be,si.prototype.get=Ve,si.prototype.has=We,si.prototype.set=Ju;var Eo=si,nu=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Qu=function(t){return this.__data__.has(t)};function kn(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new on;++e<n;)this.add(t[e])}kn.prototype.add=kn.prototype.push=nu,kn.prototype.has=Qu;var ru=kn,Ci=function(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1},ou=function(t,e){return t.has(e)},aa=function(t,e,n,r,a,i){var c=1&n,h=t.length,g=e.length;if(h!=g&&!(c&&g>h))return!1;var x=i.get(t),S=i.get(e);if(x&&S)return x==e&&S==t;var D=-1,R=!0,H=2&n?new ru:void 0;for(i.set(t,e),i.set(e,t);++D<h;){var J=t[D],re=e[D];if(r)var ye=c?r(re,J,D,e,t,i):r(J,re,D,t,e,i);if(ye!==void 0){if(ye)continue;R=!1;break}if(H){if(!Ci(e,function(ge,we){if(!ou(H,we)&&(J===ge||a(J,ge,n,r,i)))return H.push(we)})){R=!1;break}}else if(J!==re&&!a(J,re,n,r,i)){R=!1;break}}return i.delete(t),i.delete(e),R},rr=lt.a.Uint8Array,iu=function(t){var e=-1,n=Array(t.size);return t.forEach(function(r,a){n[++e]=[a,r]}),n},ec=function(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n},au=Ut?Ut.prototype:void 0,ua=au?au.valueOf:void 0,li=function(t,e,n,r,a,i,c){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!i(new rr(t),new rr(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return rn(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var h=iu;case"[object Set]":var g=1&r;if(h||(h=ec),t.size!=e.size&&!g)return!1;var x=c.get(t);if(x)return x==e;r|=2,c.set(t,e);var S=aa(h(t),h(e),r,a,i,c);return c.delete(t),S;case"[object Symbol]":if(ua)return ua.call(t)==ua.call(e)}return!1},ao=function(t,e){for(var n=-1,r=e.length,a=t.length;++n<r;)t[a+n]=e[n];return t},hn=Array.isArray,tc=function(t,e,n){var r=e(t);return hn(t)?r:ao(r,n(t))},br=function(t,e){for(var n=-1,r=t==null?0:t.length,a=0,i=[];++n<r;){var c=t[n];e(c,n,t)&&(i[a++]=c)}return i},nc=function(){return[]},rc=Object.prototype.propertyIsEnumerable,fr=Object.getOwnPropertySymbols,_r=fr?function(t){return t==null?[]:(t=Object(t),br(fr(t),function(e){return rc.call(t,e)}))}:nc,uu=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r},en=function(t){return t!=null&&typeof t=="object"},Vn=function(t){return en(t)&&sn(t)=="[object Arguments]"},ca=Object.prototype,oc=ca.hasOwnProperty,cu=ca.propertyIsEnumerable,sa=Vn(function(){return arguments}())?Vn:function(t){return en(t)&&oc.call(t,"callee")&&!cu.call(t,"callee")},uo=sa,So=o(48),fi=/^(?:0|[1-9]\d*)$/,Or=function(t,e){var n=typeof t;return!!(e=e==null?9007199254740991:e)&&(n=="number"||n!="symbol"&&fi.test(t))&&t>-1&&t%1==0&&t<e},jo=function(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=9007199254740991},qt={};qt["[object Float32Array]"]=qt["[object Float64Array]"]=qt["[object Int8Array]"]=qt["[object Int16Array]"]=qt["[object Int32Array]"]=qt["[object Uint8Array]"]=qt["[object Uint8ClampedArray]"]=qt["[object Uint16Array]"]=qt["[object Uint32Array]"]=!0,qt["[object Arguments]"]=qt["[object Array]"]=qt["[object ArrayBuffer]"]=qt["[object Boolean]"]=qt["[object DataView]"]=qt["[object Date]"]=qt["[object Error]"]=qt["[object Function]"]=qt["[object Map]"]=qt["[object Number]"]=qt["[object Object]"]=qt["[object RegExp]"]=qt["[object Set]"]=qt["[object String]"]=qt["[object WeakMap]"]=!1;var wr=function(t){return en(t)&&jo(t.length)&&!!qt[sn(t)]},co=function(t){return function(e){return t(e)}},Jn=o(49),la=Jn.a&&Jn.a.isTypedArray,Ri=la?co(la):wr,su=Object.prototype.hasOwnProperty,jn=function(t,e){var n=hn(t),r=!n&&uo(t),a=!n&&!r&&Object(So.a)(t),i=!n&&!r&&!a&&Ri(t),c=n||r||a||i,h=c?uu(t.length,String):[],g=h.length;for(var x in t)!e&&!su.call(t,x)||c&&(x=="length"||a&&(x=="offset"||x=="parent")||i&&(x=="buffer"||x=="byteLength"||x=="byteOffset")||Or(x,g))||h.push(x);return h},fa=Object.prototype,Po=function(t){var e=t&&t.constructor;return t===(typeof e=="function"&&e.prototype||fa)},Fr=function(t,e){return function(n){return t(e(n))}},lu=Fr(Object.keys,Object),xs=Object.prototype.hasOwnProperty,fu=function(t){if(!Po(t))return lu(t);var e=[];for(var n in Object(t))xs.call(t,n)&&n!="constructor"&&e.push(n);return e},Un=function(t){return t!=null&&jo(t.length)&&!io(t)},pi=function(t){return Un(t)?jn(t):fu(t)},so=function(t){return tc(t,pi,_r)},pr=Object.prototype.hasOwnProperty,pu=function(t,e,n,r,a,i){var c=1&n,h=so(t),g=h.length;if(g!=so(e).length&&!c)return!1;for(var x=g;x--;){var S=h[x];if(!(c?S in e:pr.call(e,S)))return!1}var D=i.get(t),R=i.get(e);if(D&&R)return D==e&&R==t;var H=!0;i.set(t,e),i.set(e,t);for(var J=c;++x<g;){var re=t[S=h[x]],ye=e[S];if(r)var ge=c?r(ye,re,S,e,t,i):r(re,ye,S,t,e,i);if(!(ge===void 0?re===ye||a(re,ye,n,r,i):ge)){H=!1;break}J||(J=S=="constructor")}if(H&&!J){var we=t.constructor,Ce=e.constructor;we==Ce||!("constructor"in t)||!("constructor"in e)||typeof we=="function"&&we instanceof we&&typeof Ce=="function"&&Ce instanceof Ce||(H=!1)}return i.delete(t),i.delete(e),H},kr=qr(lt.a,"DataView"),Go=qr(lt.a,"Promise"),pa=qr(lt.a,"Set"),lo=qr(lt.a,"WeakMap"),Tr="[object Map]",xr="[object Promise]",Ur="[object Set]",fo="[object WeakMap]",Oe="[object DataView]",De=zr(kr),Re=zr(Br),Je=zr(Go),Lt=zr(pa),Wt=zr(lo),yn=sn;(kr&&yn(new kr(new ArrayBuffer(1)))!=Oe||Br&&yn(new Br)!=Tr||Go&&yn(Go.resolve())!=xr||pa&&yn(new pa)!=Ur||lo&&yn(new lo)!=fo)&&(yn=function(t){var e=sn(t),n=e=="[object Object]"?t.constructor:void 0,r=n?zr(n):"";if(r)switch(r){case De:return Oe;case Re:return Tr;case Je:return xr;case Lt:return Ur;case Wt:return fo}return e});var _=yn,w="[object Arguments]",P="[object Array]",z="[object Object]",K=Object.prototype.hasOwnProperty,pe=function(t,e,n,r,a,i){var c=hn(t),h=hn(e),g=c?P:_(t),x=h?P:_(e),S=(g=g==w?z:g)==z,D=(x=x==w?z:x)==z,R=g==x;if(R&&Object(So.a)(t)){if(!Object(So.a)(e))return!1;c=!0,S=!1}if(R&&!S)return i||(i=new Eo),c||Ri(t)?aa(t,e,n,r,a,i):li(t,e,g,n,r,a,i);if(!(1&n)){var H=S&&K.call(t,"__wrapped__"),J=D&&K.call(e,"__wrapped__");if(H||J){var re=H?t.value():t,ye=J?e.value():e;return i||(i=new Eo),a(re,ye,n,r,i)}}return!!R&&(i||(i=new Eo),pu(t,e,n,r,a,i))},Ee=function t(e,n,r,a,i){return e===n||(e==null||n==null||!en(e)&&!en(n)?e!=e&&n!=n:pe(e,n,r,a,t,i))},Be=function(t,e,n,r){var a=n.length,i=a,c=!r;if(t==null)return!i;for(t=Object(t);a--;){var h=n[a];if(c&&h[2]?h[1]!==t[h[0]]:!(h[0]in t))return!1}for(;++a<i;){var g=(h=n[a])[0],x=t[g],S=h[1];if(c&&h[2]){if(x===void 0&&!(g in t))return!1}else{var D=new Eo;if(r)var R=r(x,S,g,t,e,D);if(!(R===void 0?Ee(S,x,3,r,D):R))return!1}}return!0},it=function(t){return t==t&&!Sn(t)},Ht=function(t){for(var e=pi(t),n=e.length;n--;){var r=e[n],a=t[r];e[n]=[r,a,it(a)]}return e},Qe=function(t,e){return function(n){return n!=null&&n[t]===e&&(e!==void 0||t in Object(n))}},pn=function(t){var e=Ht(t);return e.length==1&&e[0][2]?Qe(e[0][0],e[0][1]):function(n){return n===t||Be(n,t,e)}},zt=function(t){return typeof t=="symbol"||en(t)&&sn(t)=="[object Symbol]"},tn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Gr=/^\w*$/,_n=function(t,e){if(hn(t))return!1;var n=typeof t;return!(n!="number"&&n!="symbol"&&n!="boolean"&&t!=null&&!zt(t))||Gr.test(t)||!tn.test(t)||e!=null&&t in Object(e)};function Er(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError("Expected a function");var n=function(){var r=arguments,a=e?e.apply(this,r):r[0],i=n.cache;if(i.has(a))return i.get(a);var c=t.apply(this,r);return n.cache=i.set(a,c)||i,c};return n.cache=new(Er.Cache||on),n}Er.Cache=on;var Ao=Er,Mo=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ii=/\\(\\)?/g,du=function(t){var e=Ao(t,function(r){return n.size===500&&n.clear(),r}),n=e.cache;return e}(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Mo,function(n,r,a,i){e.push(a?i.replace(Ii,"$1"):r||n)}),e}),Xo=Ut?Ut.prototype:void 0,da=Xo?Xo.toString:void 0,dr=function t(e){if(typeof e=="string")return e;if(hn(e))return rt(e,t)+"";if(zt(e))return da?da.call(e):"";var n=e+"";return n=="0"&&1/e==-1/0?"-0":n},Li=function(t){return t==null?"":dr(t)},di=function(t,e){return hn(t)?t:_n(t,e)?[t]:du(Li(t))},Ho=function(t){if(typeof t=="string"||zt(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e},Yo=function(t,e){for(var n=0,r=(e=di(e,t)).length;t!=null&&n<r;)t=t[Ho(e[n++])];return n&&n==r?t:void 0},hu=function(t,e,n){var r=t==null?void 0:Yo(t,e);return r===void 0?n:r},Ud=function(t,e){return t!=null&&e in Object(t)},Gd=function(t,e,n){for(var r=-1,a=(e=di(e,t)).length,i=!1;++r<a;){var c=Ho(e[r]);if(!(i=t!=null&&n(t,c)))break;t=t[c]}return i||++r!=a?i:!!(a=t==null?0:t.length)&&jo(a)&&Or(c,a)&&(hn(t)||uo(t))},vf=function(t,e){return t!=null&&Gd(t,e,Ud)},ic=function(t,e){return _n(t)&&it(e)?Qe(Ho(t),e):function(n){var r=hu(n,t);return r===void 0&&r===e?vf(n,t):Ee(e,r,3)}},ha=function(t){return t},Es=function(t){return function(e){return e==null?void 0:e[t]}},Xd=function(t){return function(e){return Yo(e,t)}},gf=function(t){return _n(t)?Es(Ho(t)):Xd(t)},Hd=function(t){return typeof t=="function"?t:t==null?ha:typeof t=="object"?hn(t)?ic(t[0],t[1]):pn(t):gf(t)},mf=function(t){return function(e,n,r){for(var a=-1,i=Object(e),c=r(e),h=c.length;h--;){var g=c[t?h:++a];if(n(i[g],g,i)===!1)break}return e}}(),Qn=function(t,e){return function(n,r){if(n==null)return n;if(!Un(n))return t(n,r);for(var a=n.length,i=e?a:-1,c=Object(n);(e?i--:++i<a)&&r(c[i],i,c)!==!1;);return n}}(function(t,e){return t&&mf(t,e,pi)}),hr=function(t,e){var n=-1,r=Un(t)?Array(t.length):[];return Qn(t,function(a,i,c){r[++n]=e(a,i,c)}),r},ac=function(t,e){return(hn(t)?rt:hr)(t,Hd(e))};Object(d.n)({isolateGlobalState:!0});var uc=function(){try{var t=qr(Object,"defineProperty");return t({},"",{}),t}catch(e){}}(),cc=function(t,e,n){e=="__proto__"&&uc?uc(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n},Yd=Object.prototype.hasOwnProperty,ya=function(t,e,n){var r=t[e];Yd.call(t,e)&&rn(r,n)&&(n!==void 0||e in t)||cc(t,e,n)},ko=function(t,e,n,r){var a=!n;n||(n={});for(var i=-1,c=e.length;++i<c;){var h=e[i],g=r?r(n[h],t[h],h,n,t):void 0;g===void 0&&(g=t[h]),a?cc(n,h,g):ya(n,h,g)}return n},Ss=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)},zi=Math.max,va=function(t,e,n){return e=zi(e===void 0?t.length-1:e,0),function(){for(var r=arguments,a=-1,i=zi(r.length-e,0),c=Array(i);++a<i;)c[a]=r[e+a];a=-1;for(var h=Array(e+1);++a<e;)h[a]=r[a];return h[e]=n(c),Ss(t,this,h)}},yu=function(t){return function(){return t}},sc=uc?function(t,e){return uc(t,"toString",{configurable:!0,enumerable:!1,value:yu(e),writable:!0})}:ha,ga=Date.now,Vd=function(t){var e=0,n=0;return function(){var r=ga(),a=16-(r-n);if(n=r,a>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}},bf=Vd(sc),Wd=function(t,e){return bf(va(t,e,ha),t+"")},Kd=function(t,e,n){if(!Sn(n))return!1;var r=typeof e;return!!(r=="number"?Un(n)&&Or(e,n.length):r=="string"&&e in n)&&rn(n[e],t)},_f=function(t){return Wd(function(e,n){var r=-1,a=n.length,i=a>1?n[a-1]:void 0,c=a>2?n[2]:void 0;for(i=t.length>3&&typeof i=="function"?(a--,i):void 0,c&&Kd(n[0],n[1],c)&&(i=a<3?void 0:i,a=1),e=Object(e);++r<a;){var h=n[r];h&&t(e,h,r,i)}return e})},lc=Object.prototype.hasOwnProperty,er=_f(function(t,e){if(Po(e)||Un(e))ko(e,pi(e),t);else for(var n in e)lc.call(e,n)&&ya(t,n,e[n])}),Of=function(t,e,n,r){if(!Sn(t))return t;for(var a=-1,i=(e=di(e,t)).length,c=i-1,h=t;h!=null&&++a<i;){var g=Ho(e[a]),x=n;if(g==="__proto__"||g==="constructor"||g==="prototype")return t;if(a!=c){var S=h[g];(x=r?r(S,g,h):void 0)===void 0&&(x=Sn(S)?S:Or(e[a+1])?[]:{})}ya(h,g,x),h=h[g]}return t},F=function(t,e,n){for(var r=-1,a=e.length,i={};++r<a;){var c=e[r],h=Yo(t,c);n(h,c)&&Of(i,di(c,t),h)}return i},ma=function(t,e){return F(t,e,function(n,r){return vf(t,r)})},vu=Ut?Ut.isConcatSpreadable:void 0,Qr=function(t){return hn(t)||uo(t)||!!(vu&&t&&t[vu])},Qt=function t(e,n,r,a,i){var c=-1,h=e.length;for(r||(r=Qr),i||(i=[]);++c<h;){var g=e[c];n>0&&r(g)?n>1?t(g,n-1,r,a,i):ao(i,g):a||(i[i.length]=g)}return i},Bi=function(t){return t!=null&&t.length?Qt(t,1):[]},dn,To,hi,eo,js,Ps,wf,xf,fc,ba,gu,Ef,As,Do,pc,yi,Xr,Ms,ks,Vo=function(t){return bf(va(t,void 0,Bi),t+"")}(function(t,e){return t==null?{}:ma(t,e)});function On(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Sf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function jf(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rn(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,h){return h(t,e,c)||c},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}var un,or,Yt,Gn,ft,vn,dc={stopZoomGraph:!1,stopScrollGraph:!1,stopMoveGraph:!1,adjustEdge:!1,adjustEdgeStartAndEnd:!1,adjustNodePosition:!1,hideAnchors:!0,allowRotation:!1,nodeSelectedOutline:!0,nodeTextEdit:!1,edgeTextEdit:!1,nodeTextDraggable:!1,edgeTextDraggable:!1},Wo=["isSilentMode","stopZoomGraph","stopScrollGraph","stopMoveGraph","adjustEdge","adjustEdgeMiddle","adjustEdgeStartAndEnd","adjustNodePosition","hideAnchors","allowRotation","hoverOutline","nodeSelectedOutline","edgeSelectedOutline","nodeTextEdit","edgeTextEdit","nodeTextDraggable","edgeTextDraggable","multipleSelectKey","autoExpand"],Ts=(To=Rn((dn=function(){function t(r){(function(a,i){if(!(a instanceof i))throw new TypeError("Cannot call a class as a function")})(this,t),On(this,"isSilentMode",To,this),On(this,"stopZoomGraph",hi,this),On(this,"stopScrollGraph",eo,this),On(this,"stopMoveGraph",js,this),On(this,"adjustEdge",Ps,this),On(this,"adjustEdgeMiddle",wf,this),On(this,"adjustEdgeStartAndEnd",xf,this),On(this,"adjustNodePosition",fc,this),On(this,"hideAnchors",ba,this),On(this,"allowRotation",gu,this),On(this,"hoverOutline",Ef,this),On(this,"nodeSelectedOutline",As,this),On(this,"edgeSelectedOutline",Do,this),On(this,"nodeTextEdit",pc,this),On(this,"edgeTextEdit",yi,this),On(this,"nodeTextDraggable",Xr,this),On(this,"edgeTextDraggable",Ms,this),On(this,"autoExpand",ks,this),jf(this,"multipleSelectKey",""),jf(this,"defaultConfig",{}),er(this,this.getConfigDetail(r))}var e,n;return e=t,(n=[{key:"updateEditConfig",value:function(r){var a=this.getConfigDetail(r);er(this,a)}},{key:"getConfigDetail",value:function(r){var a=r.isSilentMode,i=r.textEdit,c={};if(a===!1&&er(c,this.defaultConfig),a===!0&&a!==this.isSilentMode){var h=Vo(dc,Wo);this.defaultConfig={stopZoomGraph:this.stopZoomGraph,stopScrollGraph:this.stopScrollGraph,stopMoveGraph:this.stopMoveGraph,adjustEdge:this.adjustEdge,adjustEdgeMiddle:this.adjustEdgeMiddle,adjustEdgeStartAndEnd:this.adjustEdgeStartAndEnd,adjustNodePosition:this.adjustNodePosition,hideAnchors:this.hideAnchors,allowRotation:this.allowRotation,hoverOutline:this.hoverOutline,nodeSelectedOutline:this.nodeSelectedOutline,edgeSelectedOutline:this.edgeSelectedOutline,nodeTextEdit:this.nodeTextEdit,edgeTextEdit:this.edgeTextEdit,nodeTextDraggable:this.nodeTextDraggable,edgeTextDraggable:this.edgeTextDraggable,autoExpand:this.autoExpand},er(c,h)}i===!1&&er(c,{nodeTextEdit:!1,edgeTextEdit:!1});var g=Vo(r,Wo);return er(c,g)}},{key:"getConfig",value:function(){return Vo(this,Wo)}}])&&Sf(e.prototype,n),t}()).prototype,"isSilentMode",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),hi=Rn(dn.prototype,"stopZoomGraph",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),eo=Rn(dn.prototype,"stopScrollGraph",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),js=Rn(dn.prototype,"stopMoveGraph",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ps=Rn(dn.prototype,"adjustEdge",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),wf=Rn(dn.prototype,"adjustEdgeMiddle",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),xf=Rn(dn.prototype,"adjustEdgeStartAndEnd",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),fc=Rn(dn.prototype,"adjustNodePosition",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ba=Rn(dn.prototype,"hideAnchors",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),gu=Rn(dn.prototype,"allowRotation",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ef=Rn(dn.prototype,"hoverOutline",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),As=Rn(dn.prototype,"nodeSelectedOutline",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Do=Rn(dn.prototype,"edgeSelectedOutline",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),pc=Rn(dn.prototype,"nodeTextEdit",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),yi=Rn(dn.prototype,"edgeTextEdit",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Xr=Rn(dn.prototype,"nodeTextDraggable",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ms=Rn(dn.prototype,"edgeTextDraggable",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ks=Rn(dn.prototype,"autoExpand",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Rn(dn.prototype,"updateEditConfig",[d.k],Object.getOwnPropertyDescriptor(dn.prototype,"updateEditConfig"),dn.prototype),dn);o(65),o(66),function(t){t[t.DEFAULT=1]="DEFAULT",t[t.TEXT_EDIT=2]="TEXT_EDIT",t[t.SHOW_MENU=3]="SHOW_MENU",t[t.ALLOW_CONNECT=4]="ALLOW_CONNECT",t[t.NOT_ALLOW_CONNECT=5]="NOT_ALLOW_CONNECT"}(un||(un={})),function(t){t.KEY="logic-flow",t.NODE_NAME="lf-node",t.EDGE_NAME="lf-edge"}(or||(or={})),function(t){t.NODE="node",t.CIRCLE_NODE="circle-node",t.POLYGON_NODE="polygon-node",t.RECT_NODE="rect-node",t.TEXT_NODE="text-node",t.ELLIPSE_NODE="ellipse-node",t.DIAMOND_NODE="diamond-node",t.HTML_NODE="html-node",t.EDGE="edge",t.LINE_EDGE="line-edge",t.POLYLINE_EDGE="polyline-edge",t.BEZIER_EDGE="bezier-edge",t.GRAPH="graph"}(Yt||(Yt={})),function(t){t.NODE="node",t.EDGE="edge",t.GRAPH="graph"}(Gn||(Gn={})),function(t){t.ELEMENT_CLICK="element:click",t.NODE_CLICK="node:click",t.NODE_DBCLICK="node:dbclick",t.NODE_DELETE="node:delete",t.NODE_ADD="node:add",t.NODE_GROUP_COPY="node:group-copy-add",t.NODE_DND_ADD="node:dnd-add",t.NODE_DND_DRAG="node:dnd-drag",t.NODE_MOUSEDOWN="node:mousedown",t.NODE_DRAGSTART="node:dragstart",t.NODE_DRAG="node:drag",t.NODE_DROP="node:drop",t.NODE_MOUSEUP="node:mouseup",t.NODE_MOUSEMOVE="node:mousemove",t.NODE_MOUSEENTER="node:mouseenter",t.NODE_MOUSELEAVE="node:mouseleave",t.NODE_CONTEXTMENU="node:contextmenu",t.NODE_ROTATE="node:rotate",t.EDGE_DELETE="edge:delete",t.EDGE_ADD="edge:add",t.EDGE_CLICK="edge:click",t.EDGE_DBCLICK="edge:dbclick",t.EDGE_MOUSEENTER="edge:mouseenter",t.EDGE_MOUSELEAVE="edge:mouseleave",t.EDGE_CONTEXTMENU="edge:contextmenu",t.EDGE_ADJUST="edge:adjust",t.EDGE_EXCHANGE_NODE="edge:exchange-node",t.ANCHOR_DRAGSTART="anchor:dragstart",t.ANCHOR_DRAG="anchor:drag",t.ANCHOR_DROP="anchor:drop",t.ANCHOR_DRAGEND="anchor:dragend",t.ADJUST_POINT_MOUSEDOWN="adjustPoint:mousedown",t.ADJUST_POINT_MOUSEUP="adjustPoint:mouseup",t.ADJUST_POINT_MOUSEMOVE="adjustPoint:mousemove",t.ADJUST_POINT_DRAGSTART="adjustPoint:dragstart",t.ADJUST_POINT_DRAG="adjustPoint:drag",t.ADJUST_POINT_DROP="adjustPoint:drop",t.ADJUST_POINT_DRAGEND="adjustPoint:dragend",t.BLANK_MOUSEDOWN="blank:mousedown",t.BLANK_DRAGSTART="blank:dragstart",t.BLANK_DRAG="blank:drag",t.BLANK_DROP="blank:drop",t.BLANK_MOUSEMOVE="blank:mousemove",t.BLANK_MOUSEUP="blank:mouseup",t.BLANK_CLICK="blank:click",t.BLANK_CONTEXTMENU="blank:contextmenu",t.SELECTION_MOUSEDOWN="selection:mousedown",t.SELECTION_DRAGSTART="selection:dragstart",t.SELECTION_DRAG="selection:drag",t.SELECTION_DROP="selection:drop",t.SELECTION_MOUSEMOVE="selection:mousemove",t.SELECTION_MOUSEUP="selection:mouseup",t.SELECTION_CONTEXTMENU="selection:contextmenu",t.CONNECTION_NOT_ALLOWED="connection:not-allowed",t.HISTORY_CHANGE="history:change",t.TEXT_UPDATE="text:update",t.GRAPH_TRANSFORM="graph:transform",t.GRAPH_RENDERED="graph:rendered"}(ft||(ft={})),function(t){t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(vn||(vn={}));var Pn,Tn,Pf,Af,hc,_a,Ds,Oa,yc;function wa(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(S){x=!0,c=S}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Ns(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Ns(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ns(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ko(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function $d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function to(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,h){return h(t,e,c)||c},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}(function(t){t[t.DEFAULT=0]="DEFAULT",t[t.INCREASE=1]="INCREASE"})(Pn||(Pn={}));var Mf={false:[-1/0,-1/0,1/0,1/0],true:[0,0,0,0],vertical:[-1/0,0,1/0,0],horizontal:[0,-1/0,0,1/0]},kf=(Tn=function(){function t(r,a){(function(h,g){if(!(h instanceof g))throw new TypeError("Cannot call a class as a function")})(this,t),$o(this,"MINI_SCALE_SIZE",.2),$o(this,"MAX_SCALE_SIZE",16),Ko(this,"SCALE_X",Pf,this),Ko(this,"SKEW_Y",Af,this),Ko(this,"SKEW_X",hc,this),Ko(this,"SCALE_Y",_a,this),Ko(this,"TRANSLATE_X",Ds,this),Ko(this,"TRANSLATE_Y",Oa,this),Ko(this,"ZOOM_SIZE",yc,this),$o(this,"eventCenter",void 0),$o(this,"translateLimitMinX",void 0),$o(this,"translateLimitMinY",void 0),$o(this,"translateLimitMaxX",void 0),$o(this,"translateLimitMaxY",void 0),this.eventCenter=r;var i=a.stopMoveGraph,c=i!==void 0&&i;this.updateTranslateLimits(c)}var e,n;return e=t,n=[{key:"setZoomMiniSize",value:function(r){this.MINI_SCALE_SIZE=r}},{key:"setZoomMaxSize",value:function(r){this.MAX_SCALE_SIZE=r}},{key:"HtmlPointToCanvasPoint",value:function(r){var a=wa(r,2),i=a[0],c=a[1];return[(i-this.TRANSLATE_X)/this.SCALE_X,(c-this.TRANSLATE_Y)/this.SCALE_Y]}},{key:"CanvasPointToHtmlPoint",value:function(r){var a=wa(r,2),i=a[0],c=a[1];return[i*this.SCALE_X+this.TRANSLATE_X,c*this.SCALE_Y+this.TRANSLATE_Y]}},{key:"moveCanvasPointByHtml",value:function(r,a,i){var c=wa(r,2),h=c[0],g=c[1];return[h+a/this.SCALE_X,g+i/this.SCALE_Y]}},{key:"fixDeltaXY",value:function(r,a){return[r/this.SCALE_X,a/this.SCALE_Y]}},{key:"getTransformStyle",value:function(){var r=[this.SCALE_X,this.SKEW_Y,this.SKEW_X,this.SCALE_Y,this.TRANSLATE_X,this.TRANSLATE_Y].join(",");return{transform:"matrix(".concat(r,")")}}},{key:"zoom",value:function(){var r=arguments.length>0&&arguments[0]!==void 0&&arguments[0],a=arguments.length>1?arguments[1]:void 0,i=this.SCALE_X,c=this.SCALE_Y;return r===!0?(i+=this.ZOOM_SIZE,c+=this.ZOOM_SIZE):r===!1?(i-=this.ZOOM_SIZE,c-=this.ZOOM_SIZE):typeof r=="number"&&(i=r,c=r),i<this.MINI_SCALE_SIZE||i>this.MAX_SCALE_SIZE||(a&&(this.TRANSLATE_X-=(i-this.SCALE_X)*a[0],this.TRANSLATE_Y-=(c-this.SCALE_Y)*a[1]),this.SCALE_X=i,this.SCALE_Y=c,this.emitGraphTransform("zoom")),"".concat(100*this.SCALE_X,"%")}},{key:"emitGraphTransform",value:function(r){this.eventCenter.emit(ft.GRAPH_TRANSFORM,{type:r,transform:{SCALE_X:this.SCALE_X,SKEW_Y:this.SKEW_Y,SKEW_X:this.SKEW_X,SCALE_Y:this.SCALE_Y,TRANSLATE_X:this.TRANSLATE_X,TRANSLATE_Y:this.TRANSLATE_Y}})}},{key:"resetZoom",value:function(){this.SCALE_X=1,this.SCALE_Y=1,this.emitGraphTransform("resetZoom")}},{key:"translate",value:function(r,a){this.TRANSLATE_X+r<=this.translateLimitMaxX&&this.TRANSLATE_X+r>=this.translateLimitMinX&&(this.TRANSLATE_X+=r),this.TRANSLATE_Y+a<=this.translateLimitMaxY&&this.TRANSLATE_Y+a>=this.translateLimitMinY&&(this.TRANSLATE_Y+=a),this.emitGraphTransform("translate")}},{key:"focusOn",value:function(r,a,i,c){var h=wa(this.CanvasPointToHtmlPoint([r,a]),2),g=i/2-h[0],x=c/2-h[1];this.TRANSLATE_X+=g,this.TRANSLATE_Y+=x,this.emitGraphTransform("focusOn")}},{key:"updateTranslateLimits",value:function(r){var a=wa(Array.isArray(r)&&r.length===4?r:Mf[r.toString()],4);this.translateLimitMinX=a[0],this.translateLimitMinY=a[1],this.translateLimitMaxX=a[2],this.translateLimitMaxY=a[3]}}],n&&$d(e.prototype,n),t}(),Pf=to(Tn.prototype,"SCALE_X",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Af=to(Tn.prototype,"SKEW_Y",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),hc=to(Tn.prototype,"SKEW_X",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_a=to(Tn.prototype,"SCALE_Y",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Ds=to(Tn.prototype,"TRANSLATE_X",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Oa=to(Tn.prototype,"TRANSLATE_Y",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),yc=to(Tn.prototype,"ZOOM_SIZE",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return .04}}),to(Tn.prototype,"zoom",[d.k],Object.getOwnPropertyDescriptor(Tn.prototype,"zoom"),Tn.prototype),to(Tn.prototype,"resetZoom",[d.k],Object.getOwnPropertyDescriptor(Tn.prototype,"resetZoom"),Tn.prototype),to(Tn.prototype,"translate",[d.k],Object.getOwnPropertyDescriptor(Tn.prototype,"translate"),Tn.prototype),to(Tn.prototype,"focusOn",[d.k],Object.getOwnPropertyDescriptor(Tn.prototype,"focusOn"),Tn.prototype),Tn),vc=function(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t},Tf=function(t,e){return t&&ko(e,pi(e),t)},Df=function(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e},Nf=Object.prototype.hasOwnProperty,Cs=function(t){if(!Sn(t))return Df(t);var e=Po(t),n=[];for(var r in t)(r!="constructor"||!e&&Nf.call(t,r))&&n.push(r);return n},xa=function(t){return Un(t)?jn(t,!0):Cs(t)},Rs=function(t,e){return t&&ko(e,xa(e),t)},gc=o(107),Vt=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e},Zd=function(t,e){return ko(t,_r(t),e)},Is=Fr(Object.getPrototypeOf,Object),Ea=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)ao(e,_r(t)),t=Is(t);return e}:nc,Cf=function(t,e){return ko(t,Ea(t),e)},qd=function(t){return tc(t,xa,Ea)},Jd=Object.prototype.hasOwnProperty,no=function(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&Jd.call(t,"index")&&(n.index=t.index,n.input=t.input),n},Ls=function(t){var e=new t.constructor(t.byteLength);return new rr(e).set(new rr(t)),e},mc=function(t,e){var n=e?Ls(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)},zs=/\w*$/,Rf=function(t){var e=new t.constructor(t.source,zs.exec(t));return e.lastIndex=t.lastIndex,e},Bs=Ut?Ut.prototype:void 0,Dr=Bs?Bs.valueOf:void 0,vi=function(t){return Dr?Object(Dr.call(t)):{}},bc=function(t,e){var n=e?Ls(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)},If=function(t,e,n){var r=t.constructor;switch(e){case"[object ArrayBuffer]":return Ls(t);case"[object Boolean]":case"[object Date]":return new r(+t);case"[object DataView]":return mc(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return bc(t,n);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(t);case"[object RegExp]":return Rf(t);case"[object Symbol]":return vi(t)}},mu=Object.create,Lf=function(){function t(){}return function(e){if(!Sn(e))return{};if(mu)return mu(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),_c=function(t){return typeof t.constructor!="function"||Po(t)?{}:Lf(Is(t))},zf=function(t){return en(t)&&_(t)=="[object Map]"},Oc=Jn.a&&Jn.a.isMap,Fs=Oc?co(Oc):zf,gi=function(t){return en(t)&&_(t)=="[object Set]"},Bf=Jn.a&&Jn.a.isSet,mi=Bf?co(Bf):gi,Us="[object Arguments]",Gs="[object Function]",Xs="[object Object]",gn={};gn[Us]=gn["[object Array]"]=gn["[object ArrayBuffer]"]=gn["[object DataView]"]=gn["[object Boolean]"]=gn["[object Date]"]=gn["[object Float32Array]"]=gn["[object Float64Array]"]=gn["[object Int8Array]"]=gn["[object Int16Array]"]=gn["[object Int32Array]"]=gn["[object Map]"]=gn["[object Number]"]=gn["[object Object]"]=gn["[object RegExp]"]=gn["[object Set]"]=gn["[object String]"]=gn["[object Symbol]"]=gn["[object Uint8Array]"]=gn["[object Uint8ClampedArray]"]=gn["[object Uint16Array]"]=gn["[object Uint32Array]"]=!0,gn["[object Error]"]=gn[Gs]=gn["[object WeakMap]"]=!1;var Ff=function t(e,n,r,a,i,c){var h,g=1&n,x=2&n,S=4&n;if(r&&(h=i?r(e,a,i,c):r(e)),h!==void 0)return h;if(!Sn(e))return e;var D=hn(e);if(D){if(h=no(e),!g)return Vt(e,h)}else{var R=_(e),H=R==Gs||R=="[object GeneratorFunction]";if(Object(So.a)(e))return Object(gc.a)(e,g);if(R==Xs||R==Us||H&&!i){if(h=x||H?{}:_c(e),!g)return x?Cf(e,Rs(h,e)):Zd(e,Tf(h,e))}else{if(!gn[R])return i?e:{};h=If(e,R,g)}}c||(c=new Eo);var J=c.get(e);if(J)return J;c.set(e,h),mi(e)?e.forEach(function(ye){h.add(t(ye,n,r,ye,e,c))}):Fs(e)&&e.forEach(function(ye,ge){h.set(ge,t(ye,n,r,ge,e,c))});var re=D?void 0:(S?x?qd:so:x?xa:pi)(e);return vc(re||e,function(ye,ge){re&&(ye=e[ge=ye]),ya(h,ge,t(ye,n,r,ge,e,c))}),h},wn=function(t){return Ff(t,5)},wc=function(t,e,n){(n!==void 0&&!rn(t[e],n)||n===void 0&&!(e in t))&&cc(t,e,n)},Nr=function(t){return en(t)&&Un(t)},No=Function.prototype,xc=Object.prototype,Fi=No.toString,Uf=xc.hasOwnProperty,Gf=Fi.call(Object),Xf=function(t){if(!en(t)||sn(t)!="[object Object]")return!1;var e=Is(t);if(e===null)return!0;var n=Uf.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&Fi.call(n)==Gf},bi=function(t,e){if((e!=="constructor"||typeof t[e]!="function")&&e!="__proto__")return t[e]},bu=function(t){return ko(t,xa(t))},Hf=function(t,e,n,r,a,i,c){var h=bi(t,n),g=bi(e,n),x=c.get(g);if(x)wc(t,n,x);else{var S=i?i(h,g,n+"",t,e,c):void 0,D=S===void 0;if(D){var R=hn(g),H=!R&&Object(So.a)(g),J=!R&&!H&&Ri(g);S=g,R||H||J?hn(h)?S=h:Nr(h)?S=Vt(h):H?(D=!1,S=Object(gc.a)(g,!0)):J?(D=!1,S=bc(g,!0)):S=[]:Xf(g)||uo(g)?(S=h,uo(h)?S=bu(h):Sn(h)&&!io(h)||(S=_c(g))):D=!1}D&&(c.set(g,S),a(S,g,r,i,c),c.delete(g)),wc(t,n,S)}},Yf=function t(e,n,r,a,i){e!==n&&mf(n,function(c,h){if(i||(i=new Eo),Sn(c))Hf(e,n,h,r,t,a,i);else{var g=a?a(bi(e,h),c,h+"",e,n,i):void 0;g===void 0&&(g=c),wc(e,h,g)}},xa)},_u=_f(function(t,e,n){Yf(t,e,n)}),Vf={baseNode:{fill:"#FFFFFF",stroke:"#000000",strokeWidth:2},baseEdge:{stroke:"#000000",strokeWidth:2},rect:{},circle:{},diamond:{},ellipse:{},polygon:{},text:{color:"#000000",stroke:"none",fontSize:12,background:{fill:"transparent"}},anchor:{stroke:"#000000",fill:"#FFFFFF",r:4,hover:{fill:"#949494",fillOpacity:.5,stroke:"#949494",r:10}},nodeText:{color:"#000000",overflowMode:"default",lineHeight:1.2,fontSize:12},edgeText:{textWidth:100,overflowMode:"default",fontSize:12,background:{fill:"#FFFFFF"}},line:{},polyline:{},bezier:{fill:"none",adjustLine:{stroke:"#949494"},adjustAnchor:{r:4,fill:"#949494",stroke:"#949494",fillOpacity:1}},arrow:{offset:10,verticalLength:5},anchorLine:{stroke:"#000000",strokeWidth:2,strokeDasharray:"3,2"},snapline:{stroke:"#949494",strokeWidth:1},edgeAdjust:{r:4,fill:"#FFFFFF",stroke:"#949494",strokeWidth:2},outline:{fill:"transparent",stroke:"#949494",strokeDasharray:"3,3",hover:{stroke:"#949494"}},edgeAnimation:{stroke:"red",strokeDasharray:"10 10",strokeDashoffset:"100%",animationName:"lf_animate_dash",animationDuration:"20s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"normal"},rotateControl:{stroke:"#000",fill:"#fff",strokeWidth:1.5}},Ou=function(t){var e=wn(Vf);return t&&(e=_u(e,t)),e};o(82),o(166);function Hs(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Ec=function(){function t(){var r,a,i;(function(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")})(this,t),i={},(a="_events")in(r=this)?Object.defineProperty(r,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[a]=i}var e,n;return e=t,(n=[{key:"on",value:function(r,a,i){var c=this;return r==null||r.split(",").forEach(function(h){h=h.trim(),c._events[h]||(c._events[h]=[]),c._events[h].push({callback:a,once:!!i})}),this}},{key:"once",value:function(r,a){var i=this;r==null||r.split(",").forEach(function(c){return c=c.trim(),i.on(c,a,!0)})}},{key:"emit",value:function(r,a){var i=this;r==null||r.split(",").forEach(function(c){var h=i._events[c]||[],g=i._events["*"]||[],x=function(S){for(var D=S.length,R=0;R<D;R++)if(S[R]){var H=S[R],J=H.callback;H.once&&(S.splice(R,1),S.length===0&&delete i._events[c],D--,R--),J.apply(i,[a])}};x(h),x(g)})}},{key:"off",value:function(r,a){var i=this;return r||(this._events={}),r.split(",").forEach(function(c){if(a){for(var h=i._events[c]||[],g=h.length,x=0;x<g;x++)h[x].callback===a&&(h.splice(x,1),g--,x--);h.length===0&&delete i._events[c]}else delete i._events[c]}),this}},{key:"getEvents",value:function(){return this._events}}])&&Hs(e.prototype,n),t}();function Co(t,e){return e*Math.round(t/e)||t}function Sa(t,e){return t%e}function Sc(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(S){x=!0,c=S}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||function(n,r){if(n){if(typeof n=="string")return jc(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return jc(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function jc(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ys,Pc=function(t,e,n){var r=Sc(t,2),a=r[0],i=r[1],c=Sc(e,2),h=c[0],g=c[1],x=Sc(n,2),S=x[0],D=x[1];return a>h&&a<S&&i>g&&i<D},Ro=function(t,e){var n=!1;switch(e.multipleSelectKey){case"meta":n=t.metaKey;break;case"alt":n=t.altKey;break;case"shift":n=t.shiftKey;break;case"ctrl":n=t.ctrlKey;break;default:n=!1}return n},Wf=(o(167),o(126),o(83),o(29),o(12),o(13),o(14),o(47),new Uint8Array(16));function Kf(){if(!Ys&&!(Ys=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ys(Wf)}for(var Qd=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,$f=function(t){return typeof t=="string"&&Qd.test(t)},xn=[],wu=0;wu<256;++wu)xn.push((wu+256).toString(16).substr(1));var Vs=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(xn[t[e+0]]+xn[t[e+1]]+xn[t[e+2]]+xn[t[e+3]]+"-"+xn[t[e+4]]+xn[t[e+5]]+"-"+xn[t[e+6]]+xn[t[e+7]]+"-"+xn[t[e+8]]+xn[t[e+9]]+"-"+xn[t[e+10]]+xn[t[e+11]]+xn[t[e+12]]+xn[t[e+13]]+xn[t[e+14]]+xn[t[e+15]]).toLowerCase();if(!$f(n))throw TypeError("Stringified UUID is invalid");return n},xu=function(t,e,n){var r=(t=t||{}).random||(t.rng||Kf)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(var a=0;a<16;++a)e[n+a]=r[a];return e}return Vs(r)},po=function(){return xu()},ja=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=t.nodes.reduce(function(r,a){return r[a.id]=e+xu(),a.id=r[a.id],r},{});return t.edges.forEach(function(r){r.id=e+xu(),r.sourceNodeId=n[r.sourceNodeId],r.targetNodeId=n[r.targetNodeId]}),t},wt=(o(105),o(127),o(207),function(t,e,n){var r=t.x,a=t.y,i=e.x,c=e.y,h=n.x,g=n.y,x=(g-c)/(h-i),S=c-x*i;return r>=i&&r<=h&&a>=c&&a<=g&&Math.abs(a-x*r+S)<Number.EPSILON});function Pa(t){return Pa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pa(t)}function Ac(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function _i(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ac(Object(n),!0).forEach(function(r){Ws(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ac(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ws(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ke,ur,Ks,$s,Zf,Io,yr,Mc,kc,qf,Aa,Zs,qs,Js,Qs,Jf,Tc,el,Ma,Dc,tl,Nc=function(t){return t.anchors},Ui=function(t,e){for(var n,r=e.nodes,a=r.length-1;a>=0;a--){var i=r[a];if(ep(t,i)){var c=i.getTargetAnchor(t);if(c){var h={node:i,anchorIndex:c.index,anchor:c.anchor};n&&!Qf(i,n.node,e)||(n=h)}}}return n},Qf=function(t,e,n){return t.zIndex>e.zIndex||n.nodesMap[t.id].index>n.nodesMap[e.id].index},Wn=function(t,e,n,r){return Math.hypot(t-n,e-r)},Cr=function(t,e){var n=!1,r=Hr(e);return t.x>=r.minX-0&&t.x<=r.maxX+0&&t.y>=r.minY-0&&t.y<=r.maxY+0&&(n=!0),n},ep=function(t,e){var n=!1,r=Hr(e);return t.x>=r.minX-5&&t.x<=r.maxX+5&&t.y>=r.minY-5&&t.y<=r.maxY+5&&(n=!0),n},Hr=function(t){var e=t.x,n=t.y,r=t.width,a=t.height;return{minX:e-r/2,minY:n-a/2,maxX:e+r/2,maxY:n+a/2,x:e,y:n,width:r,height:a,centerX:e,centerY:n}},tp=function(t,e,n){var r,a=function(c){var h=c,g=h.x,x=h.y,S=h.width,D=h.height,R=h.radius;return[{x:g-S/2+R,y:x-D/2+R,r:R},{x:g+S/2-R,y:x-D/2+R,r:R},{x:g-S/2+R,y:x+D/2-R,r:R},{x:g+S/2-R,y:x+D/2-R,r:R}]}(n),i=Number.MAX_SAFE_INTEGER;return a.forEach(function(c){var h=Wn(t.x,t.y,c.x,c.y);h<i&&(i=h,r=c)}),nl(t,e,r)},nl=function(t,e,n){var r,a=n,i=a.x,c=a.y,h=a.r;if(e===vn.HORIZONTAL){var g=i-Math.sqrt(h*h-(t.y-c)*(t.y-c)),x=i+Math.sqrt(h*h-(t.y-c)*(t.y-c));r={x:Math.abs(g-t.x)<Math.abs(x-t.x)?g:x,y:t.y}}else if(e===vn.VERTICAL){var S=c-Math.sqrt(h*h-(t.x-i)*(t.x-i)),D=c+Math.sqrt(h*h-(t.x-i)*(t.x-i)),R=Math.abs(S-t.y)<Math.abs(D-t.y)?S:D;r={x:t.x,y:R}}return r},rl=function(t,e){var n=e,r=!1,a=n.x-n.width/2+n.radius,i=n.x+n.width/2-n.radius,c=n.y-n.height/2+n.radius,h=n.y+n.height/2-n.radius,g=n.x,x=n.y,S=n.width,D=n.height;return t.y===x+D/2||t.y===x-D/2?r=t.x>a&&t.x<i:t.x!==g+S/2&&t.x!==g-S/2||(r=t.y>c&&t.y<h),r},ol=function(t,e,n){var r,a=n,i=a.x,c=a.y,h=a.rx,g=a.ry;if(e===vn.HORIZONTAL){var x=i-Math.sqrt(h*h-(t.y-c)*(t.y-c)*h*h/(g*g)),S=i+Math.sqrt(h*h-(t.y-c)*(t.y-c)*h*h/(g*g));r={x:Math.abs(x-t.x)<Math.abs(S-t.x)?x:S,y:t.y}}else if(e===vn.VERTICAL){var D=c-Math.sqrt(g*g-(t.x-i)*(t.x-i)*g*g/(h*h)),R=c+Math.sqrt(g*g-(t.x-i)*(t.x-i)*g*g/(h*h)),H=Math.abs(D-t.y)<Math.abs(R-t.y)?D:R;r={x:t.x,y:H}}return r},il=function(t,e,n){for(var r,a=n.pointsPosition,i=Number.MAX_SAFE_INTEGER,c=[],h=0;h<a.length;h++)c.push({start:a[h],end:a[(h+1)%a.length]});return c.forEach(function(g){var x=g.start,S=g.end,D=x,R=S;x.x>S.x&&(D=S,R=x);var H={x:t.x,y:t.y};if(D.x===R.x&&e===vn.HORIZONTAL&&(H={x:D.x,y:t.y}),D.y===R.y&&e===vn.VERTICAL&&(H={x:t.x,y:D.y}),D.x!==R.x&&D.y!==R.y){var J=(R.y-D.y)/(R.x-D.x),re=(D.x*R.y-R.x*D.y)/(D.x-R.x);e===vn.HORIZONTAL?H={x:(t.y-re)/J,y:t.y}:e===vn.VERTICAL&&(H={x:t.x,y:J*t.x+re})}if(wt(H,x,S)){var ye=Wn(H.x,H.y,t.x,t.y);ye<i&&(i=ye,r=H)}}),r},al=function(t,e,n,r){var a=t.x,i=t.y;return e.x>t.x?a=t.x+n/2:e.x<t.x&&(a=t.x-n/2),e.y>t.y?i=t.y+r/2:e.y<t.y&&(i=t.y-r/2),{x:a,y:i}},np=function(t){var e=t.rows,n=t.style,r=t.rowsLength,a=t.className,i=document.createElement("div");i.style.fontSize=n.fontSize,i.style.width=n.width,i.className=a,i.style.lineHeight=n.lineHeight,i.style.padding=n.padding,n.fontFamily&&(i.style.fontFamily=n.fontFamily),r>1?e.forEach(function(h){var g=document.createElement("div");g.textContent=h,i.appendChild(g)}):i.textContent=e,document.body.appendChild(i);var c=i.clientHeight;return document.body.removeChild(i),c},ul=function(t){var e=t.rows,n=t.rowsLength,r=t.fontSize,a=0;return e&&e.forEach(function(i){var c=kl(i);a=c>a?c:a}),{width:Math.ceil(a/2)*r+r/4,height:n*(r+2)+r/4}},Eu=function(t){return Pa(t)!=="object"?{isAllPass:!!t,msg:t?"":"不允许连接"}:t},mn=function(t){try{return JSON.parse(JSON.stringify(t))}catch(e){return t}},eh=1e3,rp=999,cl=function(){return++eh};function Cc(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Rr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Cc(Object(n),!0).forEach(function(r){Ir(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Cc(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kn(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function th(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ir(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function St(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,h){return h(t,e,c)||c},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}var sl=(ke=function(){function t(r,a){(function(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,t),Ir(this,"id",""),Kn(this,"type",ur,this),Kn(this,"sourceNodeId",Ks,this),Kn(this,"targetNodeId",$s,this),Kn(this,"startPoint",Zf,this),Kn(this,"endPoint",Io,this),Kn(this,"text",yr,this),Kn(this,"properties",Mc,this),Kn(this,"points",kc,this),Kn(this,"pointsList",qf,this),Kn(this,"isSelected",Aa,this),Kn(this,"isHovered",Zs,this),Kn(this,"isHitable",qs,this),Kn(this,"draggable",Js,this),Kn(this,"visible",Qs,this),Ir(this,"virtual",!1),Kn(this,"isAnimation",Jf,this),Kn(this,"isShowAdjustPoint",Tc,this),Ir(this,"graphModel",void 0),Kn(this,"zIndex",el,this),Ir(this,"BaseType",Gn.EDGE),Ir(this,"modelType",Yt.EDGE),Kn(this,"state",Ma,this),Ir(this,"additionStateData",void 0),Ir(this,"sourceAnchorId",""),Ir(this,"targetAnchorId",""),Ir(this,"menu",void 0),Ir(this,"customTextPosition",!1),Kn(this,"style",Dc,this),Kn(this,"arrowConfig",tl,this),this.graphModel=a,this.initEdgeData(r),this.setAttributes()}var e,n;return e=t,n=[{key:"initEdgeData",value:function(r){if(r.properties||(r.properties={}),!r.id){var a=this.graphModel.idGenerator,i=a&&a(r.type),c=this.createId();r.id=c||i||po()}this.arrowConfig.markerEnd="url(#marker-end-".concat(r.id,")"),this.arrowConfig.markerStart="url(#marker-start-".concat(r.id,")");var h=this.graphModel.editConfigModel.adjustEdgeStartAndEnd;this.isShowAdjustPoint=h,er(this,bp(r)),this.graphModel.overlapMode===Pn.INCREASE&&(this.zIndex=r.zIndex||cl()),this.setAnchors(),this.initPoints(),this.formatText(r)}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"getEdgeStyle",value:function(){return Rr(Rr({},this.graphModel.theme.baseEdge),this.style)}},{key:"getAdjustPointStyle",value:function(){return Rr({},this.graphModel.theme.edgeAdjust)}},{key:"getTextStyle",value:function(){var r=this.graphModel.theme.edgeText;return wn(r)}},{key:"getEdgeAnimationStyle",value:function(){var r=this.graphModel.theme.edgeAnimation;return wn(r)}},{key:"getArrowStyle",value:function(){var r=this.getEdgeStyle(),a=this.getEdgeAnimationStyle(),i=this.graphModel.theme.arrow,c=this.isAnimation?a.stroke:r.stroke;return Rr(Rr({},r),{},{fill:c,stroke:c},i)}},{key:"getOutlineStyle",value:function(){var r=this.graphModel.theme.outline;return wn(r)}},{key:"getTextPosition",value:function(){return{x:0,y:0}}},{key:"sourceNode",get:function(){var r,a;return(r=this.graphModel)===null||r===void 0||(a=r.nodesMap[this.sourceNodeId])===null||a===void 0?void 0:a.model}},{key:"targetNode",get:function(){var r,a;return(r=this.graphModel)===null||r===void 0||(a=r.nodesMap[this.targetNodeId])===null||a===void 0?void 0:a.model}},{key:"textPosition",get:function(){return this.getTextPosition()}},{key:"getBeginAnchor",value:function(r,a){var i,c;return Nc(r).forEach(function(h){var g=Nl(h,a);(c===void 0||g<c)&&(c=g,i=h)}),i}},{key:"getEndAnchor",value:function(r){var a,i,c=this;return Nc(r).forEach(function(h){var g=Nl(h,c.startPoint);(i===void 0||g<i)&&(i=g,a=h)}),a}},{key:"getProperties",value:function(){return Object(d.I)(this.properties)}},{key:"getData",value:function(){var r=this.text,a=r.x,i=r.y,c=r.value,h={id:this.id,type:this.type,sourceNodeId:this.sourceNode.id,targetNodeId:this.targetNode.id,startPoint:Object.assign({},this.startPoint),endPoint:Object.assign({},this.endPoint),properties:Object(d.I)(this.properties)};return c&&(h.text={x:a,y:i,value:c}),this.graphModel.overlapMode===Pn.INCREASE&&(h.zIndex=this.zIndex),h}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"setProperty",value:function(r,a){this.properties[r]=mn(a),this.setAttributes()}},{key:"deleteProperty",value:function(r){delete this.properties[r],this.setAttributes()}},{key:"setProperties",value:function(r){this.properties=Rr(Rr({},Object(d.I)(this.properties)),mn(r)),this.setAttributes()}},{key:"changeEdgeId",value:function(r){var a=this.arrowConfig,i=a.markerEnd,c=a.markerStart;c&&c==="url(#marker-start-".concat(this.id,")")&&(this.arrowConfig.markerStart="url(#marker-start-".concat(r,")")),i&&i==="url(#marker-end-".concat(this.id,")")&&(this.arrowConfig.markerEnd="url(#marker-end-".concat(r,")")),this.id=r}},{key:"setStyle",value:function(r,a){this.style=Rr(Rr({},this.style),{},Ir({},r,mn(a)))}},{key:"setStyles",value:function(r){this.style=Rr(Rr({},this.style),mn(r))}},{key:"updateStyles",value:function(r){this.style=Rr({},mn(r))}},{key:"formatText",value:function(r){var a=this.textPosition,i=a.x,c=a.y;r.text&&typeof r.text!="string"?Object.prototype.toString.call(r.text)==="[object Object]"&&(this.text={x:r.text.x||i,y:r.text.y||c,value:r.text.value||"",draggable:this.text.draggable,editable:this.text.editable}):this.text={value:r.text||"",x:i,y:c,draggable:this.text.draggable,editable:this.text.editable}}},{key:"resetTextPosition",value:function(){var r=this.textPosition,a=r.x,i=r.y;this.text.x=a,this.text.y=i}},{key:"moveText",value:function(r,a){if(this.text){var i=this.text,c=i.x,h=i.y,g=i.value,x=i.draggable,S=i.editable;this.text={value:g,draggable:x,x:c+r,y:h+a,editable:S}}}},{key:"setText",value:function(r){r&&er(this.text,r)}},{key:"updateText",value:function(r){this.text=Rr(Rr({},Object(d.I)(this.text)),{},{value:r})}},{key:"setAnchors",value:function(){if(!this.sourceAnchorId||!this.startPoint){var r=this.getBeginAnchor(this.sourceNode,this.targetNode);if(!(r||this.startPoint&&this.sourceAnchorId))throw new Error("无法获取beginAnchor，请检查anchors相关逻辑，anchors不能为空");this.startPoint||(this.startPoint={x:r.x,y:r.y}),this.sourceAnchorId||(this.sourceAnchorId=r.id)}if(!this.targetAnchorId||!this.endPoint){var a=this.getEndAnchor(this.targetNode);if(!(a||this.endPoint&&this.targetAnchorId))throw new Error("无法获取endAnchor，请检查anchors相关逻辑，anchors不能为空");this.endPoint||(this.endPoint={x:a.x,y:a.y}),this.targetAnchorId||(this.targetAnchorId=a.id)}}},{key:"setSelected",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isSelected=r}},{key:"setHovered",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHovered=r}},{key:"setHitable",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHitable=r}},{key:"openEdgeAnimation",value:function(){this.isAnimation=!0}},{key:"closeEdgeAnimation",value:function(){this.isAnimation=!1}},{key:"setElementState",value:function(r,a){this.state=r,this.additionStateData=a}},{key:"updateStartPoint",value:function(r){this.startPoint=r}},{key:"moveStartPoint",value:function(r,a){this.startPoint.x+=r,this.startPoint.y+=a}},{key:"updateEndPoint",value:function(r){this.endPoint=r}},{key:"moveEndPoint",value:function(r,a){this.endPoint.x+=r,this.endPoint.y+=a}},{key:"setZIndex",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.zIndex=r}},{key:"initPoints",value:function(){}},{key:"updateAttributes",value:function(r){er(this,r)}},{key:"getAdjustStart",value:function(){return this.startPoint}},{key:"getAdjustEnd",value:function(){return this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(r){var a=r.startPoint,i=r.endPoint;this.updateStartPoint({x:a.x,y:a.y}),this.updateEndPoint({x:i.x,y:i.y})}}],n&&th(e.prototype,n),t}(),ur=St(ke.prototype,"type",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ks=St(ke.prototype,"sourceNodeId",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),$s=St(ke.prototype,"targetNodeId",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Zf=St(ke.prototype,"startPoint",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Io=St(ke.prototype,"endPoint",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),yr=St(ke.prototype,"text",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),Mc=St(ke.prototype,"properties",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),kc=St(ke.prototype,"points",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),qf=St(ke.prototype,"pointsList",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Aa=St(ke.prototype,"isSelected",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Zs=St(ke.prototype,"isHovered",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),qs=St(ke.prototype,"isHitable",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Js=St(ke.prototype,"draggable",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Qs=St(ke.prototype,"visible",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Jf=St(ke.prototype,"isAnimation",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Tc=St(ke.prototype,"isShowAdjustPoint",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),el=St(ke.prototype,"zIndex",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ma=St(ke.prototype,"state",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Dc=St(ke.prototype,"style",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),tl=St(ke.prototype,"arrowConfig",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{markerEnd:"url(#marker-end-".concat(this.id,")"),markerStart:"url(#marker-start-".concat(this.id,")")}}}),St(ke.prototype,"sourceNode",[d.m],Object.getOwnPropertyDescriptor(ke.prototype,"sourceNode"),ke.prototype),St(ke.prototype,"targetNode",[d.m],Object.getOwnPropertyDescriptor(ke.prototype,"targetNode"),ke.prototype),St(ke.prototype,"textPosition",[d.m],Object.getOwnPropertyDescriptor(ke.prototype,"textPosition"),ke.prototype),St(ke.prototype,"setProperty",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"setProperty"),ke.prototype),St(ke.prototype,"deleteProperty",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"deleteProperty"),ke.prototype),St(ke.prototype,"setProperties",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"setProperties"),ke.prototype),St(ke.prototype,"changeEdgeId",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"changeEdgeId"),ke.prototype),St(ke.prototype,"setStyle",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"setStyle"),ke.prototype),St(ke.prototype,"setStyles",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"setStyles"),ke.prototype),St(ke.prototype,"updateStyles",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"updateStyles"),ke.prototype),St(ke.prototype,"formatText",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"formatText"),ke.prototype),St(ke.prototype,"resetTextPosition",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"resetTextPosition"),ke.prototype),St(ke.prototype,"moveText",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"moveText"),ke.prototype),St(ke.prototype,"setText",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"setText"),ke.prototype),St(ke.prototype,"updateText",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"updateText"),ke.prototype),St(ke.prototype,"setAnchors",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"setAnchors"),ke.prototype),St(ke.prototype,"setSelected",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"setSelected"),ke.prototype),St(ke.prototype,"setHovered",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"setHovered"),ke.prototype),St(ke.prototype,"setHitable",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"setHitable"),ke.prototype),St(ke.prototype,"openEdgeAnimation",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"openEdgeAnimation"),ke.prototype),St(ke.prototype,"closeEdgeAnimation",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"closeEdgeAnimation"),ke.prototype),St(ke.prototype,"setElementState",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"setElementState"),ke.prototype),St(ke.prototype,"updateStartPoint",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"updateStartPoint"),ke.prototype),St(ke.prototype,"moveStartPoint",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"moveStartPoint"),ke.prototype),St(ke.prototype,"updateEndPoint",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"updateEndPoint"),ke.prototype),St(ke.prototype,"moveEndPoint",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"moveEndPoint"),ke.prototype),St(ke.prototype,"setZIndex",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"setZIndex"),ke.prototype),St(ke.prototype,"initPoints",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"initPoints"),ke.prototype),St(ke.prototype,"updateAttributes",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"updateAttributes"),ke.prototype),St(ke.prototype,"getAdjustStart",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"getAdjustStart"),ke.prototype),St(ke.prototype,"getAdjustEnd",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"getAdjustEnd"),ke.prototype),St(ke.prototype,"updateAfterAdjustStartAndEnd",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"updateAfterAdjustStartAndEnd"),ke.prototype),ke),ll=sl;function fl(t){return fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fl(t)}function op(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function ip(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?op(Object(n),!0).forEach(function(r){up(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):op(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nh(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ap(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ka(){return ka=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=rh(t,e);if(r){var a=Object.getOwnPropertyDescriptor(r,e);return a.get?a.get.call(arguments.length<3?t:n):a.value}},ka.apply(this,arguments)}function rh(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Gi(t))!==null;);return t}function pl(t,e){return pl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},pl(t,e)}function oh(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Gi(t);if(e){var a=Gi(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ih(this,n)}}function ih(t,e){if(e&&(fl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dl(t)}function dl(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Gi(t){return Gi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Gi(t)}function up(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Bt,cp,Xi=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&pl(i,c)})(a,t);var e,n,r=oh(a);function a(){var i;nh(this,a);for(var c=arguments.length,h=new Array(c),g=0;g<c;g++)h[g]=arguments[g];return up(dl(i=r.call.apply(r,[this].concat(h))),"modelType",Yt.LINE_EDGE),i}return e=a,(n=[{key:"getEdgeStyle",value:function(){var i=this.graphModel.theme.line;return ip(ip({},ka(Gi(a.prototype),"getEdgeStyle",this).call(this)),wn(i))}},{key:"getTextPosition",value:function(){return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}}])&&ap(e.prototype,n),a}(ll);function hl(t){return hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hl(t)}function ah(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(S){x=!0,c=S}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Su(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Su(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Su(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yl(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function vl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yl(Object(n),!0).forEach(function(r){ml(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yl(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gl(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function sp(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ju(){return ju=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=uh(t,e);if(r){var a=Object.getOwnPropertyDescriptor(r,e);return a.get?a.get.call(arguments.length<3?t:n):a.value}},ju.apply(this,arguments)}function uh(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Zo(t))!==null;);return t}function Ta(t,e){return Ta=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ta(t,e)}function Rc(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Zo(t);if(e){var a=Zo(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ch(this,n)}}function ch(t,e){if(e&&(hl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hi(t)}function Hi(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Zo(t){return Zo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Zo(t)}function ml(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function En(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,h){return h(t,e,c)||c},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}var Ic=(Bt=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Ta(i,c)})(a,t);var e,n,r=Rc(a);function a(){var i;sp(this,a);for(var c=arguments.length,h=new Array(c),g=0;g<c;g++)h[g]=arguments[g];return ml(Hi(i=r.call.apply(r,[this].concat(h))),"modelType",Yt.POLYLINE_EDGE),ml(Hi(i),"draggingPointList",void 0),gl(Hi(i),"dbClickPosition",cp,Hi(i)),i}return e=a,(n=[{key:"initEdgeData",value:function(i){this.offset=30,ju(Zo(a.prototype),"initEdgeData",this).call(this,i)}},{key:"getEdgeStyle",value:function(){var i=this.graphModel.theme.polyline;return vl(vl({},ju(Zo(a.prototype),"getEdgeStyle",this).call(this)),wn(i))}},{key:"getTextPosition",value:function(){var i,c=(i=this.text)===null||i===void 0?void 0:i.value;if(this.dbClickPosition&&!c){var h=this.dbClickPosition;return{x:h.x,y:h.y}}var g=wi(this.points),x=ah(vp(g),2),S=x[0],D=x[1];return{x:(S.x+D.x)/2,y:(S.y+D.y)/2}}},{key:"getAfterAnchor",value:function(i,c,h){var g,x;return h.forEach(function(S){var D;i===vn.HORIZONTAL?D=Math.abs(c.y-S.y):i===vn.VERTICAL&&(D=Math.abs(c.x-S.x)),(!x||x>D)&&(x=D,g=S)}),g}},{key:"getCrossPoint",value:function(i,c,h){var g;return i===vn.HORIZONTAL?g={x:h.x,y:c.y}:i===vn.VERTICAL&&(g={x:c.x,y:h.y}),g}},{key:"removeCrossPoints",value:function(i,c,h){var g=h.map(function(ge){return ge});if(i===1){var x=g[i],S=g[c],D=g[i-1];if(Pl(D,x,this.sourceNode)){if(Al(x,S,this.sourceNode)){var R=$n(x,S,this.sourceNode);R&&(g[i]=R,g.splice(i-1,1),i--,c--)}}else this.sourceNode.anchors.forEach(function(ge){(ge.x===D.x&&ge.x===x.x||ge.y===D.y&&ge.y===x.y)&&Wn(ge.x,ge.y,x.x,x.y)<Wn(D.x,D.y,x.x,x.y)&&(g[i-1]=ge)})}if(c===h.length-2){var H=g[i],J=g[c],re=g[c+1];if(Pl(J,re,this.targetNode)){if(Al(H,J,this.targetNode)){var ye=$n(H,J,this.targetNode);ye&&(g[c]=ye,g.splice(c+1,1))}}else this.targetNode.anchors.forEach(function(ge){(ge.x===re.x&&ge.x===J.x||ge.y===re.y&&ge.y===J.y)&&Wn(ge.x,ge.y,J.x,J.y)<Wn(re.x,re.y,J.x,J.y)&&(g[c+1]=ge)})}return g}},{key:"getDraggingPoints",value:function(i,c,h,g,x){var S=x.map(function(H){return H}),D=this.getAfterAnchor(i,h,g),R=this.getCrossPoint(i,h,D);return c==="start"?(S.unshift(R),S.unshift(D)):(S.push(R),S.push(D)),S}},{key:"updateCrossPoints",value:function(i){var c=i.map(function(Ce){return Ce}),h=i[0],g=i[1],x=i[c.length-2],S=i[c.length-1],D=this.sourceNode,R=this.targetNode,H=D.modelType,J=R.modelType,re=ir(h,g),ye=c[0];switch(H){case Yt.RECT_NODE:D.radius!==0&&(rl(h,D)||(ye=tp(h,re,D)));break;case Yt.CIRCLE_NODE:ye=nl(h,re,D);break;case Yt.ELLIPSE_NODE:ye=ol(h,re,D);break;case Yt.DIAMOND_NODE:case Yt.POLYGON_NODE:ye=il(h,re,D)}c[0]=ye;var ge=ir(x,S),we=c[c.length-1];switch(J){case Yt.RECT_NODE:R.radius!==0&&(rl(S,R)||(we=tp(S,ge,R)));break;case Yt.CIRCLE_NODE:we=nl(S,ge,R);break;case Yt.ELLIPSE_NODE:we=ol(S,ge,R);break;case Yt.DIAMOND_NODE:case Yt.POLYGON_NODE:we=il(S,ge,R)}return c[c.length-1]=we,c}},{key:"getData",value:function(){var i=ju(Zo(a.prototype),"getData",this).call(this),c=this.pointsList.map(function(h){return{x:h.x,y:h.y}});return Object.assign({},i,{pointsList:c})}},{key:"initPoints",value:function(){this.pointsList.length>0?this.points=this.pointsList.map(function(i){return"".concat(i.x,",").concat(i.y)}).join(" "):this.updatePoints()}},{key:"updatePoints",value:function(){var i=Tu({x:this.startPoint.x,y:this.startPoint.y},{x:this.endPoint.x,y:this.endPoint.y},this.sourceNode,this.targetNode,this.offset||0);this.pointsList=i,this.points=i.map(function(c){return"".concat(c.x,",").concat(c.y)}).join(" ")}},{key:"updateStartPoint",value:function(i){this.startPoint=i,this.updatePoints()}},{key:"moveStartPoint",value:function(i,c){this.startPoint.x+=i,this.startPoint.y+=c,this.updatePoints()}},{key:"updateEndPoint",value:function(i){this.endPoint=i,this.updatePoints()}},{key:"moveEndPoint",value:function(i,c){this.endPoint.x+=i,this.endPoint.y+=c,this.updatePoints()}},{key:"dragAppendStart",value:function(){this.draggingPointList=this.pointsList.map(function(i){return i})}},{key:"dragAppendSimple",value:function(i,c){this.isDragging=!0;var h=i.start,g=i.end,x=i.startIndex,S=i.endIndex,D=i.direction,R=this.pointsList,H=R;return D===vn.HORIZONTAL?(R[x]={x:h.x,y:h.y+c.y},R[S]={x:g.x,y:g.y+c.y},H=this.pointsList.map(function(J){return J})):D===vn.VERTICAL&&(R[x]={x:h.x+c.x,y:h.y},R[S]={x:g.x+c.x,y:g.y},H=this.pointsList.map(function(J){return J})),this.updatePointsAfterDrag(H),this.draggingPointList=H,this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},R[x]),end:Object.assign({},R[S]),startIndex:x,endIndex:S,direction:D}}},{key:"dragAppend",value:function(i,c){this.isDragging=!0;var h=i.start,g=i.end,x=i.startIndex,S=i.endIndex,D=i.direction,R=this.pointsList;if(D===vn.HORIZONTAL){R[x]={x:h.x,y:h.y+c.y},R[S]={x:g.x,y:g.y+c.y};var H=this.pointsList.map(function(qe){return qe});if(x!==0&&S!==this.pointsList.length-1&&(H=this.removeCrossPoints(x,S,H)),x===0){var J={x:h.x,y:h.y+c.y};if(!Cr(J,this.sourceNode)){var re=this.sourceNode.anchors;H=this.getDraggingPoints(D,"start",J,re,H)}}if(S===this.pointsList.length-1){var ye={x:g.x,y:g.y+c.y};if(!Cr(ye,this.targetNode)){var ge=this.targetNode.anchors;H=this.getDraggingPoints(D,"end",ye,ge,H)}}this.updatePointsAfterDrag(H),this.draggingPointList=H}else if(D===vn.VERTICAL){R[x]={x:h.x+c.x,y:h.y},R[S]={x:g.x+c.x,y:g.y};var we=this.pointsList.map(function(qe){return qe});if(x!==0&&S!==this.pointsList.length-1&&(we=this.removeCrossPoints(x,S,we)),x===0){var Ce={x:h.x+c.x,y:h.y};if(!Cr(Ce,this.sourceNode)){var Ze=this.sourceNode.anchors;we=this.getDraggingPoints(D,"start",Ce,Ze,we)}}if(S===this.pointsList.length-1){var Ke={x:g.x+c.x,y:g.y};if(!Cr(Ke,this.targetNode)){var bt=this.targetNode.anchors;we=this.getDraggingPoints(D,"end",Ke,bt,we)}}this.updatePointsAfterDrag(we),this.draggingPointList=we}return this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},R[x]),end:Object.assign({},R[S]),startIndex:x,endIndex:S,direction:D}}},{key:"dragAppendEnd",value:function(){if(this.draggingPointList){var i=ku(wi(this.points));this.pointsList=i.map(function(g){return g}),this.draggingPointList=[];var c=i[0];this.startPoint=Object.assign({},c);var h=i[i.length-1];this.endPoint=Object.assign({},h)}this.isDragging=!1}},{key:"updatePointsAfterDrag",value:function(i){var c=this.updateCrossPoints(i);this.points=c.map(function(h){return"".concat(h.x,",").concat(h.y)}).join(" ")}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var i=this.pointsList;return i[i.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(i){var c=i.startPoint,h=i.endPoint,g=i.sourceNode,x=i.targetNode,S=Tu({x:c.x,y:c.y},{x:h.x,y:h.y},g,x,this.offset||0);this.pointsList=S,this.initPoints()}}])&&lp(e.prototype,n),a}(ll),cp=En(Bt.prototype,"dbClickPosition",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),En(Bt.prototype,"initPoints",[d.k],Object.getOwnPropertyDescriptor(Bt.prototype,"initPoints"),Bt.prototype),En(Bt.prototype,"updatePoints",[d.k],Object.getOwnPropertyDescriptor(Bt.prototype,"updatePoints"),Bt.prototype),En(Bt.prototype,"updateStartPoint",[d.k],Object.getOwnPropertyDescriptor(Bt.prototype,"updateStartPoint"),Bt.prototype),En(Bt.prototype,"moveStartPoint",[d.k],Object.getOwnPropertyDescriptor(Bt.prototype,"moveStartPoint"),Bt.prototype),En(Bt.prototype,"updateEndPoint",[d.k],Object.getOwnPropertyDescriptor(Bt.prototype,"updateEndPoint"),Bt.prototype),En(Bt.prototype,"moveEndPoint",[d.k],Object.getOwnPropertyDescriptor(Bt.prototype,"moveEndPoint"),Bt.prototype),En(Bt.prototype,"dragAppendStart",[d.k],Object.getOwnPropertyDescriptor(Bt.prototype,"dragAppendStart"),Bt.prototype),En(Bt.prototype,"dragAppendSimple",[d.k],Object.getOwnPropertyDescriptor(Bt.prototype,"dragAppendSimple"),Bt.prototype),En(Bt.prototype,"dragAppend",[d.k],Object.getOwnPropertyDescriptor(Bt.prototype,"dragAppend"),Bt.prototype),En(Bt.prototype,"dragAppendEnd",[d.k],Object.getOwnPropertyDescriptor(Bt.prototype,"dragAppendEnd"),Bt.prototype),En(Bt.prototype,"updatePointsAfterDrag",[d.k],Object.getOwnPropertyDescriptor(Bt.prototype,"updatePointsAfterDrag"),Bt.prototype),En(Bt.prototype,"getAdjustStart",[d.k],Object.getOwnPropertyDescriptor(Bt.prototype,"getAdjustStart"),Bt.prototype),En(Bt.prototype,"getAdjustEnd",[d.k],Object.getOwnPropertyDescriptor(Bt.prototype,"getAdjustEnd"),Bt.prototype),En(Bt.prototype,"updateAfterAdjustStartAndEnd",[d.k],Object.getOwnPropertyDescriptor(Bt.prototype,"updateAfterAdjustStartAndEnd"),Bt.prototype),Bt),Pu=function(t){var e=t.start,n=t.end,r=t.offset,a=t.verticalLength,i=t.type,c={leftX:0,leftY:0,rightX:0,rightY:0},h=Math.atan((n.y-e.y)/(n.x-e.x)),g=Math.atan(r/a),x=Math.sqrt(a*a+r*r);return i==="start"?n.x>=e.x?(c.leftX=e.x+x*Math.sin(h+g),c.leftY=e.y-x*Math.cos(h+g),c.rightX=e.x-x*Math.sin(h-g),c.rightY=e.y+x*Math.cos(h-g)):(c.leftX=e.x-x*Math.sin(h+g),c.leftY=e.y+x*Math.cos(h+g),c.rightX=e.x+x*Math.sin(h-g),c.rightY=e.y-x*Math.cos(h-g)):i==="end"&&(n.x>=e.x?(c.leftX=n.x+x*Math.sin(h-g),c.leftY=n.y-x*Math.cos(h-g),c.rightX=n.x-x*Math.sin(h+g),c.rightY=n.y+x*Math.cos(h+g)):(c.leftX=n.x-x*Math.sin(h-g),c.leftY=n.y+x*Math.cos(h-g),c.rightX=n.x+x*Math.sin(h+g),c.rightY=n.y-x*Math.cos(h+g))),c},Yi={x:1,y:0,z:0};function Ft(t,e,n,r,a){for(var i=function(J){if(J<0||J>1)throw new RangeError('The value range of parameter "t" is [0,1]');return{x:t.x*Math.pow(1-J,3)+3*e.x*J*Math.pow(1-J,2)+3*n.x*Math.pow(J,2)*(1-J)+r.x*Math.pow(J,3),y:t.y*Math.pow(1-J,3)+3*e.y*J*Math.pow(1-J,2)+3*n.y*Math.pow(J,2)*(1-J)+r.y*Math.pow(J,3)}},c=0,h=2,g=r.x,x=r.y,S=r;c<a&&h<50;){var D=S=i(1-h/100),R=D.x,H=D.y;c=Wn(g,x,R,H),h++}return S}function fp(t){var e=Math.hypot(t.x,t.y);return{x:t.x/e,y:t.y/e,z:0}}function Sr(t){return r=function(i,c){return i.x*c.y-i.y*c.x}(e=Yi,n=t),a=Math.acos(function(i,c){var h=[i.x,i.y,i.z];return[c.x,c.y,c.z].reduce(function(g,x,S){return g+x*h[S]})}(fp(e),fp(n))),r>=0?a:-a;var e,n,r,a}function In(t){return t*(180/Math.PI)}function qo(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Lc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qo(Object(n),!0).forEach(function(r){bl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qo(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bl(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jo(t){return function(e){if(Array.isArray(e))return Mn(e)}(t)||function(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||An(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function zc(t){return zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zc(t)}function Vi(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(S){x=!0,c=S}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||An(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function An(t,e){if(t){if(typeof t=="string")return Mn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Mn(t,e):void 0}}function Mn(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var pp=function(t,e){var n;switch(t.type){case"line":default:n=new Xi(t,e);break;case"polyline":n=new Ic(t,e)}return n},_l=function(t,e){return 2*Math.abs(t.centerX-e.centerX)<t.width+e.width&&2*Math.abs(t.centerY-e.centerY)<t.height+e.height},Qo=function(t){var e=[],n={};return t.forEach(function(r){var a="".concat(r.x,"-").concat(r.y);r.id=a,n[a]=r}),Object.keys(n).forEach(function(r){e.push(n[r])}),e},Ol=function(t,e){var n=[t,{x:t.x,y:e.y},e];return Qo(n)},Da=function(t,e){return t.width===0&&t.height===0?t:{centerX:t.centerX,centerY:t.centerY,minX:t.minX-e,minY:t.minY-e,maxX:t.maxX+e,maxY:t.maxY+e,height:t.height+2*e,width:t.width+2*e}},Au=function(t,e){var n=Math.abs(t.x-e.centerX),r=Math.abs(t.y-e.centerY);return n/e.width>r/e.height?vn.HORIZONTAL:vn.VERTICAL},cr=function(t,e,n){return Au(n,e)===vn.HORIZONTAL?{x:n.x>t.centerX?t.maxX:t.minX,y:n.y}:{x:n.x,y:n.y>t.centerY?t.maxY:t.minY}},Oi=function(t,e){var n=Math.min(t.minX,e.minX),r=Math.min(t.minY,e.minY),a=Math.max(t.maxX,e.maxX),i=Math.max(t.maxY,e.maxY);return{centerX:(n+a)/2,centerY:(r+i)/2,minX:n,minY:r,maxX:a,maxY:i,height:i-r,width:a-n}},Na=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,n=[],r=[];t.forEach(function(S){n.push(S.x),r.push(S.y)});var a=Math.min.apply(Math,n),i=Math.max.apply(Math,n),c=Math.min.apply(Math,r),h=Math.max.apply(Math,r),g=i-a,x=h-c;return e&&(g+=e,x+=e),{centerX:(a+i)/2,centerY:(c+h)/2,maxX:i,maxY:h,minX:a,minY:c,x:(a+i)/2,y:(c+h)/2,height:x,width:g}},Mu=function(t){var e=t.minX,n=t.minY,r=t.maxX,a=t.maxY;return[{x:e,y:n},{x:r,y:n},{x:r,y:a},{x:e,y:a}]},Ca=function(t,e){var n=t.x,r=t.y;return n<e.minX||n>e.maxX||r<e.minY||r>e.maxY},Lo=function(t,e){return e<t.minX||e>t.maxX?[]:[{x:e,y:t.minY},{x:e,y:t.maxY}]},Gt=function(t,e){return e<t.minY||e>t.maxY?[]:[{x:t.minX,y:e},{x:t.maxX,y:e}]},wl=function(t,e){return Lo(t,e.x).concat(Gt(t,e.y))},jr=function(t,e){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)},xl=function(t,e){var n=0;return e.forEach(function(r){r&&(t.x===r.x&&(n+=-2),t.y===r.y&&(n+=-2))}),n},cn=function(t,e,n,r,a){return jr(t,e)+jr(t,n)+xl(t,[e,n,r,a])},dp=function t(e,n,r,a,i){i||(i=0),e.unshift(n[a]),r[a]&&r[a]!==a&&i<=100&&t(e,n,r,r[a],i+1)},El=function(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)},ei=function(t,e,n,r){var a=e.x-t.x,i=e.y-t.y,c=r.x-n.x,h=r.y-n.y,g=(-i*(t.x-n.x)+a*(t.y-n.y))/(-c*i+a*h),x=(c*(t.y-n.y)-h*(t.x-n.x))/(-c*i+a*h);return g>=0&&g<=1&&x>=0&&x<=1},Sl=function(t,e,n){if(n.width===0&&n.height===0)return!1;var r=Vi(Mu(n),4),a=r[0],i=r[1],c=r[2],h=r[3];return ei(t,e,a,i)||ei(t,e,a,h)||ei(t,e,i,c)||ei(t,e,c,h)},hp=function(t,e,n,r){var a=[];return t.forEach(function(i){i!==e&&(i.x!==e.x&&i.y!==e.y||Sl(i,e,n)||Sl(i,e,r)||a.push(i))}),Qo(a)},yp=function(t,e,n,r,a,i,c){var h=[],g=[e],x={},S={},D={};S[e.id]=0,D[e.id]=cn(e,n,e);var R={};t.forEach(function(re){R[re.id]=re});for(var H=function(){var re=void 0,ye=1/0;if(g.forEach(function(we){D[we.id]<ye&&(ye=D[we.id],re=we)}),re===n){var ge=[];return dp(ge,R,x,n.id),{v:ge}}El(g,re),h.push(re),hp(t,re,r,a).forEach(function(we){if(h.indexOf(we)===-1){g.indexOf(we)===-1&&g.push(we);var Ce=D[re.id]+jr(re,we);S[we.id]&&Ce>=S[we.id]||(x[we.id]=re.id,S[we.id]=Ce,D[we.id]=S[we.id]+cn(we,n,e,i,c))}})};g.length;){var J=H();if(zc(J)==="object")return J.v}return[e,n]},jl=function(t){return Hr(t)},ku=function(t){for(var e=1;e<t.length-1;){var n=t[e-1],r=t[e],a=t[e+1];n.x===r.x&&r.x===a.x||n.y===r.y&&r.y===a.y?t.splice(e,1):e++}return t},Tu=function(t,e,n,r,a){var i=jl(n),c=jl(r),h=Da(i,a),g=Da(c,a),x=cr(h,i,t),S=cr(g,c,e);if(_l(h,g)){var D=Ml(t,e,x,S);return[t,x].concat(Jo(D),[S,e])}var R=Na([x,S]),H=Oi(h,R),J=Oi(g,R),re=[];re=(re=re.concat(Mu(H))).concat(Mu(J));var ye={x:(t.x+e.x)/2,y:(t.y+e.y)/2};[R,H,J].forEach(function(we){re=re.concat(wl(we,ye).filter(function(Ce){return Ca(Ce,h)&&Ca(Ce,g)}))}),[{x:x.x,y:S.y},{x:S.x,y:x.y}].forEach(function(we){Ca(we,h)&&Ca(we,g)&&re.push(we)}),re.unshift(x),re.push(S),re=Qo(re);var ge=yp(re,x,S,i,c,t,e);return ge.unshift(t),ge.push(e),ge.length>2&&(ge=ku(ge)),Qo(ge)},vp=function(t){var e;if(t.length===1)e=[t[0],t[0]];else if(t.length>=2){for(var n=t[0],r=t[1],a=Wn(n.x,n.y,r.x,r.y),i=1;i<t.length-1;i++){var c=t[i],h=t[i+1],g=Wn(c.x,c.y,h.x,h.y);g>a&&(a=g,n=c,r=h)}e=[n,r]}return e},Pl=function(t,e,n){var r=Cr(t,n),a=Cr(e,n);return r&&a},Al=function(t,e,n){var r=Cr(t,n),a=Cr(e,n);return!(r&&a)&&(r||a)},$n=function(t,e,n){for(var r,a,i=Hr(n),c=Mu(i),h=0;h<c.length;h++)ei(t,e,c[h],c[(h+1)%c.length])&&(a=[c[h],c[(h+1)%c.length]]);return a&&(r=function(g,x,S,D){var R=(x.y-g.y)*(D.x-S.x)-(g.x-x.x)*(S.y-D.y);if(R===0)return!1;var H=((x.x-g.x)*(D.x-S.x)*(S.y-g.y)+(x.y-g.y)*(D.x-S.x)*g.x-(D.y-S.y)*(x.x-g.x)*S.x)/R,J=-((x.y-g.y)*(D.y-S.y)*(S.x-g.x)+(x.x-g.x)*(D.y-S.y)*g.y-(D.x-S.x)*(x.y-g.y)*S.y)/R;return(H-g.x)*(H-x.x)<=0&&(J-g.y)*(J-x.y)<=0&&(H-S.x)*(H-D.x)<=0&&(J-S.y)*(J-D.y)<=0&&{x:H,y:J}}(t,e,a[0],a[1])),r},ir=function(t,e){var n;return t.x===e.x?n=vn.VERTICAL:t.y===e.y&&(n=vn.HORIZONTAL),n},wi=function(t){var e=t.split(" "),n=[];return e&&e.forEach(function(r){var a=Vi(r.split(","),2),i=a[0],c=a[1];n.push({x:Number(i),y:Number(c)})}),n},Ml=function(t,e,n,r){var a=[];if(ir(t,n)===ir(e,r))t.y===n.y?(a.push({x:n.x,y:(n.y+r.y)/2}),a.push({x:r.x,y:(n.y+r.y)/2})):(a.push({x:(n.x+r.x)/2,y:n.y}),a.push({x:(n.x+r.x)/2,y:r.y}));else{var i={x:n.x,y:r.y},c=wt(i,t,n),h=wt(i,e,r);if(c||h)i={x:r.x,y:n.y};else{var g=gp(i,t,n),x=gp(i,e,r);g&&x&&(i={x:r.x,y:n.y})}a.push(i)}return a},gp=function(t,e,n){return t.x===e.x&&t.x===n.x||t.y===e.y&&t.y===n.y},kl=function(t){if(!t)return 0;for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);t.match(/[A-Z]/)?e+=1.5:e+=r>=1&&r<=126||r>=65376&&r<=65439?1:2}return e},Bc=null,mp=function(t,e){Bc||(Bc=document.createElement("canvas"));var n=Bc.getContext("2d");return n.font=e,n.measureText(t).width},Tl=function(t){var e,n=t.start,r=t.end;if(n.x===r.x&&n.y===r.y)e="";else{var a={start:n,end:r,offset:10,verticalLength:5},i=Pu(Lc(Lc({},a),{},{type:"start"})),c=Pu(Lc(Lc({},a),{},{type:"end"}));e="M".concat(i.leftX," ").concat(i.leftY,` 
    L`).concat(i.rightX," ").concat(i.rightY,` 
    L`).concat(c.rightX," ").concat(c.rightY,`
    L`).concat(c.leftX," ").concat(c.leftY," z")}return{d:e,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}},xi=function(t){var e=t.start,n=t.end,r=t.sourceNode,a=t.targetNode,i=t.offset,c=Hr(r),h=Hr(a),g=Da(c,i),x=Da(h,i);return{sNext:cr(g,c,e),ePre:cr(x,h,n)}},Fc=function(t){var e=t.replace(/M/g,"").replace(/C/g,",").split(",");return[Du(e[0]),Du(e[1]),Du(e[2]),Du(e[3])]},Du=function(t){var e=Vi(t.replace(/(^\s*)/g,"").split(" "),2);return{x:+e[0],y:+e[1]}},Uc=function(t,e){var n=Vi(t,4);return[Ft(n[0],n[1],n[2],n[3],e),t[3]]},Dl=function(t,e){for(var n,r=t.x,a=t.y,i=wi(e),c=Number.MAX_SAFE_INTEGER,h=[],g=0;g<i.length;g++)h.push({start:i[g],end:i[(g+1)%i.length]});if(h.forEach(function(R){var H=R.start,J=R.end;if(H.x===J.x){var re={x:H.x,y:a};if(wt(re,H,J)){var ye=Math.abs(H.x-r);ye<c&&(c=ye,n=re)}}else if(H.y===J.y){var ge={x:r,y:H.y};if(wt(ge,H,J)){var we=Math.abs(H.y-a);we<c&&(c=we,n=ge)}}}),!n){var x=h[0],S=x.start,D=x.end;n={x:S.x+(D.x-S.x)/2,y:S.y+(D.y-S.y)/2}}return n},bp=function(t){return Vo(t,["id","type","sourceNodeId","sourceAnchorId","targetNodeId","targetAnchorId","pointsList","startPoint","endPoint","properties"])},Nl=function(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))};function _p(t,e){return typeof e!="function"?function(n,r,a){return Object.assign({type:t.edgeType},a)}:function(n,r,a){var i=e(n,r,a);return i?typeof i=="string"?Object.assign({},a,{type:i}):Object.assign({type:i},a):{type:t.edgeType}}}o(208);var Cl=function(){};function sh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ln(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ho=function(){function t(r){var a=this,i=r.onDragStart,c=i===void 0?Cl:i,h=r.onDragging,g=h===void 0?Cl:h,x=r.onDragEnd,S=x===void 0?Cl:x,D=r.eventType,R=D===void 0?"":D,H=r.eventCenter,J=H===void 0?null:H,re=r.step,ye=re===void 0?1:re,ge=r.isStopPropagation,we=ge===void 0||ge,Ce=r.model,Ze=Ce===void 0?null:Ce,Ke=r.data,bt=Ke===void 0?null:Ke;(function(qe,pt){if(!(qe instanceof pt))throw new TypeError("Cannot call a class as a function")})(this,t),Ln(this,"onDragStart",void 0),Ln(this,"onDragging",void 0),Ln(this,"onDragEnd",void 0),Ln(this,"step",void 0),Ln(this,"isStopPropagation",void 0),Ln(this,"isDragging",!1),Ln(this,"isStartDragging",!1),Ln(this,"startX",0),Ln(this,"startY",0),Ln(this,"sumDeltaX",0),Ln(this,"sumDeltaY",0),Ln(this,"eventType",void 0),Ln(this,"eventCenter",void 0),Ln(this,"model",void 0),Ln(this,"data",void 0),Ln(this,"startTime",void 0),Ln(this,"handleMouseDown",function(qe){var pt,et,Kt,Jt=(pt=window)===null||pt===void 0?void 0:pt.document;if(qe.button===0){a.isStopPropagation&&qe.stopPropagation(),a.isStartDragging=!0,a.startX=qe.clientX,a.startY=qe.clientY,Jt.addEventListener("mousemove",a.handleMouseMove,!1),Jt.addEventListener("mouseup",a.handleMouseUp,!1);var Tt=(et=a.model)===null||et===void 0?void 0:et.getData();(Kt=a.eventCenter)===null||Kt===void 0||Kt.emit(ft["".concat(a.eventType,"_MOUSEDOWN")],{e:qe,data:a.data||Tt}),a.startTime=new Date().getTime()}}),Ln(this,"handleMouseMove",function(qe){if(a.isStopPropagation&&qe.stopPropagation(),a.isStartDragging&&(a.sumDeltaX+=qe.clientX-a.startX,a.sumDeltaY+=qe.clientY-a.startY,a.startX=qe.clientX,a.startY=qe.clientY,a.step<=1||Math.abs(a.sumDeltaX)>a.step||Math.abs(a.sumDeltaY)>a.step)){var pt,et=a.sumDeltaX%a.step,Kt=a.sumDeltaY%a.step,Jt=a.sumDeltaX-et,Tt=a.sumDeltaY-Kt;a.sumDeltaX=et,a.sumDeltaY=Kt;var nn,Xn=(pt=a.model)===null||pt===void 0?void 0:pt.getData();a.isDragging||((nn=a.eventCenter)===null||nn===void 0||nn.emit(ft["".concat(a.eventType,"_DRAGSTART")],{e:qe,data:a.data||Xn}),a.onDragStart({event:qe})),a.isDragging=!0,Promise.resolve().then(function(){var Hn,Pr;a.onDragging({deltaX:Jt,deltaY:Tt,event:qe}),(Hn=a.eventCenter)===null||Hn===void 0||Hn.emit(ft["".concat(a.eventType,"_MOUSEMOVE")],{e:qe,data:a.data||Xn}),(Pr=a.eventCenter)===null||Pr===void 0||Pr.emit(ft["".concat(a.eventType,"_DRAG")],{e:qe,data:a.data||Xn})})}}),Ln(this,"handleMouseUp",function(qe){var pt=window.document;a.isStartDragging=!1,a.isStopPropagation&&qe.stopPropagation(),Promise.resolve().then(function(){var et,Kt,Jt;pt.removeEventListener("mousemove",a.handleMouseMove,!1),pt.removeEventListener("mouseup",a.handleMouseUp,!1);var Tt=(et=a.model)===null||et===void 0?void 0:et.getData();(Kt=a.eventCenter)===null||Kt===void 0||Kt.emit(ft["".concat(a.eventType,"_MOUSEUP")],{e:qe,data:a.data||Tt}),a.isDragging&&(a.isDragging=!1,a.onDragEnd({event:qe}),(Jt=a.eventCenter)===null||Jt===void 0||Jt.emit(ft["".concat(a.eventType,"_DROP")],{e:qe,data:a.data||Tt}))})}),Ln(this,"cancelDrag",function(){var qe,pt=(qe=window)===null||qe===void 0?void 0:qe.document;pt.removeEventListener("mousemove",a.handleMouseMove,!1),pt.removeEventListener("mouseup",a.handleMouseUp,!1),a.onDragEnd({event:null}),a.isDragging=!1}),this.onDragStart=c,this.onDragging=g,this.onDragEnd=S,this.step=ye,this.isStopPropagation=we,this.eventType=R,this.eventCenter=J,this.model=Ze,this.data=bt}var e,n;return e=t,(n=[{key:"setStep",value:function(r){this.step=r}},{key:"setModel",value:function(r){this.model=r}}])&&sh(e.prototype,n),t}();function Gc(t){return Gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gc(t)}function Rl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Il(t,e,n){return e&&Xc(t.prototype,e),n&&Xc(t,n),t}function Ll(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Cu(t,e)}function vr(t){var e=Hc();return function(){var n,r=Ru(t);if(e){var a=Ru(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return zl(this,n)}}function zl(t,e){if(e&&(Gc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wi(t)}function Wi(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Bl(t){var e=typeof Map=="function"?new Map:void 0;return Bl=function(n){if(n===null||(r=n,Function.toString.call(r).indexOf("[native code]")===-1))return n;var r;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(n))return e.get(n);e.set(n,a)}function a(){return Nu(n,arguments,Ru(this).constructor)}return a.prototype=Object.create(n.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),Cu(a,n)},Bl(t)}function Nu(t,e,n){return Nu=Hc()?Reflect.construct:function(r,a,i){var c=[null];c.push.apply(c,a);var h=new(Function.bind.apply(r,c));return i&&Cu(h,i.prototype),h},Nu.apply(null,arguments)}function Hc(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Cu(t,e){return Cu=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Cu(t,e)}function Ru(t){return Ru=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ru(t)}function Fl(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ul(t,e){return t instanceof ar&&e instanceof ar}var Op=function(t){Ll(n,t);var e=vr(n);function n(r,a,i){var c;return Rl(this,n),Fl(Wi(c=e.call(this,3)),"x",void 0),Fl(Wi(c),"y",void 0),Fl(Wi(c),"z",void 0),c[0]=r,c[1]=a,c[2]=i,c.x=r,c.y=a,c.z=i,Object.setPrototypeOf(Wi(c),n.prototype),c}return Il(n,[{key:"add",value:function(r){if(Ul(this,r))return new ar(this.x+r.x,this.y+r.y);var a=this.z+r.z;return new Ra((this.x+r.x)/a,(this.y+r.y)/a)}},{key:"subtract",value:function(r){if(Ul(this,r))return new ar(this.x-r.x,this.y-r.y);var a=this.z-r.z;return a===0?new ar(this.x-r.x,this.y-r.y):new Ra((this.x-r.x)/a,(this.y-r.y)/a)}}]),n}(Bl(Array)),ar=function(t){Ll(n,t);var e=vr(n);function n(r,a,i){var c;return Rl(this,n),c=e.call(this,r,a,i!=null?i:0),Object.setPrototypeOf(Wi(c),n.prototype),c}return Il(n,[{key:"toString",value:function(){return"Vector"}},{key:"dot",value:function(r){var a=this;return r.reduce(function(i,c,h){return i+c*a[h]})}},{key:"cross",value:function(r){return new n(this.y*r.z-this.z*r.y,this.z*r.x-this.x*r.z,this.x*r.y-this.y*r.x)}},{key:"getLength",value:function(){return Math.hypot(this.x,this.y)}},{key:"normalize",value:function(){var r=this.getLength();return new n(this.x/r,this.y/r)}},{key:"crossZ",value:function(r){return this.x*r.y-this.y*r.x}},{key:"angle",value:function(r){var a=this.crossZ(r),i=Math.acos(this.normalize().dot(r.normalize()));return a>=0?i:-i}}]),n}(Op),Ra=function(t){Ll(n,t);var e=vr(n);function n(r,a){var i;return Rl(this,n),i=e.call(this,r,a,1),Object.setPrototypeOf(Wi(i),n.prototype),i}return Il(n,[{key:"toString",value:function(){return"Point"}}]),n}(Op);o(67),o(218);function Iu(t){return Iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Iu(t)}function Gl(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(S){x=!0,c=S}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||xp(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function wp(t){return function(e){if(Array.isArray(e))return Xl(e)}(t)||function(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||xp(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function xp(t,e){if(t){if(typeof t=="string")return Xl(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xl(t,e):void 0}}function Xl(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ia(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ep(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Yc(t,e,n){return e&&Ep(t.prototype,e),n&&Ep(t,n),t}function Vc(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&te(t,e)}function u(t){var e=U();return function(){var n,r=ce(t);if(e){var a=ce(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return l(this,n)}}function l(t,e){if(e&&(Iu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return b(t)}function b(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function j(t){var e=typeof Map=="function"?new Map:void 0;return j=function(n){if(n===null||(r=n,Function.toString.call(r).indexOf("[native code]")===-1))return n;var r;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(n))return e.get(n);e.set(n,a)}function a(){return N(n,arguments,ce(this).constructor)}return a.prototype=Object.create(n.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),te(a,n)},j(t)}function N(t,e,n){return N=U()?Reflect.construct:function(r,a,i){var c=[null];c.push.apply(c,a);var h=new(Function.bind.apply(r,c));return i&&te(h,i.prototype),h},N.apply(null,arguments)}function U(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function te(t,e){return te=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},te(t,e)}function ce(t){return ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ce(t)}function _e(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Z,Ne,Ue,st,dt,jt,Le,Xe,Mt,at,kt,Ct,$t,yt=function(t){Vc(n,t);var e=u(n);function n(){var r;Ia(this,n);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return _e(b(r=e.call(this,i.length)),"rows",void 0),_e(b(r),"columns",void 0),r.fill(new Array(3)),i.forEach(function(h,g){r[g]=h}),r.columns=i[0].length,r.rows=i.length,Object.setPrototypeOf(b(r),n.prototype),r}return Yc(n,[{key:"getRow",value:function(r){return this[r]}},{key:"getColumn",value:function(r){return wp(this.map(function(a){return a[r]}))}},{key:"transpose",value:function(){for(var r=[],a=0;a<this.columns;a++)r.push(this.getColumn(a));return N(n,r)}},{key:"cross",value:function(r){var a=new Array(this.rows).fill("").map(function(){return[]});if(this.columns===r.rows)for(var i=0;i<this.rows;i++)for(var c=this.getRow(i),h=function(x){var S=r.getColumn(x);a[i][x]=c.reduce(function(D,R,H){return D+R*S[H]},0)},g=0;g<r.columns;g++)h(g);return N(n,wp(a))}},{key:"to2D",value:function(){return this.map(function(r){return[r[0],r[1]]})}},{key:"toPoints",value:function(){return this.map(function(r){return new Ra(r[0],r[1])})}},{key:"toString",value:function(){var r=Gl(this[0],2),a=r[0],i=r[1],c=Gl(this[1],2),h=c[0],g=c[1],x=Gl(this[2],2),S=x[0],D=x[1];return"matrix(".concat(a," ").concat(i," ").concat(h," ").concat(g," ").concat(S," ").concat(D,")")}},{key:"translate",value:function(r,a){return this.cross(new sr(r,a))}},{key:"rotate",value:function(r){return this.cross(new Pt(r))}},{key:"scale",value:function(r,a){return this.cross(new Zn(r,a))}}]),n}(j(Array)),Pt=function(t){Vc(n,t);var e=u(n);function n(r){var a;return Ia(this,n),a=e.call(this,new ar(+Math.cos(r).toFixed(2),+Math.sin(r).toFixed(2),0),new ar(-Math.sin(r).toFixed(2),+Math.cos(r).toFixed(2),0),new ar(0,0,1)),Object.setPrototypeOf(b(a),n.prototype),a}return Yc(n,[{key:"inverse",value:function(){return this.transpose()}}]),n}(yt),Zn=function(t){Vc(n,t);var e=u(n);function n(r,a){var i;return Ia(this,n),_e(b(i=e.call(this,new ar(r,0,0),new ar(0,a,0),new ar(0,0,1))),"sx",void 0),_e(b(i),"sy",void 0),i.sx=r,i.sy=a,Object.setPrototypeOf(b(i),n.prototype),i}return Yc(n,[{key:"inverse",value:function(){return new n(1/this.sx,1/this.sy)}}]),n}(yt),sr=function(t){Vc(n,t);var e=u(n);function n(r,a){var i;return Ia(this,n),_e(b(i=e.call(this,new ar(1,0,0),new ar(0,1,0),new ar(r,a,1))),"tx",void 0),_e(b(i),"ty",void 0),i.tx=r,i.ty=a,Object.setPrototypeOf(b(i),n.prototype),i}return Yc(n,[{key:"inverse",value:function(){return new n(-this.tx,-this.ty)}}]),n}(yt),yo={node:!1,edge:!1},tr={node:!0,edge:!0};function zo(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function vo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zo(Object(n),!0).forEach(function(r){Vr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zo(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ti(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(S){x=!0,c=S}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||Ki(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ni(t){return function(e){if(Array.isArray(e))return ri(e)}(t)||function(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||Ki(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ki(t,e){if(t){if(typeof t=="string")return ri(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ri(t,e):void 0}}function ri(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Lu(t){return Lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lu(t)}function Yr(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Wc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Vr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vt(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,h){return h(t,e,c)||c},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}var zu,Hl=200,Bu=(Z=function(){function t(r){(function(H,J){if(!(H instanceof J))throw new TypeError("Cannot call a class as a function")})(this,t),Vr(this,"rootEl",void 0),Yr(this,"width",Ne,this),Yr(this,"height",Ue,this),Vr(this,"theme",void 0),Vr(this,"eventCenter",void 0),Vr(this,"modelMap",new Map),Vr(this,"topElement",void 0),Vr(this,"animation",void 0),Vr(this,"idGenerator",void 0),Vr(this,"edgeGenerator",void 0),Vr(this,"nodeMoveRules",[]),Vr(this,"customTrajectory",void 0),Yr(this,"edgeType",st,this),Yr(this,"nodes",dt,this),Yr(this,"edges",jt,this),Yr(this,"overlapMode",Le,this),Yr(this,"background",Xe,this),Yr(this,"transformModel",Mt,this),Yr(this,"editConfigModel",at,this),Yr(this,"gridSize",kt,this),Yr(this,"partial",Ct,this),Yr(this,"fakerNode",$t,this);var a,i=r.container,c=r.background,h=c===void 0?{}:c,g=r.grid,x=r.idGenerator,S=r.edgeGenerator,D=r.animation,R=r.customTrajectory;this.background=h,Lu(g)==="object"&&(this.gridSize=g.size),this.rootEl=i,this.editConfigModel=new Ts(r),this.eventCenter=new Ec,this.transformModel=new kf(this.eventCenter,r),this.theme=Ou(r.style),this.edgeType=r.edgeType||"polyline",this.width=r.width,this.height=r.height,this.animation=(a=D)&&typeof a!="boolean"?_u(wn(yo),a):wn(a===!0?tr:yo),this.partial=r.partial,this.overlapMode=r.overlapMode||0,this.idGenerator=x,this.customTrajectory=R,this.edgeGenerator=_p(this,S),this.width=r.width||this.rootEl.getBoundingClientRect().width,this.height=r.height||this.rootEl.getBoundingClientRect().height,this.flowId=po()}var e,n;return e=t,n=[{key:"nodesMap",get:function(){return this.nodes.reduce(function(r,a,i){return r[a.id]={index:i,model:a},r},{})}},{key:"edgesMap",get:function(){return this.edges.reduce(function(r,a,i){return r[a.id]={index:i,model:a},r},{})}},{key:"modelsMap",get:function(){return[].concat(ni(this.nodes),ni(this.edges)).reduce(function(r,a){return r[a.id]=a,r},{})}},{key:"sortElements",get:function(){var r=[];this.nodes.forEach(function(x){return r.push(x)}),this.edges.forEach(function(x){return r.push(x)}),r=r.sort(function(x,S){return x.zIndex-S.zIndex});for(var a=[],i=[-200,-200],c=[this.width+Hl,this.height+Hl],h=0;h<r.length;h++){var g=r[h];g.visible&&(!this.partial||g.isSelected||this.isElementInArea(g,i,c,!1,!1))&&a.push(g)}return a}},{key:"textEditElement",get:function(){var r=this.nodes.find(function(i){return i.state===un.TEXT_EDIT}),a=this.edges.find(function(i){return i.state===un.TEXT_EDIT});return r||a}},{key:"selectElements",get:function(){var r=new Map;return this.nodes.forEach(function(a){a.isSelected&&r.set(a.id,a)}),this.edges.forEach(function(a){a.isSelected&&r.set(a.id,a)}),r}},{key:"selectNodes",get:function(){var r=[];return this.nodes.forEach(function(a){a.isSelected&&r.push(a)}),r}},{key:"getAreaElement",value:function(r,a){var i=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],c=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],h=arguments.length>4&&arguments[4]!==void 0&&arguments[4],g=[],x=[];this.nodes.forEach(function(R){return x.push(R)}),this.edges.forEach(function(R){return x.push(R)});for(var S=0;S<x.length;S++){var D=x[S];h&&!D.visible||!this.isElementInArea(D,r,a,i,c)||g.push(D)}return g}},{key:"getModel",value:function(r){return this.modelMap.get(r)}},{key:"getNodeModelById",value:function(r){var a;return this.fakerNode&&r===this.fakerNode.id?this.fakerNode:(a=this.nodesMap[r])===null||a===void 0?void 0:a.model}},{key:"getPointByClient",value:function(r){var a=r.x,i=r.y,c=this.rootEl.getBoundingClientRect(),h={x:a-c.left,y:i-c.top},g=ti(this.transformModel.HtmlPointToCanvasPoint([h.x,h.y]),2);return{domOverlayPosition:h,canvasOverlayPosition:{x:g[0],y:g[1]}}}},{key:"isElementInArea",value:function(r,a,i){var c=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],h=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4];if(r.BaseType===Gn.NODE){for(var g=Hr(r=r),x=g.minX,S=g.minY,D=g.maxX,R=g.maxY,H=[{x,y:S},{x:D,y:S},{x:D,y:R},{x,y:R}],J=h,re=0;re<H.length;re++){var ye=H[re],ge=ye.x,we=ye.y,Ce=this.transformModel.CanvasPointToHtmlPoint([ge,we]),Ze=ti(Ce,2);if(ge=Ze[0],we=Ze[1],Pc([ge,we],a,i)!==h){J=!h;break}}return J}if(r.BaseType===Gn.EDGE){var Ke=r=r,bt=Ke.startPoint,qe=Ke.endPoint,pt=this.transformModel.CanvasPointToHtmlPoint([bt.x,bt.y]),et=this.transformModel.CanvasPointToHtmlPoint([qe.x,qe.y]),Kt=Pc(pt,a,i),Jt=Pc(et,a,i);return c?Kt&&Jt:Kt||Jt}return!1}},{key:"graphDataToModel",value:function(r){var a=this;if(this.width&&this.height||this.resize(),!r)return this.nodes=[],void(this.edges=[]);r.nodes?this.nodes=ac(r.nodes,function(i){var c=a.getModel(i.type);if(!c)throw new Error("找不到".concat(i.type,"对应的节点。"));var h=i.x,g=i.y;return h&&g&&(i.x=Co(h,a.gridSize),i.y=Co(g,a.gridSize),Lu(i.text)==="object"&&(i.text.x-=Sa(h,a.gridSize),i.text.y-=Sa(g,a.gridSize))),new c(i,a)}):this.nodes=[],r.edges?this.edges=ac(r.edges,function(i){var c=a.getModel(i.type);if(!c)throw new Error("找不到".concat(i.type,"对应的边。"));return new c(i,a)}):this.edges=[]}},{key:"modelToGraphData",value:function(){var r=[];this.edges.forEach(function(i){var c=i.getData();c&&!i.virtual&&r.push(c)});var a=[];return this.nodes.forEach(function(i){var c=i.getData();c&&!i.virtual&&a.push(c)}),{nodes:a,edges:r}}},{key:"modelToHistoryData",value:function(){for(var r=!1,a=[],i=0;i<this.nodes.length;i++){var c=this.nodes[i];if(c.isDragging){r=!0;break}a.push(c.getHistoryData())}if(r)return!1;for(var h=!1,g=[],x=0;x<this.edges.length;x++){var S=this.edges[x];if(S.isDragging){h=!0;break}g.push(S.getHistoryData())}return!h&&{nodes:a,edges:g}}},{key:"getEdgeModelById",value:function(r){var a;return(a=this.edgesMap[r])===null||a===void 0?void 0:a.model}},{key:"getElement",value:function(r){return this.modelsMap[r]}},{key:"getNodeEdges",value:function(r){for(var a=[],i=0;i<this.edges.length;i++){var c=this.edges[i],h=this.edges[i].sourceNodeId===r,g=this.edges[i].targetNodeId===r;(h||g)&&a.push(c)}return a}},{key:"getSelectElements",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],a=this.selectElements,i={nodes:[],edges:[]};return a.forEach(function(c){if(c.BaseType===Gn.NODE&&i.nodes.push(c.getData()),c.BaseType===Gn.EDGE){var h=c.getData(),g=a.get(h.sourceNodeId)&&a.get(h.targetNodeId);(r||g)&&i.edges.push(h)}}),i}},{key:"updateAttributes",value:function(r,a){this.getElement(r).updateAttributes(a)}},{key:"changeNodeId",value:function(r,a){return a||(a=po()),this.nodesMap[a]?"":this.nodesMap[r]?(this.edges.forEach(function(i){i.sourceNodeId===r&&(i.sourceNodeId=a),i.targetNodeId===r&&(i.targetNodeId=a)}),this.nodesMap[r].model.id=a,this.nodesMap[a]=this.nodesMap[r],a):""}},{key:"changeEdgeId",value:function(r,a){return a||(a=po()),this.edgesMap[a]?"":this.edgesMap[r]?(this.edges.forEach(function(i){i.id===r&&i.changeEdgeId(a)}),a):""}},{key:"setFakerNode",value:function(r){this.fakerNode=r}},{key:"removeFakerNode",value:function(){this.fakerNode=null}},{key:"setModel",value:function(r,a){return this.modelMap.set(r,a)}},{key:"toFront",value:function(r){var a,i,c,h=((a=this.nodesMap[r])===null||a===void 0?void 0:a.model)||((i=this.edgesMap[r])===null||i===void 0?void 0:i.model);h&&(this.overlapMode===Pn.DEFAULT&&((c=this.topElement)===null||c===void 0||c.setZIndex(),h.setZIndex(9999),this.topElement=h),this.overlapMode===Pn.INCREASE&&this.setElementZIndex(r,"top"))}},{key:"setElementZIndex",value:function(r,a){var i,c,h,g=((i=this.nodesMap[r])===null||i===void 0?void 0:i.model)||((c=this.edgesMap[r])===null||c===void 0?void 0:c.model);g&&(typeof a=="number"&&(h=a),a==="top"&&(h=cl()),a==="bottom"&&(h=--rp),g.setZIndex(h))}},{key:"deleteNode",value:function(r){var a=this.nodesMap[r].model.getData();this.deleteEdgeBySource(r),this.deleteEdgeByTarget(r),this.nodes.splice(this.nodesMap[r].index,1),this.eventCenter.emit(ft.NODE_DELETE,{data:a})}},{key:"addNode",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ft.NODE_ADD,i=arguments.length>2?arguments[2]:void 0,c=mn(r);c.id&&this.nodesMap[r.id]&&delete c.id;var h=this.getModel(c.type);if(!h)throw new Error("找不到".concat(c.type,"对应的节点，请确认是否已注册此类型节点。"));c.x=Co(c.x,this.gridSize),c.y=Co(c.y,this.gridSize);var g=new h(c,this);this.nodes.push(g);var x=g.getData(),S={data:x};return i&&(S.e=i),this.eventCenter.emit(a,S),g}},{key:"cloneNode",value:function(r){var a=this.getNodeModelById(r),i=a.getData();i.x+=30,i.y+=30,delete i.id,i.text&&(i.text.x+=30,i.text.y+=30);var c=this.addNode(i);return c.setSelected(!0),a.setSelected(!1),c.getData()}},{key:"moveNode",value:function(r,a,i){var c=arguments.length>3&&arguments[3]!==void 0&&arguments[3],h=this.nodesMap[r];if(h){var g=h.model,x=g.getMoveDistance(a,i,c),S=ti(x,2);a=S[0],i=S[1],this.moveEdge(r,a,i)}}},{key:"moveNode2Coordinate",value:function(r,a,i){var c=arguments.length>3&&arguments[3]!==void 0&&arguments[3],h=this.nodesMap[r];if(h){var g=h.model,x=g.x,S=g.y,D=a-x,R=i-S;this.moveNode(r,D,R,c)}}},{key:"editText",value:function(r){this.setElementStateById(r,un.TEXT_EDIT)}},{key:"addEdge",value:function(r){var a=mn(r),i=a.type;i||(i=this.edgeType),a.id&&this.edgesMap[a.id]&&delete a.id;var c=this.getModel(i);if(!c)throw new Error("找不到".concat(i,"对应的边，请确认是否已注册此类型边。"));var h=new c(vo(vo({},a),{},{type:i}),this),g=h.getData();return this.edges.push(h),this.eventCenter.emit(ft.EDGE_ADD,{data:g}),h}},{key:"moveEdge",value:function(r,a,i){for(var c=0;c<this.edges.length;c++){var h=this.edges[c],g=h.textPosition,x=g.x,S=g.y,D=this.edges[c].sourceNodeId===r,R=this.edges[c].targetNodeId===r;D&&h.moveStartPoint(a,i),R&&h.moveEndPoint(a,i),(D||R)&&this.handleEdgeTextMove(h,x,S)}}},{key:"handleEdgeTextMove",value:function(r,a,i){var c;if(r.customTextPosition===!0)r.resetTextPosition();else if(r.modelType===Yt.POLYLINE_EDGE&&(c=r.text)!==null&&c!==void 0&&c.value){var h=r.text,g=Dl(h,r.points);r.moveText(g.x-h.x,g.y-h.y)}else{var x=r.textPosition,S=x.x,D=x.y;r.moveText(S-a,D-i)}}},{key:"deleteEdgeBySourceAndTarget",value:function(r,a){for(var i=0;i<this.edges.length;i++)if(this.edges[i].sourceNodeId===r&&this.edges[i].targetNodeId===a){var c=this.edges[i].getData();this.edges.splice(i,1),i--,this.eventCenter.emit(ft.EDGE_DELETE,{data:c})}}},{key:"deleteEdgeById",value:function(r){if(this.edgesMap[r]){var a=this.edgesMap[r].index,i=this.edgesMap[r].model.getData();this.edges.splice(a,1),this.eventCenter.emit(ft.EDGE_DELETE,{data:i})}}},{key:"deleteEdgeBySource",value:function(r){for(var a=0;a<this.edges.length;a++)if(this.edges[a].sourceNodeId===r){var i=this.edges[a].getData();this.edges.splice(a,1),a--,this.eventCenter.emit(ft.EDGE_DELETE,{data:i})}}},{key:"deleteEdgeByTarget",value:function(r){for(var a=0;a<this.edges.length;a++)if(this.edges[a].targetNodeId===r){var i=this.edges[a].getData();this.edges.splice(a,1),a--,this.eventCenter.emit(ft.EDGE_DELETE,{data:i})}}},{key:"setElementStateById",value:function(r,a,i){this.nodes.forEach(function(c){c.id===r?c.setElementState(a,i):c.setElementState(un.DEFAULT)}),this.edges.forEach(function(c){c.id===r?c.setElementState(a,i):c.setElementState(un.DEFAULT)})}},{key:"updateText",value:function(r,a){this.nodes.forEach(function(i){i.id===r&&i.updateText(a)}),this.edges.forEach(function(i){i.id===r&&i.updateText(a)})}},{key:"selectNodeById",value:function(r){var a,i=arguments.length>1&&arguments[1]!==void 0&&arguments[1];i||this.clearSelectElements();var c=(a=this.nodesMap[r])===null||a===void 0?void 0:a.model;c==null||c.setSelected(!0)}},{key:"selectEdgeById",value:function(r){var a,i=arguments.length>1&&arguments[1]!==void 0&&arguments[1];i||this.clearSelectElements();var c=(a=this.edgesMap[r])===null||a===void 0?void 0:a.model;c==null||c.setSelected(!0)}},{key:"selectElementById",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0&&arguments[1];a||this.clearSelectElements();var i=this.getElement(r);i==null||i.setSelected(!0)}},{key:"clearSelectElements",value:function(){var r;this.selectElements.forEach(function(a){a==null||a.setSelected(!1)}),this.selectElements.clear(),this.overlapMode===Pn.DEFAULT&&((r=this.topElement)===null||r===void 0||r.setZIndex())}},{key:"moveNodes",value:function(r,a,i){for(var c=this,h=arguments.length>3&&arguments[3]!==void 0&&arguments[3],g=r.reduce(function(Ze,Ke){var bt=c.nodesMap[Ke].model.getMoveDistance(a,i,h);return Ze[Ke]=bt,Ze},{}),x=0;x<this.edges.length;x++){var S=this.edges[x],D=S.textPosition,R=D.x,H=D.y,J=g[S.sourceNodeId],re=void 0,ye=void 0;if(J){var ge=ti(J,2);re=ge[0],ye=ge[1],S.moveStartPoint(re,ye)}var we=g[S.targetNodeId];if(we){var Ce=ti(we,2);re=Ce[0],ye=Ce[1],S.moveEndPoint(re,ye)}(J||we)&&this.handleEdgeTextMove(S,R,H)}}},{key:"addNodeMoveRules",value:function(r){this.nodeMoveRules.includes(r)||this.nodeMoveRules.push(r)}},{key:"setDefaultEdgeType",value:function(r){this.edgeType=r}},{key:"changeNodeType",value:function(r,a){var i=this.getNodeModelById(r);if(i){var c=i.getData();c.type=a;var h=this.getModel(a);if(!h)throw new Error("找不到".concat(a,"对应的节点，请确认是否已注册此类型节点。"));var g=new h(c,this);this.nodes.splice(this.nodesMap[r].index,1,g),this.getNodeEdges(r).forEach(function(x){if(x.sourceNodeId===r){var S=al(g,x.startPoint,g.width,g.height);x.updateStartPoint(S)}if(x.targetNodeId===r){var D=al(g,x.endPoint,g.width,g.height);x.updateEndPoint(D)}})}}},{key:"changeEdgeType",value:function(r,a){var i=this.getEdgeModelById(r);if(i&&i.type!==a){var c=i.getData();c.type=a;var h=this.getModel(a);if(!h)throw new Error("找不到".concat(a,"对应的节点，请确认是否已注册此类型节点。"));delete c.pointsList;var g=new h(c,this);this.edges.splice(this.edgesMap[r].index,1,g)}}},{key:"getNodeIncomingEdge",value:function(r){var a=[];return this.edges.forEach(function(i){i.targetNodeId===r&&a.push(i)}),a}},{key:"getNodeOutgoingEdge",value:function(r){var a=[];return this.edges.forEach(function(i){i.sourceNodeId===r&&a.push(i)}),a}},{key:"getNodeIncomingNode",value:function(r){var a=this,i=[];return this.edges.forEach(function(c){c.targetNodeId===r&&i.push(a.nodesMap[c.sourceNodeId].model)}),i}},{key:"getNodeOutgoingNode",value:function(r){var a=this,i=[];return this.edges.forEach(function(c){c.sourceNodeId===r&&i.push(a.nodesMap[c.targetNodeId].model)}),i}},{key:"setTheme",value:function(r){this.theme=Ou(vo(vo({},this.theme),r))}},{key:"resize",value:function(r,a){this.width=r||this.rootEl.getBoundingClientRect().width,this.height=a||this.rootEl.getBoundingClientRect().height,!this.width||this.height}},{key:"clearData",value:function(){this.nodes=[],this.edges=[]}},{key:"getVirtualRectSize",value:function(){var r=this.nodes,a=[],i=[];r.forEach(function(D){var R=D.x,H=D.y,J=D.width,re=D.height,ye=D.getNodeStyle().strokeWidth,ge=ye===void 0?0:ye,we=R+J/2+ge,Ce=R-J/2-ge,Ze=H+re/2+ge,Ke=H-re/2-ge;a=a.concat([we,Ce].filter(function(bt){return!Number.isNaN(bt)})),i=i.concat([Ze,Ke].filter(function(bt){return!Number.isNaN(bt)}))});var c=Math.min.apply(Math,ni(a)),h=Math.max.apply(Math,ni(a)),g=Math.min.apply(Math,ni(i)),x=h-c||0,S=Math.max.apply(Math,ni(i))-g||0;return{virtualRectWidth:x,virtualRectHeight:S,virtualRectCenterPositionX:c+x/2,virtualRectCenterPositionY:g+S/2}}},{key:"translateCenter",value:function(){var r=this.nodes,a=this.width,i=this.height,c=this.rootEl,h=this.transformModel;if(r.length){var g=a||c.clientWidth,x=i||c.clientHeight,S=this.getVirtualRectSize(),D=S.virtualRectCenterPositionX,R=S.virtualRectCenterPositionY;h.focusOn(D,R,g,x)}}},{key:"fitView",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:20,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:20,i=this.nodes,c=this.width,h=this.height,g=this.rootEl,x=this.transformModel;if(i.length){var S=c||g.clientWidth,D=h||g.clientHeight,R=this.getVirtualRectSize(),H=R.virtualRectWidth,J=R.virtualRectHeight,re=R.virtualRectCenterPositionX,ye=R.virtualRectCenterPositionY,ge=(H+a)/S,we=(J+r)/D,Ce=0;Ce=1/Math.max(ge,we);var Ze=[S/2,D/2];x.zoom(Ce,Ze),x.focusOn(re,ye,S,D)}}},{key:"openEdgeAnimation",value:function(r){this.getEdgeModelById(r).openEdgeAnimation()}},{key:"closeEdgeAnimation",value:function(r){this.getEdgeModelById(r).closeEdgeAnimation()}}],n&&Wc(e.prototype,n),t}(),Ne=vt(Z.prototype,"width",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ue=vt(Z.prototype,"height",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),st=vt(Z.prototype,"edgeType",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),dt=vt(Z.prototype,"nodes",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),jt=vt(Z.prototype,"edges",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Le=vt(Z.prototype,"overlapMode",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Pn.DEFAULT}}),Xe=vt(Z.prototype,"background",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Mt=vt(Z.prototype,"transformModel",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),at=vt(Z.prototype,"editConfigModel",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kt=vt(Z.prototype,"gridSize",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Ct=vt(Z.prototype,"partial",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),$t=vt(Z.prototype,"fakerNode",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vt(Z.prototype,"nodesMap",[d.m],Object.getOwnPropertyDescriptor(Z.prototype,"nodesMap"),Z.prototype),vt(Z.prototype,"edgesMap",[d.m],Object.getOwnPropertyDescriptor(Z.prototype,"edgesMap"),Z.prototype),vt(Z.prototype,"modelsMap",[d.m],Object.getOwnPropertyDescriptor(Z.prototype,"modelsMap"),Z.prototype),vt(Z.prototype,"sortElements",[d.m],Object.getOwnPropertyDescriptor(Z.prototype,"sortElements"),Z.prototype),vt(Z.prototype,"textEditElement",[d.m],Object.getOwnPropertyDescriptor(Z.prototype,"textEditElement"),Z.prototype),vt(Z.prototype,"selectElements",[d.m],Object.getOwnPropertyDescriptor(Z.prototype,"selectElements"),Z.prototype),vt(Z.prototype,"selectNodes",[d.m],Object.getOwnPropertyDescriptor(Z.prototype,"selectNodes"),Z.prototype),vt(Z.prototype,"setFakerNode",[d.k],Object.getOwnPropertyDescriptor(Z.prototype,"setFakerNode"),Z.prototype),vt(Z.prototype,"removeFakerNode",[d.k],Object.getOwnPropertyDescriptor(Z.prototype,"removeFakerNode"),Z.prototype),vt(Z.prototype,"setModel",[d.k],Object.getOwnPropertyDescriptor(Z.prototype,"setModel"),Z.prototype),vt(Z.prototype,"toFront",[d.k],Object.getOwnPropertyDescriptor(Z.prototype,"toFront"),Z.prototype),vt(Z.prototype,"setElementZIndex",[d.k],Object.getOwnPropertyDescriptor(Z.prototype,"setElementZIndex"),Z.prototype),vt(Z.prototype,"deleteNode",[d.k],Object.getOwnPropertyDescriptor(Z.prototype,"deleteNode"),Z.prototype),vt(Z.prototype,"addNode",[d.k],Object.getOwnPropertyDescriptor(Z.prototype,"addNode"),Z.prototype),vt(Z.prototype,"cloneNode",[d.k],Object.getOwnPropertyDescriptor(Z.prototype,"cloneNode"),Z.prototype),vt(Z.prototype,"moveNode",[d.k],Object.getOwnPropertyDescriptor(Z.prototype,"moveNode"),Z.prototype),vt(Z.prototype,"moveNode2Coordinate",[d.k],Object.getOwnPropertyDescriptor(Z.prototype,"moveNode2Coordinate"),Z.prototype),vt(Z.prototype,"editText",[d.k],Object.getOwnPropertyDescriptor(Z.prototype,"editText"),Z.prototype),vt(Z.prototype,"addEdge",[d.k],Object.getOwnPropertyDescriptor(Z.prototype,"addEdge"),Z.prototype),vt(Z.prototype,"moveEdge",[d.k],Object.getOwnPropertyDescriptor(Z.prototype,"moveEdge"),Z.prototype),vt(Z.prototype,"deleteEdgeBySourceAndTarget",[d.k],Object.getOwnPropertyDescriptor(Z.prototype,"deleteEdgeBySourceAndTarget"),Z.prototype),vt(Z.prototype,"deleteEdgeById",[d.k],Object.getOwnPropertyDescriptor(Z.prototype,"deleteEdgeById"),Z.prototype),vt(Z.prototype,"deleteEdgeBySource",[d.k],Object.getOwnPropertyDescriptor(Z.prototype,"deleteEdgeBySource"),Z.prototype),vt(Z.prototype,"deleteEdgeByTarget",[d.k],Object.getOwnPropertyDescriptor(Z.prototype,"deleteEdgeByTarget"),Z.prototype),vt(Z.prototype,"setElementStateById",[d.k],Object.getOwnPropertyDescriptor(Z.prototype,"setElementStateById"),Z.prototype),vt(Z.prototype,"updateText",[d.k],Object.getOwnPropertyDescriptor(Z.prototype,"updateText"),Z.prototype),vt(Z.prototype,"selectNodeById",[d.k],Object.getOwnPropertyDescriptor(Z.prototype,"selectNodeById"),Z.prototype),vt(Z.prototype,"selectEdgeById",[d.k],Object.getOwnPropertyDescriptor(Z.prototype,"selectEdgeById"),Z.prototype),vt(Z.prototype,"selectElementById",[d.k],Object.getOwnPropertyDescriptor(Z.prototype,"selectElementById"),Z.prototype),vt(Z.prototype,"clearSelectElements",[d.k],Object.getOwnPropertyDescriptor(Z.prototype,"clearSelectElements"),Z.prototype),vt(Z.prototype,"moveNodes",[d.k],Object.getOwnPropertyDescriptor(Z.prototype,"moveNodes"),Z.prototype),vt(Z.prototype,"setDefaultEdgeType",[d.k],Object.getOwnPropertyDescriptor(Z.prototype,"setDefaultEdgeType"),Z.prototype),vt(Z.prototype,"changeNodeType",[d.k],Object.getOwnPropertyDescriptor(Z.prototype,"changeNodeType"),Z.prototype),vt(Z.prototype,"changeEdgeType",[d.k],Object.getOwnPropertyDescriptor(Z.prototype,"changeEdgeType"),Z.prototype),vt(Z.prototype,"getNodeIncomingEdge",[d.k],Object.getOwnPropertyDescriptor(Z.prototype,"getNodeIncomingEdge"),Z.prototype),vt(Z.prototype,"getNodeOutgoingEdge",[d.k],Object.getOwnPropertyDescriptor(Z.prototype,"getNodeOutgoingEdge"),Z.prototype),vt(Z.prototype,"getNodeIncomingNode",[d.k],Object.getOwnPropertyDescriptor(Z.prototype,"getNodeIncomingNode"),Z.prototype),vt(Z.prototype,"getNodeOutgoingNode",[d.k],Object.getOwnPropertyDescriptor(Z.prototype,"getNodeOutgoingNode"),Z.prototype),vt(Z.prototype,"setTheme",[d.k],Object.getOwnPropertyDescriptor(Z.prototype,"setTheme"),Z.prototype),vt(Z.prototype,"resize",[d.k],Object.getOwnPropertyDescriptor(Z.prototype,"resize"),Z.prototype),vt(Z.prototype,"clearData",[d.k],Object.getOwnPropertyDescriptor(Z.prototype,"clearData"),Z.prototype),vt(Z.prototype,"translateCenter",[d.k],Object.getOwnPropertyDescriptor(Z.prototype,"translateCenter"),Z.prototype),vt(Z.prototype,"fitView",[d.k],Object.getOwnPropertyDescriptor(Z.prototype,"fitView"),Z.prototype),vt(Z.prototype,"openEdgeAnimation",[d.k],Object.getOwnPropertyDescriptor(Z.prototype,"openEdgeAnimation"),Z.prototype),vt(Z.prototype,"closeEdgeAnimation",[d.k],Object.getOwnPropertyDescriptor(Z.prototype,"closeEdgeAnimation"),Z.prototype),Z),Kc=Bu;function lh(t){return lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lh(t)}function fh(){return fh=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fh.apply(this,arguments)}function J0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ph(t,e){return ph=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},ph(t,e)}function Q0(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Sp(t);if(e){var a=Sp(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return e_(this,n)}}function e_(t,e){if(e&&(lh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ei(t)}function Ei(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Sp(t){return Sp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Sp(t)}function $i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var cg,t_=ui(zu=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&ph(i,c)})(a,t);var e,n,r=Q0(a);function a(i){var c;(function(S,D){if(!(S instanceof D))throw new TypeError("Cannot call a class as a function")})(this,a),$i(Ei(c=r.call(this)),"stepDrag",void 0),$i(Ei(c),"stepScrollX",0),$i(Ei(c),"stepScrollY",0),$i(Ei(c),"onDragging",function(S){var D=S.deltaX,R=S.deltaY;c.setState({isDragging:!0});var H=c.props.graphModel,J=H.transformModel;H.editConfigModel.stopMoveGraph!==!0&&J.translate(D,R)}),$i(Ei(c),"onDragEnd",function(){c.setState({isDragging:!1})}),$i(Ei(c),"zoomHandler",function(S){var D=c.props,R=D.graphModel,H=R.editConfigModel,J=R.transformModel,re=R.gridSize,ye=D.graphModel,ge=S.deltaX,we=S.deltaY;if(H.stopScrollGraph||S.ctrlKey===!0){if(!H.stopZoomGraph){S.preventDefault();var Ce=ye.getPointByClient({x:S.clientX,y:S.clientY}).canvasOverlayPosition,Ze=Ce.x,Ke=Ce.y;J.zoom(S.deltaY<0,[Ze,Ke])}}else{if(S.preventDefault(),c.stepScrollX+=ge,c.stepScrollY+=we,Math.abs(c.stepScrollX)>=re){var bt=c.stepScrollX%re,qe=c.stepScrollX-bt;J.translate(-qe*J.SCALE_X,0),c.stepScrollX=bt}if(Math.abs(c.stepScrollY)>=re){var pt=c.stepScrollY%re,et=c.stepScrollY-pt;J.translate(0,-et*J.SCALE_Y),c.stepScrollY=pt}}}),$i(Ei(c),"clickHandler",function(S){if(S.target.getAttribute("name")==="canvas-overlay"){var D=c.props.graphModel;D.selectElements.size>0&&D.clearSelectElements(),D.eventCenter.emit(ft.BLANK_CLICK,{e:S})}}),$i(Ei(c),"handleContextMenu",function(S){if(S.target.getAttribute("name")==="canvas-overlay"){S.preventDefault();var D=c.props.graphModel,R=D.getPointByClient({x:S.clientX,y:S.clientY});D.eventCenter.emit(ft.BLANK_CONTEXTMENU,{e:S,position:R})}}),$i(Ei(c),"mouseDownHandler",function(S){var D=c.props.graphModel,R=D.eventCenter,H=D.editConfigModel,J=D.transformModel.SCALE_X,re=D.gridSize,ye=S.target,ge=!H.adjustEdge&&!H.adjustNodePosition;(ye.getAttribute("name")==="canvas-overlay"||ge)&&(H.stopMoveGraph!==!0?(c.stepDrag.setStep(re*J),c.stepDrag.handleMouseDown(S)):R.emit(ft.BLANK_MOUSEDOWN,{e:S}),c.clickHandler(S))});var h=i.graphModel,g=h.gridSize,x=h.eventCenter;return c.stepDrag=new ho({onDragging:c.onDragging,onDragEnd:c.onDragEnd,step:g,eventType:"BLANK",isStopPropagation:!1,eventCenter:x,model:null}),c.state={isDragging:!1},c}return e=a,(n=[{key:"render",value:function(){var i=this.props.graphModel.transformModel.getTransformStyle().transform,c=this.props,h=c.children,g=c.dnd,x=this.state.isDragging;return Object(fe.g)("svg",fh({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",name:"canvas-overlay",onWheel:this.zoomHandler,onMouseDown:this.mouseDownHandler,onContextMenu:this.handleContextMenu,className:x?"lf-canvas-overlay lf-dragging":"lf-canvas-overlay lf-drag-able"},g.eventMap()),Object(fe.g)("g",{transform:i},h))}}])&&J0(e.prototype,n),a}(fe.a))||zu;function dh(t){return dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dh(t)}function n_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function hh(t,e){return hh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},hh(t,e)}function o_(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=jp(t);if(e){var a=jp(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return i_(this,n)}}function i_(t,e){if(e&&(dh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function jp(t){return jp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},jp(t)}var a_=ui(cg=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&hh(i,c)})(a,t);var e,n,r=o_(a);function a(){return n_(this,a),r.apply(this,arguments)}return e=a,(n=[{key:"componentDidMount",value:function(){this.triggerToolRender()}},{key:"componentDidUpdate",value:function(){this.triggerToolRender()}},{key:"getTools",value:function(){var i=this.props,c=i.tool,h=i.graphModel,g=c.getTools().map(function(x){return Object(fe.g)(x,{graphModel:h,logicFlow:c.instance})});return c.components=g,g}},{key:"triggerToolRender",value:function(){var i=this.props,c=i.tool,h=i.graphModel,g=document.querySelector("#ToolOverlay_".concat(h.flowId)),x=c.getInstance();x.components.forEach(function(S){return S(x,g)}),x.components=[]}},{key:"render",value:function(){var i=this.props.graphModel;return Object(fe.g)("div",{className:"lf-tool-overlay",id:"ToolOverlay_".concat(i.flowId)},this.getTools())}}])&&r_(e.prototype,n),a}(fe.a))||cg;function yh(t){return yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yh(t)}function u_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vh(t,e){return vh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},vh(t,e)}function s_(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Pp(t);if(e){var a=Pp(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return l_(this,n)}}function l_(t,e){if(e&&(yh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Pp(t){return Pp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Pp(t)}var sg,f_=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&vh(i,c)})(a,t);var e,n,r=s_(a);function a(){return u_(this,a),r.apply(this,arguments)}return e=a,(n=[{key:"render",value:function(){var i=this.props.background;return Object(fe.g)("div",{className:"lf-background"},Object(fe.g)("div",{style:i,className:"lf-background-area"}))}}])&&c_(e.prototype,n),a}(fe.a);function gh(t){return gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gh(t)}function p_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function mh(t,e){return mh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},mh(t,e)}function h_(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Ap(t);if(e){var a=Ap(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return y_(this,n)}}function y_(t,e){if(e&&(gh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lg(t)}function lg(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ap(t){return Ap=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ap(t)}function v_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var fg=ui(sg=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&mh(i,c)})(a,t);var e,n,r=h_(a);function a(){var i;p_(this,a);for(var c=arguments.length,h=new Array(c),g=0;g<c;g++)h[g]=arguments[g];return v_(lg(i=r.call.apply(r,[this].concat(h))),"id",po()),i}return e=a,(n=[{key:"renderDot",value:function(){var i=this.props,c=i.config,h=c.color,g=c.thickness,x=g===void 0?2:g,S=i.size,D=i.visible,R=Math.min(Math.max(2,x),S/2),H=1;return D||(H=0),Object(fe.g)("rect",{width:R,height:R,rx:R/2,ry:R/2,fill:h,opacity:H})}},{key:"renderMesh",value:function(){var i=this.props,c=i.config,h=c.color,g=c.thickness,x=g===void 0?1:g,S=i.size,D=i.visible,R=Math.min(Math.max(1,x),S/2),H="M ".concat(S," 0 H0 M0 0 V0 ").concat(S),J=1;return D||(J=0),Object(fe.g)("path",{d:H,stroke:h,strokeWidth:R,opacity:J})}},{key:"render",value:function(){var i=this.props,c=i.type,h=i.size,g=i.graphModel.transformModel,x=[g.SCALE_X,g.SKEW_Y,g.SKEW_X,g.SCALE_Y,g.TRANSLATE_X,g.TRANSLATE_Y].join(","),S="matrix(".concat(x,")");return Object(fe.g)("div",{className:"lf-grid"},Object(fe.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},Object(fe.g)("defs",null,Object(fe.g)("pattern",{id:this.id,patternUnits:"userSpaceOnUse",patternTransform:S,x:"0",y:"0",width:h,height:h},c==="dot"&&this.renderDot(),c==="mesh"&&this.renderMesh())),Object(fe.g)("rect",{width:"100%",height:"100%",fill:"url(#".concat(this.id,")")})))}}])&&d_(e.prototype,n),a}(fe.a))||sg;fg.defaultProps={size:20,visible:!0,type:"dot",config:{color:"#ababab",thickness:1}},o(53);function bh(t){return bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bh(t)}function g_(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(S){x=!0,c=S}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||function(n,r){if(n){if(typeof n=="string")return pg(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return pg(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function pg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var dg,$c=function(t){var e={x1:10,y1:10,x2:20,y2:20,stroke:"black"};return Object.entries(t).forEach(function(n){var r=g_(n,2),a=r[0],i=r[1];(a==="style"||bh(i)!=="object")&&(e[a]=i)}),Object(fe.g)("line",e)};function _h(t){return _h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_h(t)}function hg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Mp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hg(Object(n),!0).forEach(function(r){m_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hg(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function m_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function __(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Oh(t,e){return Oh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Oh(t,e)}function O_(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=kp(t);if(e){var a=kp(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return w_(this,n)}}function w_(t,e){if(e&&(_h(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function kp(t){return kp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},kp(t)}var yg,x_=ui(dg=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Oh(i,c)})(a,t);var e,n,r=O_(a);function a(){return b_(this,a),r.apply(this,arguments)}return e=a,(n=[{key:"render",value:function(){var i=this.props.snaplineModel,c=i.position,h=i.isShowHorizontal,g=i.isShowVertical,x=i.getStyle(),S=c.x,D=S===void 0?0:S,R=c.y,H=R===void 0?0:R,J=Mp(Mp({x1:-1e5,y1:H,x2:1e5,y2:H},x),{},{stroke:h?x.stroke:"none"}),re=Mp(Mp({x1:D,y1:-1e5,x2:D,y2:1e5},x),{},{stroke:g?x.stroke:"none"});return Object(fe.g)("g",{className:"lf-snapline"},Object(fe.g)($c,J),Object(fe.g)($c,re))}}])&&__(e.prototype,n),a}(fe.a))||dg;function wh(t){return wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wh(t)}function E_(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(S){x=!0,c=S}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||function(n,r){if(n){if(typeof n=="string")return vg(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return vg(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function vg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function La(t){var e=t.x,n=t.y,r=t.width,a=t.height,i=t.className,c=t.radius,h=e-r/2,g=n-a/2,x={};return Object.entries(t).forEach(function(S){var D=E_(S,2),R=D[0],H=D[1];wh(H)!=="object"&&(x[R]=H)}),x.className=i?"lf-basic-shape ".concat(i):"lf-basic-shape",c&&(x.rx=c,x.ry=c),x.x=h,x.y=g,Object(fe.g)("rect",x)}function xh(t){return xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xh(t)}function Zc(){return Zc=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zc.apply(this,arguments)}function gg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function mg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gg(Object(n),!0).forEach(function(r){S_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gg(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function S_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function j_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function P_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Eh(t,e){return Eh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Eh(t,e)}function A_(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Tp(t);if(e){var a=Tp(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return M_(this,n)}}function M_(t,e){if(e&&(xh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Tp(t){return Tp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Tp(t)}La.defaultProps={className:"",radius:""};var bg,k_=ui(yg=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Eh(i,c)})(a,t);var e,n,r=A_(a);function a(){return j_(this,a),r.apply(this,arguments)}return e=a,(n=[{key:"getNodesOutline",value:function(){var i=this.props.graphModel,c=i.nodes,h=i.editConfigModel,g=h.hoverOutline,x=h.nodeSelectedOutline,S=[];return c.forEach(function(D){if(D.isHovered||D.isSelected){var R=D.isHovered,H=D.isSelected,J=D.x,re=D.y,ye=D.width,ge=D.height;if(x&&H||g&&R){var we=D.getOutlineStyle(),Ce={};if(Object.keys(we).forEach(function(Ke){Ke!=="hover"&&(Ce[Ke]=we[Ke])}),R){var Ze=we.hover;Ce=mg(mg({},Ce),Ze)}S.push(Object(fe.g)(La,Zc({transform:D.transform,className:"lf-outline-node",x:J,y:re,width:ye+10,height:ge+10},Ce)))}}}),S}},{key:"getEdgeOutline",value:function(){for(var i=this.props.graphModel,c=i.edges,h=i.editConfigModel,g=h.edgeSelectedOutline,x=h.hoverOutline,S=[],D=0;D<c.length;D++){var R=c[D];(g&&R.isSelected||x&&R.isHovered)&&(R.modelType===Yt.LINE_EDGE?S.push(this.getLineOutline(R)):R.modelType===Yt.POLYLINE_EDGE?S.push(this.getPolylineOutline(R)):R.modelType===Yt.BEZIER_EDGE&&S.push(this.getBezierOutline(R)))}return S}},{key:"getLineOutline",value:function(i){var c=i.startPoint,h=i.endPoint,g=(c.x+h.x)/2,x=(c.y+h.y)/2,S=Math.abs(c.x-h.x)+10,D=Math.abs(c.y-h.y)+10,R=i.getOutlineStyle();return Object(fe.g)(La,Zc({className:"lf-outline-edge",x:g,y:x,width:S,height:D},R))}},{key:"getPolylineOutline",value:function(i){var c=i.points,h=wi(c),g=Na(h,8),x=g.x,S=g.y,D=g.width,R=g.height,H=i.getOutlineStyle();return Object(fe.g)(La,Zc({className:"lf-outline",x,y:S,width:D,height:R},H))}},{key:"getBezierOutline",value:function(i){var c=i.path,h=Fc(c),g=Na(h,8),x=g.x,S=g.y,D=g.width,R=g.height,H=i.getOutlineStyle();return Object(fe.g)(La,Zc({className:"lf-outline",x,y:S,width:D,height:R},H))}},{key:"render",value:function(){return Object(fe.g)("g",{className:"lf-outline"},this.getNodesOutline(),this.getEdgeOutline())}}])&&P_(e.prototype,n),a}(fe.a))||yg;function Sh(t){return Sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sh(t)}function T_(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(S){x=!0,c=S}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||function(n,r){if(n){if(typeof n=="string")return _g(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _g(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function _g(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qc(t){var e=t.x,n=e===void 0?0:e,r=t.y,a=r===void 0?0:r,i=t.r,c=i===void 0?4:i,h=t.className,g={cx:n,cy:a,r:c,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(t).forEach(function(x){var S=T_(x,2),D=S[0],R=S[1];Sh(R)!=="object"&&(g[D]=R)}),g.className=h?"lf-basic-shape ".concat(h):"lf-basic-shape",Object(fe.g)("circle",g)}function jh(t){return jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jh(t)}function D_(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(S){x=!0,c=S}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Og(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Og(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Og(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Yl(){return Yl=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yl.apply(this,arguments)}function wg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Eg(t,e,n){return e&&xg(t.prototype,e),n&&xg(t,n),t}function Sg(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ph(t,e)}function Ph(t,e){return Ph=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ph(t,e)}function jg(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Np(t);if(e){var a=Np(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return N_(this,n)}}function N_(t,e){if(e&&(jh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dp(t)}function Dp(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Np(t){return Np=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Np(t)}function Ah(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Pg,Ag=function(t){Sg(n,t);var e=jg(n);function n(){var r;return wg(this,n),Ah(Dp(r=e.call(this)),"dragHandler",void 0),Ah(Dp(r),"onDragging",function(a){var i=a.event,c=r.props,h=c.graphModel,g=c.bezierModel,x=c.type,S=h.getPointByClient({x:i.clientX,y:i.clientY}).canvasOverlayPosition,D=S.x,R=S.y;g.updateAdjustAnchor({x:D,y:R},x),h.eventCenter.emit(ft.EDGE_ADJUST,{data:g.getData()})}),Ah(Dp(r),"onDragEnd",function(){r.props.bezierModel.isDragging=!1}),r.dragHandler=new ho({onDragging:r.onDragging,onDragEnd:r.onDragEnd}),r}return Eg(n,[{key:"render",value:function(){var r=this,a=this.props.position,i=a.x,c=a.y,h=this.props.bezierModel.getEdgeStyle().adjustAnchor;return Object(fe.g)(qc,Yl({className:"lf-bezier-adjust-anchor",x:i,y:c},h,{onMouseDown:function(g){r.dragHandler.handleMouseDown(g)}}))}}]),n}(fe.a),C_=ui(bg=function(t){Sg(n,t);var e=jg(n);function n(){return wg(this,n),e.apply(this,arguments)}return Eg(n,[{key:"getBezierAdjust",value:function(r,a){var i=r.path,c=r.id,h=D_(Fc(i),4),g=h[0],x=h[1],S=h[2],D=h[3],R=r.getEdgeStyle().adjustLine,H=[];return H.push(Object(fe.g)($c,Yl({x1:g.x,y1:g.y,x2:x.x,y2:x.y},R))),H.push(Object(fe.g)(Ag,{position:x,bezierModel:r,graphModel:a,key:"".concat(c,"_ePre"),type:"sNext"})),H.push(Object(fe.g)($c,Yl({x1:D.x,y1:D.y,x2:S.x,y2:S.y},R))),H.push(Object(fe.g)(Ag,{position:S,bezierModel:r,graphModel:a,key:"".concat(c,"_sNext"),type:"ePre"})),H}},{key:"selectedBezierEdge",value:function(){for(var r=this.props.graphModel,a=r.edges,i=[],c=0;c<a.length;c++){var h=a[c];h.isSelected&&h.modelType===Yt.BEZIER_EDGE&&h.draggable&&i.push(this.getBezierAdjust(h,r))}return i}},{key:"render",value:function(){return Object(fe.g)("g",{className:"lf-bezier-adjust"},this.selectedBezierEdge())}}]),n}(fe.a))||bg;function Mh(t){return Mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mh(t)}function R_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function I_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function kh(t,e){return kh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},kh(t,e)}function L_(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Cp(t);if(e){var a=Cp(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return z_(this,n)}}function z_(t,e){if(e&&(Mh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Cp(t){return Cp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Cp(t)}var Mg,B_=ui(Pg=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&kh(i,c)})(a,t);var e,n,r=L_(a);function a(){return R_(this,a),r.apply(this,arguments)}return e=a,(n=[{key:"render",value:function(){var i=this.props.graphModel.transformModel.getTransformStyle().transform,c=this.props.children;return Object(fe.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%",className:"modification-overlay"},Object(fe.g)("g",{transform:i},c))}}])&&I_(e.prototype,n),a}(fe.a))||Pg;function Th(t){return Th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Th(t)}function Dh(){return Dh=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dh.apply(this,arguments)}function F_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function U_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Nh(t,e){return Nh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Nh(t,e)}function G_(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Rp(t);if(e){var a=Rp(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return X_(this,n)}}function X_(t,e){if(e&&(Th(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Rp(t){return Rp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Rp(t)}var H_=ui(Mg=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Nh(i,c)})(a,t);var e,n,r=G_(a);function a(){return F_(this,a),r.apply(this,arguments)}return e=a,n=[{key:"getComponent",value:function(i,c){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"canvas-overlay",g=this.props.getView,x=g(i.type);return Object(fe.g)(x,{key:i.id,model:i,graphModel:c,overlay:h})}},{key:"render",value:function(){var i=this,c=this.props,h=c.graphModel,g=c.tool,x=c.options,S=c.dnd,D=c.snaplineModel,R={};x.width&&(R.width="".concat(h.width,"px")),x.height&&(R.height="".concat(h.height,"px"));var H=x.grid,J=h.fakerNode,re=h.editConfigModel.adjustEdge;return Object(fe.g)("div",{className:"lf-graph","flow-id":h.flowId,style:R},Object(fe.g)(t_,{graphModel:h,dnd:S},Object(fe.g)("g",{className:"lf-base"},ac(h.sortElements,function(ye){return i.getComponent(ye,h)})),J?this.getComponent(J,h):""),Object(fe.g)(B_,{graphModel:h},Object(fe.g)(k_,{graphModel:h}),re?Object(fe.g)(C_,{graphModel:h}):"",x.snapline!==!1?Object(fe.g)(x_,{snaplineModel:D}):""),Object(fe.g)(a_,{graphModel:h,tool:g}),x.background&&Object(fe.g)(f_,{background:x.background}),x.grid&&Object(fe.g)(fg,Dh({},H,{graphModel:h})))}}],n&&U_(e.prototype,n),a}(fe.a))||Mg,Y_=H_;function kg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Ip(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kg(Object(n),!0).forEach(function(r){Zi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kg(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function V_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Zi(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var W_=function(){function t(r){var a=this;(function(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")})(this,t),Zi(this,"nodeConfig",void 0),Zi(this,"lf",void 0),Zi(this,"fakerNode",void 0),Zi(this,"stopDrag",function(){a.nodeConfig=null,window.document.removeEventListener("mouseup",a.stopDrag)}),Zi(this,"dragEnter",function(c){a.nodeConfig&&!a.fakerNode&&(a.fakerNode=a.lf.createFakerNode(Ip(Ip({},a.nodeConfig),a.clientToLocalPoint({x:c.clientX,y:c.clientY}))))}),Zi(this,"onDragOver",function(c){if(c.preventDefault(),a.fakerNode){var h=a.clientToLocalPoint({x:c.clientX,y:c.clientY}),g=h.x,x=h.y;a.fakerNode.moveTo(g,x);var S=a.fakerNode.getData();a.lf.setNodeSnapLine(S),a.lf.graphModel.eventCenter.emit(ft.NODE_DND_DRAG,{data:S})}return!1}),Zi(this,"onDragLeave",function(){a.fakerNode&&(a.lf.removeNodeSnapLine(),a.lf.graphModel.removeFakerNode(),a.fakerNode=null)}),Zi(this,"onDrop",function(c){a.lf.graphModel&&c&&a.nodeConfig&&(a.lf.addNode(Ip(Ip({},a.nodeConfig),a.clientToLocalPoint({x:c.clientX,y:c.clientY})),ft.NODE_DND_ADD,c),c.preventDefault(),c.stopPropagation(),a.nodeConfig=null,a.lf.removeNodeSnapLine(),a.lf.graphModel.removeFakerNode(),a.fakerNode=null)});var i=r.lf;this.lf=i}var e,n;return e=t,(n=[{key:"clientToLocalPoint",value:function(r){var a=r.x,i=r.y,c=hu(this.lf.options,["grid","size"]),h=this.lf.graphModel.getPointByClient({x:a,y:i}).canvasOverlayPosition,g=h.x,x=h.y;return{x:Co(g,c),y:Co(x,c)}}},{key:"startDrag",value:function(r){var a=this.lf.graphModel.editConfigModel;a!=null&&a.isSilentMode||(this.nodeConfig=r,window.document.addEventListener("mouseup",this.stopDrag))}},{key:"eventMap",value:function(){return{onMouseEnter:this.dragEnter,onMouseOver:this.dragEnter,onMouseMove:this.onDragOver,onMouseLeave:this.onDragLeave,onMouseUp:this.onDrop}}}])&&V_(e.prototype,n),t}();function Tg(t){var e=t.container,n=t.grid,r=t.width,a=t.height;if(!e)throw new Error("请检查 container 参数是否有效");if(typeof r=="string"||typeof a=="string")throw new Error("width或height不支持传入字符串，请传数字");return n&&(t.grid=er({size:20,type:"dot",visible:!0,config:{color:"#ababab",thickness:1}},n)),er({},Ng,t)}var ln,Dg,Ng={background:!1,grid:!1,textEdit:!0,disabledTools:[]};function Ch(t){return Ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ch(t)}function Rh(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(S){x=!0,c=S}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Cg(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Cg(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Cg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Rg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Lp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Rg(Object(n),!0).forEach(function(r){Ig(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rg(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function K_(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function $_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Z_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Vl(){return Vl=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=q_(t,e);if(r){var a=Object.getOwnPropertyDescriptor(r,e);return a.get?a.get.call(arguments.length<3?t:n):a.value}},Vl.apply(this,arguments)}function q_(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=za(t))!==null;);return t}function Ih(t,e){return Ih=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ih(t,e)}function J_(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=za(t);if(e){var a=za(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Q_(this,n)}}function Q_(t,e){if(e&&(Ch(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zp(t)}function zp(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function za(t){return za=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},za(t)}function Ig(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oi(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,h){return h(t,e,c)||c},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}var Lh=(ln=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Ih(i,c)})(a,t);var e,n,r=J_(a);function a(){var i;$_(this,a);for(var c=arguments.length,h=new Array(c),g=0;g<c;g++)h[g]=arguments[g];return Ig(zp(i=r.call.apply(r,[this].concat(h))),"modelType",Yt.BEZIER_EDGE),K_(zp(i),"path",Dg,zp(i)),i}return e=a,(n=[{key:"initEdgeData",value:function(i){this.offset=100,Vl(za(a.prototype),"initEdgeData",this).call(this,i)}},{key:"getEdgeStyle",value:function(){var i=this.graphModel.theme.bezier;return Lp(Lp({},Vl(za(a.prototype),"getEdgeStyle",this).call(this)),wn(i))}},{key:"getTextPosition",value:function(){if(this.pointsList&&this.pointsList.length>0){var i=0,c=0;return this.pointsList.forEach(function(h){var g=h.x,x=h.y;i+=g,c+=x}),{x:i/this.pointsList.length,y:c/this.pointsList.length}}return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}},{key:"getData",value:function(){var i=Vl(za(a.prototype),"getData",this).call(this),c=this.pointsList.map(function(h){return{x:h.x,y:h.y}});return Lp(Lp({},i),{},{pointsList:c})}},{key:"getControls",value:function(){var i=this.startPoint,c=this.endPoint;return xi({start:i,end:c,sourceNode:this.sourceNode,targetNode:this.targetNode,offset:this.offset})}},{key:"getPath",value:function(i){var c=Rh(i,4),h=c[0],g=c[1],x=c[2],S=c[3];return"M ".concat(h.x," ").concat(h.y,`
    C `).concat(g.x," ").concat(g.y,`,
    `).concat(x.x," ").concat(x.y,`,
    `).concat(S.x," ").concat(S.y)}},{key:"initPoints",value:function(){this.pointsList.length>0?this.path=this.getPath(this.pointsList):this.updatePoints()}},{key:"updatePoints",value:function(){var i=this.getControls(),c=i.sNext,h=i.ePre;this.updatePath(c,h)}},{key:"updatePath",value:function(i,c){i=wn(i),c=wn(c);var h={x:this.startPoint.x,y:this.startPoint.y},g={x:this.endPoint.x,y:this.endPoint.y};if(!i||!c){var x=this.getControls();i=x.sNext,c=x.ePre}this.pointsList=[h,i,c,g],this.path=this.getPath(this.pointsList)}},{key:"updateStartPoint",value:function(i){this.startPoint=i,this.updatePoints()}},{key:"updateEndPoint",value:function(i){this.endPoint=i,this.updatePoints()}},{key:"moveStartPoint",value:function(i,c){this.startPoint.x+=i,this.startPoint.y+=c;var h=Rh(this.pointsList,3),g=h[1],x=h[2];g.x+=i,g.y+=c,this.updatePath(g,x)}},{key:"moveEndPoint",value:function(i,c){this.endPoint.x+=i,this.endPoint.y+=c;var h=Rh(this.pointsList,3),g=h[1],x=h[2];x.x+=i,x.y+=c,this.updatePath(g,x)}},{key:"updateAdjustAnchor",value:function(i,c){c==="sNext"?this.pointsList[1]=i:c==="ePre"&&(this.pointsList[2]=i),this.path=this.getPath(this.pointsList),this.setText(Object.assign({},this.text,this.textPosition))}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var i=this.pointsList;return i[i.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(i){var c=i.startPoint,h=i.endPoint,g=i.sourceNode,x=i.targetNode,S=xi({start:c,end:h,sourceNode:g,targetNode:x,offset:this.offset}),D=S.sNext,R=S.ePre;this.pointsList=[c,D,R,h],this.initPoints()}}])&&Z_(e.prototype,n),a}(ll),Dg=oi(ln.prototype,"path",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),oi(ln.prototype,"initPoints",[d.k],Object.getOwnPropertyDescriptor(ln.prototype,"initPoints"),ln.prototype),oi(ln.prototype,"updatePoints",[d.k],Object.getOwnPropertyDescriptor(ln.prototype,"updatePoints"),ln.prototype),oi(ln.prototype,"updateStartPoint",[d.k],Object.getOwnPropertyDescriptor(ln.prototype,"updateStartPoint"),ln.prototype),oi(ln.prototype,"updateEndPoint",[d.k],Object.getOwnPropertyDescriptor(ln.prototype,"updateEndPoint"),ln.prototype),oi(ln.prototype,"moveStartPoint",[d.k],Object.getOwnPropertyDescriptor(ln.prototype,"moveStartPoint"),ln.prototype),oi(ln.prototype,"moveEndPoint",[d.k],Object.getOwnPropertyDescriptor(ln.prototype,"moveEndPoint"),ln.prototype),oi(ln.prototype,"updateAdjustAnchor",[d.k],Object.getOwnPropertyDescriptor(ln.prototype,"updateAdjustAnchor"),ln.prototype),oi(ln.prototype,"getAdjustStart",[d.k],Object.getOwnPropertyDescriptor(ln.prototype,"getAdjustStart"),ln.prototype),oi(ln.prototype,"getAdjustEnd",[d.k],Object.getOwnPropertyDescriptor(ln.prototype,"getAdjustEnd"),ln.prototype),oi(ln.prototype,"updateAfterAdjustStartAndEnd",[d.k],Object.getOwnPropertyDescriptor(ln.prototype,"updateAfterAdjustStartAndEnd"),ln.prototype),ln),He,Lg,zg,Bg,Fg,Ug,Gg,Xg,Hg,Yg,Vg,Wg,Kg,$g,Zg,qg,Jg,Qg,em,tm,nm,rm,om,e1=function(t){return t==null};function t1(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(S){x=!0,c=S}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||im(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function zh(t){return zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zh(t)}function im(t,e){if(t){if(typeof t=="string")return am(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?am(t,e):void 0}}function am(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function um(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Wr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?um(Object(n),!0).forEach(function(r){ro(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):um(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qn(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function n1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ro(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xt(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,h){return h(t,e,c)||c},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}var qi,cm,Ji=(He=function(){function t(r,a){(function(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,t),ro(this,"id",""),qn(this,"type",Lg,this),qn(this,"x",zg,this),qn(this,"y",Bg,this),qn(this,"text",Fg,this),qn(this,"properties",Ug,this),qn(this,"_width",Gg,this),qn(this,"_height",Xg,this),qn(this,"anchorsOffset",Hg,this),qn(this,"isSelected",Yg,this),qn(this,"isHovered",Vg,this),qn(this,"isShowAnchor",Wg,this),qn(this,"isDragging",Kg,this),qn(this,"isHitable",$g,this),qn(this,"draggable",Zg,this),qn(this,"visible",qg,this),qn(this,"enableRotate",Jg,this),ro(this,"virtual",!1),ro(this,"graphModel",void 0),qn(this,"zIndex",Qg,this),qn(this,"state",em,this),qn(this,"autoToFront",tm,this),qn(this,"style",nm,this),qn(this,"transform",rm,this),qn(this,"_rotate",om,this),ro(this,"BaseType",Gn.NODE),ro(this,"modelType",Yt.NODE),ro(this,"additionStateData",void 0),ro(this,"targetRules",[]),ro(this,"sourceRules",[]),ro(this,"moveRules",[]),ro(this,"hasSetTargetRules",!1),ro(this,"hasSetSourceRules",!1),this.graphModel=a,this.initNodeData(r),this.setAttributes()}var e,n;return e=t,n=[{key:"width",get:function(){return this._width},set:function(r){this._width=r}},{key:"height",get:function(){return this._height},set:function(r){this._height=r}},{key:"rotate",get:function(){return this._rotate},set:function(r){this._rotate=r;var a=this.x,i=a===void 0?0:a,c=this.y,h=c===void 0?0:c;this.transform=new sr(-i,-h).rotate(r).translate(i,h).toString()}},{key:"incoming",get:function(){return{nodes:this.graphModel.getNodeIncomingNode(this.id),edges:this.graphModel.getNodeIncomingEdge(this.id)}}},{key:"outgoing",get:function(){return{nodes:this.graphModel.getNodeOutgoingNode(this.id),edges:this.graphModel.getNodeOutgoingEdge(this.id)}}},{key:"initNodeData",value:function(r){if(r.properties||(r.properties={}),!r.id){var a=this.graphModel.idGenerator,i=a&&a(r.type),c=this.createId();r.id=c||i||po()}this.formatText(r),er(this,function(h){return Vo(h,["id","type","x","y","text","properties","virtual","rotate"])}(r)),this.graphModel.overlapMode===Pn.INCREASE&&(this.zIndex=r.zIndex||cl())}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"formatText",value:function(r){r.text||(r.text={value:"",x:r.x,y:r.y,draggable:!1,editable:!0}),r.text&&typeof r.text=="string"?r.text={value:r.text,x:r.x,y:r.y,draggable:!1,editable:!0}:r.text&&r.text.editable===void 0&&(r.text.editable=!0)}},{key:"getData",value:function(){var r=this.text,a=r.x,i=r.y,c=r.value,h=this.properties;Object(d.x)(h)&&(h=Object(d.I)(h));var g={id:this.id,type:this.type,x:this.x,y:this.y,properties:h};return this.rotate&&(g.rotate=this.rotate),this.graphModel.overlapMode===Pn.INCREASE&&(g.zIndex=this.zIndex),c&&(g.text={x:a,y:i,value:c}),g}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"getProperties",value:function(){return Object(d.I)(this.properties)}},{key:"getOuterGAttributes",value:function(){return{className:""}}},{key:"getNodeStyle",value:function(){return Wr(Wr({},this.graphModel.theme.baseNode),this.style)}},{key:"getTextStyle",value:function(){var r=this.graphModel.theme.nodeText;return wn(r)}},{key:"getRotateControlStyle",value:function(){var r=this.graphModel.theme.rotateControl;return wn(r)}},{key:"getAnchorStyle",value:function(r){var a=this.graphModel.theme.anchor;return wn(a)}},{key:"getAnchorLineStyle",value:function(r){var a=this.graphModel.theme.anchorLine;return wn(a)}},{key:"getOutlineStyle",value:function(){var r=this.graphModel.theme.outline;return wn(r)}},{key:"isAllowConnectedAsSource",value:function(r,a,i,c){var h=this.hasSetSourceRules?this.sourceRules:this.getConnectedSourceRules();this.hasSetSourceRules=!0;for(var g,x=!0,S=0;S<h.length;S++){var D=h[S];if(!D.validate.call(this,this,r,a,i,c)){x=!1,g=D.message;break}}return{isAllPass:x,msg:g}}},{key:"getConnectedSourceRules",value:function(){return this.sourceRules}},{key:"isAllowConnectedAsTarget",value:function(r,a,i,c){var h=this.hasSetTargetRules?this.targetRules:this.getConnectedTargetRules();this.hasSetTargetRules=!0;for(var g,x=!0,S=0;S<h.length;S++){var D=h[S];if(!D.validate.call(this,r,this,a,i,c)){x=!1,g=D.message;break}}return{isAllPass:x,msg:g}}},{key:"isAllowMoveNode",value:function(r,a){var i,c=!0,h=!0,g=function(D,R){var H=typeof Symbol!="undefined"&&D[Symbol.iterator]||D["@@iterator"];if(!H){if(Array.isArray(D)||(H=im(D))||R&&D&&typeof D.length=="number"){H&&(D=H);var J=0,re=function(){};return{s:re,n:function(){return J>=D.length?{done:!0}:{done:!1,value:D[J++]}},e:function(Ce){throw Ce},f:re}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ye,ge=!0,we=!1;return{s:function(){H=H.call(D)},n:function(){var Ce=H.next();return ge=Ce.done,Ce},e:function(Ce){we=!0,ye=Ce},f:function(){try{ge||H.return==null||H.return()}finally{if(we)throw ye}}}}(this.moveRules.concat(this.graphModel.nodeMoveRules));try{for(g.s();!(i=g.n()).done;){var x=(0,i.value)(this,r,a);if(!x)return!1;if(zh(x)==="object"){var S=x;if(S.x===!1&&S.y===!1)return!1;c=c&&S.x,h=h&&S.y}}}catch(D){g.e(D)}finally{g.f()}return{x:c,y:h}}},{key:"getConnectedTargetRules",value:function(){return this.targetRules}},{key:"getAnchorsByOffset",value:function(){var r=this.anchorsOffset,a=this.id,i=this.x,c=this.y;return r&&r.length>0?r.map(function(h,g){return h.length?(h=h,{id:"".concat(a,"_").concat(g),x:i+h[0],y:c+h[1]}):Wr(Wr({},h=h),{},{x:i+h.x,y:c+h.y,id:h.id||"".concat(a,"_").concat(g)})}):this.getDefaultAnchor()}},{key:"getDefaultAnchor",value:function(){return[]}},{key:"getTargetAnchor",value:function(r){return function(a,i){for(var c,h=Nc(i),g=Number.MAX_SAFE_INTEGER,x=0;x<h.length;x++){var S=Wn(a.x,a.y,h[x].x,h[x].y);S<g&&(g=S,c={index:x,anchor:_i(_i({},h[x]),{},{x:h[x].x,y:h[x].y,id:h[x].id})})}return c}(r,this)}},{key:"getBounds",value:function(){return{x1:this.x-this.width/2,y1:this.y-this.height/2,x2:this.x+this.width/2,y2:this.y+this.height/2}}},{key:"anchors",get:function(){var r=this.getAnchorsByOffset(),a=this.x,i=this.y,c=this.rotate;return r.forEach(function(h){var g=h.x,x=h.y,S=t1(new yt([g,x,1]).translate(-a,-i).rotate(c).translate(a,i)[0],2),D=S[0],R=S[1];h.x=D,h.y=R}),r}},{key:"getAnchorInfo",value:function(r){if(!e1(r))for(var a=0;a<this.anchors.length;a++){var i=this.anchors[a];if(i.id===r)return i}}},{key:"addNodeMoveRules",value:function(r){this.moveRules.includes(r)||this.moveRules.push(r)}},{key:"move",value:function(r,a){var i=arguments.length>2&&arguments[2]!==void 0&&arguments[2],c=!1,h=!1;if(i)c=!0,h=!0;else{var g=this.isAllowMoveNode(r,a);typeof g=="boolean"?(c=g,h=g):(c=g.x,h=g.y)}if(c){var x=this.x+r;this.x=x,this.text&&this.moveText(r,0)}if(h){var S=this.y+a;this.y=S,this.text&&this.moveText(0,a)}return c||h}},{key:"getMoveDistance",value:function(r,a){var i=arguments.length>2&&arguments[2]!==void 0&&arguments[2],c=!1,h=!1,g=0,x=0;if(i)c=!0,h=!0;else{var S=this.isAllowMoveNode(r,a);typeof S=="boolean"?(c=S,h=S):(c=S.x,h=S.y)}if(c&&r){var D=this.x+r;this.x=D,this.text&&this.moveText(r,0),g=r}if(h&&a){var R=this.y+a;this.y=R,this.text&&this.moveText(0,a),x=a}return[g,x]}},{key:"moveTo",value:function(r,a){var i=arguments.length>2&&arguments[2]!==void 0&&arguments[2],c=r-this.x,h=a-this.y;return!(!i&&!this.isAllowMoveNode(c,h)||(this.text&&this.text&&this.moveText(c,h),this.x=r,this.y=a,0))}},{key:"moveText",value:function(r,a){var i=this.text,c=i.x,h=i.y,g=i.value,x=i.draggable,S=i.editable;this.text={value:g,editable:S,draggable:x,x:c+r,y:h+a}}},{key:"updateText",value:function(r){this.text=Wr(Wr({},Object(d.I)(this.text)),{},{value:r})}},{key:"setSelected",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isSelected=r}},{key:"setHovered",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHovered=r,this.setIsShowAnchor(r)}},{key:"setIsShowAnchor",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isShowAnchor=r}},{key:"setEnableRotate",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.enableRotate=r}},{key:"setHitable",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHitable=r}},{key:"setElementState",value:function(r,a){this.state=r,this.additionStateData=a}},{key:"setProperty",value:function(r,a){this.properties=Wr(Wr({},Object(d.I)(this.properties)),{},ro({},r,mn(a))),this.setAttributes()}},{key:"setProperties",value:function(r){this.properties=Wr(Wr({},Object(d.I)(this.properties)),mn(r)),this.setAttributes()}},{key:"deleteProperty",value:function(r){delete this.properties[r],this.setAttributes()}},{key:"setStyle",value:function(r,a){this.style=Wr(Wr({},this.style),{},ro({},r,mn(a)))}},{key:"setStyles",value:function(r){this.style=Wr(Wr({},this.style),mn(r))}},{key:"updateStyles",value:function(r){this.style=Wr({},mn(r))}},{key:"setZIndex",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.zIndex=r}},{key:"updateAttributes",value:function(r){er(this,r)}}],n&&n1(e.prototype,n),t}(),Lg=Xt(He.prototype,"type",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),zg=Xt(He.prototype,"x",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Bg=Xt(He.prototype,"y",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Fg=Xt(He.prototype,"text",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),Ug=Xt(He.prototype,"properties",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Gg=Xt(He.prototype,"_width",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),Xg=Xt(He.prototype,"_height",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 80}}),Hg=Xt(He.prototype,"anchorsOffset",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Yg=Xt(He.prototype,"isSelected",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Vg=Xt(He.prototype,"isHovered",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Wg=Xt(He.prototype,"isShowAnchor",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Kg=Xt(He.prototype,"isDragging",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),$g=Xt(He.prototype,"isHitable",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Zg=Xt(He.prototype,"draggable",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),qg=Xt(He.prototype,"visible",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Jg=Xt(He.prototype,"enableRotate",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Qg=Xt(He.prototype,"zIndex",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),em=Xt(He.prototype,"state",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),tm=Xt(He.prototype,"autoToFront",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),nm=Xt(He.prototype,"style",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),rm=Xt(He.prototype,"transform",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),om=Xt(He.prototype,"_rotate",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Xt(He.prototype,"incoming",[d.m],Object.getOwnPropertyDescriptor(He.prototype,"incoming"),He.prototype),Xt(He.prototype,"outgoing",[d.m],Object.getOwnPropertyDescriptor(He.prototype,"outgoing"),He.prototype),Xt(He.prototype,"addNodeMoveRules",[d.k],Object.getOwnPropertyDescriptor(He.prototype,"addNodeMoveRules"),He.prototype),Xt(He.prototype,"move",[d.k],Object.getOwnPropertyDescriptor(He.prototype,"move"),He.prototype),Xt(He.prototype,"getMoveDistance",[d.k],Object.getOwnPropertyDescriptor(He.prototype,"getMoveDistance"),He.prototype),Xt(He.prototype,"moveTo",[d.k],Object.getOwnPropertyDescriptor(He.prototype,"moveTo"),He.prototype),Xt(He.prototype,"moveText",[d.k],Object.getOwnPropertyDescriptor(He.prototype,"moveText"),He.prototype),Xt(He.prototype,"updateText",[d.k],Object.getOwnPropertyDescriptor(He.prototype,"updateText"),He.prototype),Xt(He.prototype,"setSelected",[d.k],Object.getOwnPropertyDescriptor(He.prototype,"setSelected"),He.prototype),Xt(He.prototype,"setHovered",[d.k],Object.getOwnPropertyDescriptor(He.prototype,"setHovered"),He.prototype),Xt(He.prototype,"setIsShowAnchor",[d.k],Object.getOwnPropertyDescriptor(He.prototype,"setIsShowAnchor"),He.prototype),Xt(He.prototype,"setEnableRotate",[d.k],Object.getOwnPropertyDescriptor(He.prototype,"setEnableRotate"),He.prototype),Xt(He.prototype,"setHitable",[d.k],Object.getOwnPropertyDescriptor(He.prototype,"setHitable"),He.prototype),Xt(He.prototype,"setElementState",[d.k],Object.getOwnPropertyDescriptor(He.prototype,"setElementState"),He.prototype),Xt(He.prototype,"setProperty",[d.k],Object.getOwnPropertyDescriptor(He.prototype,"setProperty"),He.prototype),Xt(He.prototype,"setProperties",[d.k],Object.getOwnPropertyDescriptor(He.prototype,"setProperties"),He.prototype),Xt(He.prototype,"deleteProperty",[d.k],Object.getOwnPropertyDescriptor(He.prototype,"deleteProperty"),He.prototype),Xt(He.prototype,"setStyle",[d.k],Object.getOwnPropertyDescriptor(He.prototype,"setStyle"),He.prototype),Xt(He.prototype,"setStyles",[d.k],Object.getOwnPropertyDescriptor(He.prototype,"setStyles"),He.prototype),Xt(He.prototype,"updateStyles",[d.k],Object.getOwnPropertyDescriptor(He.prototype,"updateStyles"),He.prototype),Xt(He.prototype,"setZIndex",[d.k],Object.getOwnPropertyDescriptor(He.prototype,"setZIndex"),He.prototype),Xt(He.prototype,"updateAttributes",[d.k],Object.getOwnPropertyDescriptor(He.prototype,"updateAttributes"),He.prototype),He);function Bh(t){return Bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bh(t)}function sm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function lm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sm(Object(n),!0).forEach(function(r){fm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sm(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function r1(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function o1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Fh(){return Fh=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=a1(t,e);if(r){var a=Object.getOwnPropertyDescriptor(r,e);return a.get?a.get.call(arguments.length<3?t:n):a.value}},Fh.apply(this,arguments)}function a1(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Jc(t))!==null;);return t}function Uh(t,e){return Uh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Uh(t,e)}function u1(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Jc(t);if(e){var a=Jc(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return c1(this,n)}}function c1(t,e){if(e&&(Bh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bp(t)}function Bp(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Jc(t){return Jc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Jc(t)}function fm(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gh(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,h){return h(t,e,c)||c},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}var Lr,pm,dm,Xh=(qi=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Uh(i,c)})(a,t);var e,n,r=u1(a);function a(){var i;o1(this,a);for(var c=arguments.length,h=new Array(c),g=0;g<c;g++)h[g]=arguments[g];return fm(Bp(i=r.call.apply(r,[this].concat(h))),"modelType",Yt.CIRCLE_NODE),r1(Bp(i),"r",cm,Bp(i)),i}return e=a,(n=[{key:"width",get:function(){return 2*this.r}},{key:"height",get:function(){return 2*this.r}},{key:"getNodeStyle",value:function(){var i=Fh(Jc(a.prototype),"getNodeStyle",this).call(this),c=this.graphModel.theme.circle;return lm(lm({},i),wn(c))}},{key:"getDefaultAnchor",value:function(){var i=this.x,c=this.y,h=this.r;return[{x:i,y:c-h,id:"".concat(this.id,"_0")},{x:i+h,y:c,id:"".concat(this.id,"_1")},{x:i,y:c+h,id:"".concat(this.id,"_2")},{x:i-h,y:c,id:"".concat(this.id,"_3")}]}}])&&i1(e.prototype,n),a}(Ji),cm=Gh(qi.prototype,"r",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),Gh(qi.prototype,"width",[d.m],Object.getOwnPropertyDescriptor(qi.prototype,"width"),qi.prototype),Gh(qi.prototype,"height",[d.m],Object.getOwnPropertyDescriptor(qi.prototype,"height"),qi.prototype),qi);o(129);function Hh(t){return Hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hh(t)}function Yh(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(S){x=!0,c=S}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||function(n,r){if(n){if(typeof n=="string")return hm(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return hm(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function hm(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ym(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function vm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ym(Object(n),!0).forEach(function(r){mm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ym(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gm(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function s1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Vh(){return Vh=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=f1(t,e);if(r){var a=Object.getOwnPropertyDescriptor(r,e);return a.get?a.get.call(arguments.length<3?t:n):a.value}},Vh.apply(this,arguments)}function f1(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=es(t))!==null;);return t}function Wh(t,e){return Wh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Wh(t,e)}function p1(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=es(t);if(e){var a=es(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return d1(this,n)}}function d1(t,e){if(e&&(Hh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qc(t)}function Qc(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function es(t){return es=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},es(t)}function mm(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ts(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,h){return h(t,e,c)||c},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}var Si,bm,_m,Kh=(Lr=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Wh(i,c)})(a,t);var e,n,r=p1(a);function a(){var i;s1(this,a);for(var c=arguments.length,h=new Array(c),g=0;g<c;g++)h[g]=arguments[g];return mm(Qc(i=r.call.apply(r,[this].concat(h))),"modelType",Yt.DIAMOND_NODE),gm(Qc(i),"rx",pm,Qc(i)),gm(Qc(i),"ry",dm,Qc(i)),i}return e=a,(n=[{key:"getNodeStyle",value:function(){var i=Vh(es(a.prototype),"getNodeStyle",this).call(this),c=this.graphModel.theme.diamond;return vm(vm({},i),wn(c))}},{key:"points",get:function(){var i=this.x,c=this.y,h=this.rx,g=this.ry;return[[i,c-g],[i+h,c],[i,c+g],[i-h,c]]}},{key:"pointsPosition",get:function(){return this.points.map(function(i){return{x:i[0],y:i[1]}})}},{key:"width",get:function(){var i=Number.MAX_SAFE_INTEGER,c=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(h){var g=Yh(h,1)[0];g<i&&(i=g),g>c&&(c=g)}),c-i}},{key:"height",get:function(){var i=Number.MAX_SAFE_INTEGER,c=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(h){var g=Yh(h,2)[1];g<i&&(i=g),g>c&&(c=g)}),c-i}},{key:"getDefaultAnchor",value:function(){var i=this;return this.points.map(function(c,h){var g=Yh(c,2);return{x:g[0],y:g[1],id:"".concat(i.id,"_").concat(h)}})}}])&&l1(e.prototype,n),a}(Ji),pm=ts(Lr.prototype,"rx",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),dm=ts(Lr.prototype,"ry",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),ts(Lr.prototype,"points",[d.m],Object.getOwnPropertyDescriptor(Lr.prototype,"points"),Lr.prototype),ts(Lr.prototype,"pointsPosition",[d.m],Object.getOwnPropertyDescriptor(Lr.prototype,"pointsPosition"),Lr.prototype),ts(Lr.prototype,"width",[d.m],Object.getOwnPropertyDescriptor(Lr.prototype,"width"),Lr.prototype),ts(Lr.prototype,"height",[d.m],Object.getOwnPropertyDescriptor(Lr.prototype,"height"),Lr.prototype),Lr);function $h(t){return $h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$h(t)}function Om(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function wm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Om(Object(n),!0).forEach(function(r){Em(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Om(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xm(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function h1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Zh(){return Zh=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=v1(t,e);if(r){var a=Object.getOwnPropertyDescriptor(r,e);return a.get?a.get.call(arguments.length<3?t:n):a.value}},Zh.apply(this,arguments)}function v1(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=rs(t))!==null;);return t}function qh(t,e){return qh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},qh(t,e)}function g1(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=rs(t);if(e){var a=rs(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return m1(this,n)}}function m1(t,e){if(e&&($h(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ns(t)}function ns(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rs(t){return rs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},rs(t)}function Em(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fp(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,h){return h(t,e,c)||c},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}var Bo,Sm,Jh=(Si=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&qh(i,c)})(a,t);var e,n,r=g1(a);function a(){var i;h1(this,a);for(var c=arguments.length,h=new Array(c),g=0;g<c;g++)h[g]=arguments[g];return Em(ns(i=r.call.apply(r,[this].concat(h))),"modelType",Yt.ELLIPSE_NODE),xm(ns(i),"rx",bm,ns(i)),xm(ns(i),"ry",_m,ns(i)),i}return e=a,(n=[{key:"getNodeStyle",value:function(){var i=Zh(rs(a.prototype),"getNodeStyle",this).call(this),c=this.graphModel.theme.ellipse;return wm(wm({},i),wn(c))}},{key:"width",get:function(){return 2*this.rx}},{key:"height",get:function(){return 2*this.ry}},{key:"getDefaultAnchor",value:function(){var i=this.x,c=this.y,h=this.rx,g=this.ry;return[{x:i,y:c-g,id:"".concat(this.id,"_0")},{x:i+h,y:c,id:"".concat(this.id,"_1")},{x:i,y:c+g,id:"".concat(this.id,"_2")},{x:i-h,y:c,id:"".concat(this.id,"_3")}]}}])&&y1(e.prototype,n),a}(Ji),bm=Fp(Si.prototype,"rx",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),_m=Fp(Si.prototype,"ry",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 45}}),Fp(Si.prototype,"width",[d.m],Object.getOwnPropertyDescriptor(Si.prototype,"width"),Si.prototype),Fp(Si.prototype,"height",[d.m],Object.getOwnPropertyDescriptor(Si.prototype,"height"),Si.prototype),Si);function Qh(t){return Qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qh(t)}function ey(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(S){x=!0,c=S}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||function(n,r){if(n){if(typeof n=="string")return jm(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return jm(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function jm(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Pm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Am(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Pm(Object(n),!0).forEach(function(r){Mm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pm(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function b1(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function _1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function O1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ty(){return ty=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=w1(t,e);if(r){var a=Object.getOwnPropertyDescriptor(r,e);return a.get?a.get.call(arguments.length<3?t:n):a.value}},ty.apply(this,arguments)}function w1(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=os(t))!==null;);return t}function ny(t,e){return ny=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},ny(t,e)}function x1(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=os(t);if(e){var a=os(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return E1(this,n)}}function E1(t,e){if(e&&(Qh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Up(t)}function Up(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function os(t){return os=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},os(t)}function Mm(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gp(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,h){return h(t,e,c)||c},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}var ry,km,oy=(Bo=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&ny(i,c)})(a,t);var e,n,r=x1(a);function a(){var i;_1(this,a);for(var c=arguments.length,h=new Array(c),g=0;g<c;g++)h[g]=arguments[g];return Mm(Up(i=r.call.apply(r,[this].concat(h))),"modelType",Yt.POLYGON_NODE),b1(Up(i),"points",Sm,Up(i)),i}return e=a,(n=[{key:"getNodeStyle",value:function(){var i=ty(os(a.prototype),"getNodeStyle",this).call(this),c=this.graphModel.theme.polygon;return Am(Am({},i),wn(c))}},{key:"pointsPosition",get:function(){var i=this.x,c=this.y,h=this.width,g=this.height;return this.points.map(function(x){return{x:x[0]+i-h/2,y:x[1]+c-g/2}})}},{key:"width",get:function(){var i=Number.MAX_SAFE_INTEGER,c=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(h){var g=ey(h,1)[0];g<i&&(i=g),g>c&&(c=g)}),c-i}},{key:"height",get:function(){var i=Number.MAX_SAFE_INTEGER,c=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(h){var g=ey(h,2)[1];g<i&&(i=g),g>c&&(c=g)}),c-i}},{key:"getDefaultAnchor",value:function(){var i=this,c=this.x,h=this.y,g=this.width,x=this.height;return this.points.map(function(S,D){var R=ey(S,2),H=R[0],J=R[1];return{x:c+H-g/2,y:h+J-x/2,id:"".concat(i.id,"_").concat(D)}})}}])&&O1(e.prototype,n),a}(Ji),Sm=Gp(Bo.prototype,"points",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[[50,0],[100,50],[50,100],[0,50]]}}),Gp(Bo.prototype,"pointsPosition",[d.m],Object.getOwnPropertyDescriptor(Bo.prototype,"pointsPosition"),Bo.prototype),Gp(Bo.prototype,"width",[d.m],Object.getOwnPropertyDescriptor(Bo.prototype,"width"),Bo.prototype),Gp(Bo.prototype,"height",[d.m],Object.getOwnPropertyDescriptor(Bo.prototype,"height"),Bo.prototype),Bo);function iy(t){return iy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iy(t)}function Tm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Dm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Tm(Object(n),!0).forEach(function(r){Nm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Tm(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function S1(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function j1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function P1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ay(){return ay=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=A1(t,e);if(r){var a=Object.getOwnPropertyDescriptor(r,e);return a.get?a.get.call(arguments.length<3?t:n):a.value}},ay.apply(this,arguments)}function A1(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=is(t))!==null;);return t}function uy(t,e){return uy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},uy(t,e)}function M1(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=is(t);if(e){var a=is(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return k1(this,n)}}function k1(t,e){if(e&&(iy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xp(t)}function Xp(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function is(t){return is=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},is(t)}function Nm(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ba,cy=(ry=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&uy(i,c)})(a,t);var e,n,r=M1(a);function a(){var i;j1(this,a);for(var c=arguments.length,h=new Array(c),g=0;g<c;g++)h[g]=arguments[g];return Nm(Xp(i=r.call.apply(r,[this].concat(h))),"modelType",Yt.RECT_NODE),S1(Xp(i),"radius",km,Xp(i)),i}return e=a,(n=[{key:"getDefaultAnchor",value:function(){var i=this.x,c=this.y,h=this.width,g=this.height;return[{x:i,y:c-g/2,id:"".concat(this.id,"_0")},{x:i+h/2,y:c,id:"".concat(this.id,"_1")},{x:i,y:c+g/2,id:"".concat(this.id,"_2")},{x:i-h/2,y:c,id:"".concat(this.id,"_3")}]}},{key:"getNodeStyle",value:function(){var i=ay(is(a.prototype),"getNodeStyle",this).call(this),c=this.graphModel.theme.rect;return Dm(Dm({},i),wn(c))}}])&&P1(e.prototype,n),a}(Ji),km=function(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,h){return h(t,e,c)||c},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}(ry.prototype,"radius",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ry);function sy(t){return sy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sy(t)}function Cm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Rm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Cm(Object(n),!0).forEach(function(r){Lm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Cm(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function T1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function D1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ly(){return ly=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=N1(t,e);if(r){var a=Object.getOwnPropertyDescriptor(r,e);return a.get?a.get.call(arguments.length<3?t:n):a.value}},ly.apply(this,arguments)}function N1(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=as(t))!==null;);return t}function fy(t,e){return fy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},fy(t,e)}function C1(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=as(t);if(e){var a=as(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return R1(this,n)}}function R1(t,e){if(e&&(sy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Im(t)}function Im(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function as(t){return as=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},as(t)}function Lm(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zm(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,h){return h(t,e,c)||c},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}var py=(Ba=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&fy(i,c)})(a,t);var e,n,r=C1(a);function a(){var i;T1(this,a);for(var c=arguments.length,h=new Array(c),g=0;g<c;g++)h[g]=arguments[g];return Lm(Im(i=r.call.apply(r,[this].concat(h))),"modelType",Yt.TEXT_NODE),i}return e=a,(n=[{key:"getTextStyle",value:function(){var i=ly(as(a.prototype),"getTextStyle",this).call(this),c=this.graphModel.theme.text;return Rm(Rm({},i),wn(c))}},{key:"width",get:function(){var i=String(this.text.value).split(/[\r\n]/g),c=this.getTextStyle().fontSize;return ul({rows:i,fontSize:c,rowsLength:i.length}).width}},{key:"height",get:function(){var i=String(this.text.value).split(/[\r\n]/g),c=this.getTextStyle().fontSize;return ul({rows:i,fontSize:c,rowsLength:i.length}).height}}])&&D1(e.prototype,n),a}(Ji),zm(Ba.prototype,"width",[d.m],Object.getOwnPropertyDescriptor(Ba.prototype,"width"),Ba.prototype),zm(Ba.prototype,"height",[d.m],Object.getOwnPropertyDescriptor(Ba.prototype,"height"),Ba.prototype),Ba);function dy(t){return dy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dy(t)}function I1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function L1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function hy(t,e){return hy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},hy(t,e)}function z1(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Hp(t);if(e){var a=Hp(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return B1(this,n)}}function B1(t,e){if(e&&(dy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bm(t)}function Bm(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Hp(t){return Hp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Hp(t)}function F1(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ii,Fm,Um,Gm,yy=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&hy(i,c)})(a,t);var e,n,r=z1(a);function a(){var i;I1(this,a);for(var c=arguments.length,h=new Array(c),g=0;g<c;g++)h[g]=arguments[g];return F1(Bm(i=r.call.apply(r,[this].concat(h))),"modelType",Yt.HTML_NODE),i}return e=a,(n=[{key:"getDefaultAnchor",value:function(){var i=this.x,c=this.y,h=this.width,g=this.height;return[{x:i,y:c-g/2,id:"".concat(this.id,"_0")},{x:i+h/2,y:c,id:"".concat(this.id,"_1")},{x:i,y:c+g/2,id:"".concat(this.id,"_2")},{x:i-h/2,y:c,id:"".concat(this.id,"_3")}]}}])&&L1(e.prototype,n),a}(Ji);function Xm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function vy(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function U1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Hm(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wl(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,h){return h(t,e,c)||c},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}var Ym=(ii=function(){function t(r){(function(a,i){if(!(a instanceof i))throw new TypeError("Cannot call a class as a function")})(this,t),Hm(this,"graphModel",void 0),vy(this,"isShowHorizontal",Fm,this),vy(this,"isShowVertical",Um,this),vy(this,"position",Gm,this),this.isShowHorizontal=!1,this.isShowVertical=!1,this.position={x:0,y:0},this.graphModel=r}var e,n;return e=t,n=[{key:"getStyle",value:function(){return function(r){for(var a=1;a<arguments.length;a++){var i=arguments[a]!=null?arguments[a]:{};a%2?Xm(Object(i),!0).forEach(function(c){Hm(r,c,i[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):Xm(Object(i)).forEach(function(c){Object.defineProperty(r,c,Object.getOwnPropertyDescriptor(i,c))})}return r}({},this.graphModel.theme.snapline)}},{key:"getCenterSnapLine",value:function(r,a){for(var i=r.x,c=r.y,h=!1,g=!1,x=0;x<a.length;x++){var S=a[x];if(S.id!==r.id&&(i===S.x&&(h=!0),c===S.y&&(g=!0),h&&g))break}return{isShowVertical:h,isShowHorizontal:g,position:{x:i,y:c}}}},{key:"getHorizontalSnapline",value:function(r,a){var i,c,h=!1,g=r.id;if(g){var x=this.graphModel.fakerNode;if(x&&x.id===g)c=Hr(x);else{var S=this.graphModel.getNodeModelById(g);c=Hr(S)}}for(var D=0;D<a.length;D++){var R=a[D];if(R.id!==r.id){var H=Hr(R);if(H.minY===c.minY||H.maxY===c.minY){h=!0,i=c.minY;break}if(H.minY===c.maxY||H.maxY===c.maxY){h=!0,i=c.maxY;break}}}return er({isShowHorizontal:h,position:{y:i}})}},{key:"getVerticalSnapline",value:function(r,a){var i,c,h=!1,g=r.id;if(g){var x=this.graphModel.fakerNode;if(x&&x.id===g)c=Hr(x);else{var S=this.graphModel.getNodeModelById(g);c=Hr(S)}}for(var D=0;D<a.length;D++){var R=a[D];if(R.id!==r.id){var H=Hr(R);if(H.minX===c.minX||H.maxX===c.minX){h=!0,i=c.minX;break}if(H.minX===c.maxX||H.maxX===c.maxX){h=!0,i=c.maxX;break}}}return er({isShowVertical:h,position:{x:i}})}},{key:"getSnapLinePosition",value:function(r,a){var i=this.getCenterSnapLine(r,a),c=i.isShowHorizontal,h=i.isShowVertical;if(!c){var g=this.getHorizontalSnapline(r,a);g.isShowHorizontal&&(i.isShowHorizontal=g.isShowHorizontal,i.position.y=g.position.y)}if(!h){var x=this.getVerticalSnapline(r,a);x.isShowVertical&&(i.isShowVertical=x.isShowVertical,i.position.x=x.position.x)}return i}},{key:"setSnaplineInfo",value:function(r){var a=r.isShowHorizontal,i=r.isShowVertical,c=r.position;this.position=c,this.isShowHorizontal=a,this.isShowVertical=i}},{key:"clearSnapline",value:function(){this.position={x:0,y:0},this.isShowHorizontal=!1,this.isShowVertical=!1}},{key:"setNodeSnapLine",value:function(r){var a=this.graphModel.nodes,i=this.getSnapLinePosition(r,a);this.setSnaplineInfo(i)}}],n&&U1(e.prototype,n),t}(),Fm=Wl(ii.prototype,"isShowHorizontal",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Um=Wl(ii.prototype,"isShowVertical",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gm=Wl(ii.prototype,"position",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wl(ii.prototype,"clearSnapline",[d.k],Object.getOwnPropertyDescriptor(ii.prototype,"clearSnapline"),ii.prototype),Wl(ii.prototype,"setNodeSnapLine",[d.k],Object.getOwnPropertyDescriptor(ii.prototype,"setNodeSnapLine"),ii.prototype),ii),Kl=new Map,Vm=function(t){var e=po(),n=window.requestAnimationFrame(function r(){if(t(),Kl.get(e)){var a=window.requestAnimationFrame(r);Kl.set(e,a)}});return Kl.set(e,n),e},Yp=function(t){var e=Kl.get(t);e&&(window.cancelAnimationFrame(e),Kl.delete(t))};function gy(t){return gy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gy(t)}function $l(){return $l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$l.apply(this,arguments)}function Wm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Zl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Wm(Object(n),!0).forEach(function(r){Pi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wm(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function G1(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(S){x=!0,c=S}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Km(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Km(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Km(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function X1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function my(t,e){return my=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},my(t,e)}function H1(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Vp(t);if(e){var a=Vp(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Y1(this,n)}}function Y1(t,e){if(e&&(gy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ji(t)}function ji(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Vp(t){return Vp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Vp(t)}function Pi(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var V1=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&my(i,c)})(a,t);var e,n,r=H1(a);function a(){var i;return function(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")}(this,a),Pi(ji(i=r.call(this)),"preTargetNode",void 0),Pi(ji(i),"sourceRuleResults",void 0),Pi(ji(i),"targetRuleResults",void 0),Pi(ji(i),"dragHandler",void 0),Pi(ji(i),"t",void 0),Pi(ji(i),"onDragStart",function(c){var h=c.event,g=i.props,x=g.anchorData,S=g.nodeModel,D=g.graphModel;D.overlapMode,D.selectNodeById(S.id),S.autoToFront&&D.toFront(S.id),D.eventCenter.emit(ft.ANCHOR_DRAGSTART,{data:x,e:h,nodeModel:S}),i.setState({startX:x.x,startY:x.y,endX:x.x,endY:x.y})}),Pi(ji(i),"onDragging",function(c){var h=c.event,g=i.props,x=g.graphModel,S=g.nodeModel,D=g.anchorData,R=x.transformModel,H=x.eventCenter,J=x.width,re=x.height,ye=x.editConfigModel,ge=ye.autoExpand,we=ye.stopMoveGraph,Ce=h.clientX,Ze=h.clientY,Ke=x.getPointByClient({x:Ce,y:Ze}),bt=Ke.domOverlayPosition,qe=bt.x,pt=bt.y,et=Ke.canvasOverlayPosition,Kt=et.x,Jt=et.y;i.t&&Yp(i.t);var Tt=[];qe<10?Tt=[10,0]:qe+10>J?Tt=[-10,0]:pt<10?Tt=[0,10]:pt+10>re&&(Tt=[0,-10]),i.setState({endX:Kt,endY:Jt,dragging:!0}),i.moveAnchorEnd(Kt,Jt),Tt.length>0&&!we&&ge&&(i.t=Vm(function(){var nn=G1(Tt,2),Xn=nn[0],Hn=nn[1];R.translate(Xn,Hn);var Pr=i.state,bo=Pr.endX,_o=Pr.endY;i.setState({endX:bo-Xn,endY:_o-Hn}),i.moveAnchorEnd(bo-Xn,_o-Hn)})),H.emit(ft.ANCHOR_DRAG,{data:D,e:h,nodeModel:S})}),Pi(ji(i),"onDragEnd",function(c){var h=c.event;i.t&&Yp(i.t);var g=i.checkEnd(h);i.setState({startX:0,startY:0,endX:0,endY:0,dragging:!1}),i.sourceRuleResults.clear(),i.targetRuleResults.clear();var x=i.props,S=x.graphModel,D=x.nodeModel,R=x.anchorData;S.eventCenter.emit(ft.ANCHOR_DRAGEND,{data:R,e:h,nodeModel:D,edgeModel:g})}),Pi(ji(i),"checkEnd",function(c){var h=i.props,g=h.graphModel,x=h.nodeModel,S=h.anchorData,D=S.x,R=S.y,H=S.id,J=(g.edgeType,i.state),re=J.endX,ye=J.endY,ge=J.dragging,we=Ui({x:re,y:ye},g);if(i.preTargetNode&&i.preTargetNode.state!==un.DEFAULT&&i.preTargetNode.setElementState(un.DEFAULT),ge&&we&&we.node){var Ce=we.node,Ze=we.anchor.id,Ke="".concat(x.id,"_").concat(Ce.id,"_").concat(Ze,"_").concat(H),bt=i.sourceRuleResults.get(Ke)||{},qe=bt.isAllPass,pt=bt.msg,et=i.targetRuleResults.get(Ke)||{},Kt=et.isAllPass,Jt=et.msg;if(qe&&Kt){Ce.setElementState(un.DEFAULT);var Tt=g.edgeGenerator(x.getData(),g.getNodeModelById(we.node.id).getData()),nn=g.addEdge(Zl(Zl({},Tt),{},{sourceNodeId:x.id,sourceAnchorId:H,startPoint:{x:D,y:R},targetNodeId:we.node.id,targetAnchorId:we.anchor.id,endPoint:{x:we.anchor.x,y:we.anchor.y}})),Xn=i.props.anchorData;return g.eventCenter.emit(ft.ANCHOR_DROP,{data:Xn,e:c,nodeModel:x,edgeModel:nn}),nn}var Hn=Ce.getData();return g.eventCenter.emit(ft.CONNECTION_NOT_ALLOWED,{data:Hn,msg:Jt||pt}),null}}),i.sourceRuleResults=new Map,i.targetRuleResults=new Map,i.state={startX:0,startY:0,endX:0,endY:0,dragging:!1},i.dragHandler=new ho({onDragStart:i.onDragStart,onDragging:i.onDragging,onDragEnd:i.onDragEnd}),i}return e=a,(n=[{key:"getAnchorShape",value:function(){var i=this.props,c=i.anchorData,h=i.style,g=i.node.getAnchorShape(c);if(g)return g;var x=c.x,S=c.y,D=Zl(Zl({},h),h.hover);return Object(fe.g)("g",null,Object(fe.g)(qc,$l({className:"lf-node-anchor-hover"},D,{x,y:S})),Object(fe.g)(qc,$l({className:"lf-node-anchor"},h,{x,y:S})))}},{key:"customTrajectory",get:function(){return this.props.graphModel.customTrajectory}},{key:"moveAnchorEnd",value:function(i,c){var h=this.props,g=h.graphModel,x=h.nodeModel,S=h.anchorData,D=Ui({x:i,y:c},g);if(D){var R=D.node,H=D.anchor.id;if(this.preTargetNode&&this.preTargetNode!==D.node&&this.preTargetNode.setElementState(un.DEFAULT),S.id===H)return;this.preTargetNode=R;var J="".concat(x.id,"_").concat(R.id,"_").concat(H,"_").concat(S.id);if(!this.targetRuleResults.has(J)){var re=D.anchor,ye=x.isAllowConnectedAsSource(R,S,re),ge=R.isAllowConnectedAsTarget(x,S,re);this.sourceRuleResults.set(J,Eu(ye)),this.targetRuleResults.set(J,Eu(ge))}var we=this.sourceRuleResults.get(J).isAllPass,Ce=this.targetRuleResults.get(J).isAllPass;we&&Ce?R.setElementState(un.ALLOW_CONNECT):R.setElementState(un.NOT_ALLOW_CONNECT)}else this.preTargetNode&&this.preTargetNode.state!==un.DEFAULT&&this.preTargetNode.setElementState(un.DEFAULT)}},{key:"isShowLine",value:function(){var i=this.state,c=i.startX,h=i.startY,g=i.endX,x=i.endY;return Wn(c,h,g,x)>10}},{key:"render",value:function(){var i=this,c=this.state,h=c.startX,g=c.startY,x=c.endX,S=c.endY,D=this.props,R=D.anchorData.edgeAddable,H=D.edgeStyle;return Object(fe.g)("g",{className:"lf-anchor"},Object(fe.g)("g",{onMouseDown:function(J){R!==!1&&i.dragHandler.handleMouseDown(J)}},this.getAnchorShape()),this.isShowLine()&&(this.customTrajectory?this.customTrajectory(Zl({sourcePoint:{x:h,y:g},targetPoint:{x,y:S}},H)):Object(fe.g)($c,$l({x1:h,y1:g,x2:x,y2:S},H,{"pointer-events":"none"}))))}}])&&X1(e.prototype,n),a}(fe.a);function $m(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function W1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$m(Object(n),!0).forEach(function(r){K1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$m(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function K1(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function by(t){return by=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},by(t)}function $1(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(S){x=!0,c=S}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Zm(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Zm(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Zm(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qm(t){var e=t.x,n=e===void 0?0:e,r=t.y,a=r===void 0?0:r,i=t.value,c=t.fontSize,h=t.fill,g=h===void 0?"currentColor":h,x=t.overflowMode,S=x===void 0?"default":x,D=t.textWidth,R=D===void 0?"":D,H=t.model,J={textAnchor:"middle","dominant-baseline":"middle",x:n,y:a,fill:g};if(Object.entries(t).forEach(function(Ze){var Ke=$1(Ze,2),bt=Ke[0],qe=Ke[1];by(qe)!=="object"&&(J[bt]=qe)}),i){var re=String(i).split(/[\r\n]/g),ye=re.length;if(S!=="default"){var ge=H.BaseType,we=H.modelType;if(ge===Gn.NODE&&we!==Yt.TEXT_NODE||ge===Gn.EDGE&&R)return function(Ze){var Ke=Ze.value,bt=Ze.fontSize,qe=Ze.model,pt=Ze.fontFamily,et=pt===void 0?"":pt,Kt=Ze.lineHeight,Jt=Ze.wrapPadding,Tt=Jt===void 0?"0, 0":Jt,nn=Ze.overflowMode,Xn=Ze.x,Hn=Ze.y,Pr=qe.width,bo=qe.textHeight,_o=Ze.textWidth||Pr,ki=String(Ke).split(/[\r\n]/g),Hu=ki.length,gd=np({rows:ki,style:{fontSize:"".concat(bt,"px"),width:"".concat(_o,"px"),fontFamily:et,lineHeight:Kt,padding:Tt},rowsLength:Hu,className:"lf-get-text-height"}),Yu=qe.height>gd?qe.height:gd;bo&&(Yu=bo);var Ga=nn==="ellipsis";return Ga&&(Yu=bt+2),Object(fe.g)("g",null,Object(fe.g)("foreignObject",{width:_o,height:Yu,x:Xn-_o/2,y:Hn-Yu/2},Object(fe.g)("div",{className:"lf-node-text-auto-wrap",style:{minHeight:Yu,width:_o,padding:Tt}},Object(fe.g)("div",{className:Ga?"lf-node-text-ellipsis-content":"lf-node-text-auto-wrap-content",title:Ga?ki.join(""):"",style:W1({},Ze)},ki.map(function(Xa){return Object(fe.g)("div",{className:"lf-node-text--auto-wrap-inner"},Xa)})))))}(t)}if(ye>1){var Ce=re.map(function(Ze,Ke){var bt=(Ke-(ye-1)/2)*(c+2);return Object(fe.g)("tspan",{className:"lf-text-tspan",x:n,y:a+bt},Ze)});return Object(fe.g)("text",J,Ce)}return Object(fe.g)("text",J,i)}}function _y(t){return _y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_y(t)}function Oy(){return Oy=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Oy.apply(this,arguments)}function Z1(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(S){x=!0,c=S}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Jm(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Jm(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Jm(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function q1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function wy(t,e){return wy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},wy(t,e)}function J1(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Wp(t);if(e){var a=Wp(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Q1(this,n)}}function Q1(t,e){if(e&&(_y(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fa(t)}function Fa(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Wp(t){return Wp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Wp(t)}function Fu(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Qm=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&wy(i,c)})(a,t);var e,n,r=J1(a);function a(i){var c;(function(g,x){if(!(g instanceof x))throw new TypeError("Cannot call a class as a function")})(this,a),Fu(Fa(c=r.call(this)),"dragHandler",void 0),Fu(Fa(c),"sumDeltaX",0),Fu(Fa(c),"sumDeltaY",0),Fu(Fa(c),"stepDrag",void 0),Fu(Fa(c),"onDragging",function(g){var x=g.deltaX,S=g.deltaY,D=c.props,R=D.model,H=Z1(D.graphModel.transformModel.fixDeltaXY(x,S),2),J=H[0],re=H[1];R.moveText(J,re)}),Fu(Fa(c),"dblClickHandler",function(){c.props.editable&&c.props.model.setElementState(un.TEXT_EDIT)}),Fu(Fa(c),"mouseDownHandle",function(g){var x=c.props,S=x.draggable,D=x.model,R=x.graphModel.editConfigModel.nodeTextDraggable;(S||R)&&(c.stepDrag.model=D,c.stepDrag.handleMouseDown(g))}),i.model;var h=i.draggable;return c.stepDrag=new ho({onDragging:c.onDragging,step:1,isStopPropagation:h}),c}return e=a,(n=[{key:"getShape",value:function(){var i=this.props,c=i.model,h=i.graphModel,g=c.text,x=h.editConfigModel,S=g.value,D=g.x,R=g.y,H=g.editable,J=g.draggable,re={x:D,y:R,className:"",value:S};H?re.className="lf-element-text":J||x.nodeTextDraggable?re.className="lf-text-draggable":re.className="lf-text-disabled";var ye=c.getTextStyle();return Object(fe.g)(qm,Oy({},re,ye,{model:c}))}},{key:"render",value:function(){if(this.props.model.text)return Object(fe.g)("g",{onMouseDown:this.mouseDownHandle,onDblClick:this.dblClickHandler},this.getShape())}}])&&q1(e.prototype,n),a}(fe.a),eO=window.navigator.userAgent.match(/MSIE|Trident/)!==null,eb=o(130);function xy(t){return xy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xy(t)}function Ey(){return Ey=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ey.apply(this,arguments)}function tO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Sy(t,e){return Sy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Sy(t,e)}function nO(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Kp(t);if(e){var a=Kp(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return rO(this,n)}}function rO(t,e){if(e&&(xy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return us(t)}function us(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Kp(t){return Kp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Kp(t)}function ql(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var oO=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Sy(i,c)})(a,t);var e,n,r=nO(a);function a(i){var c;return function(h,g){if(!(h instanceof g))throw new TypeError("Cannot call a class as a function")}(this,a),ql(us(c=r.call(this,i)),"style",{}),ql(us(c),"defaultAngle",void 0),ql(us(c),"normal",void 0),ql(us(c),"stepperDrag",void 0),ql(us(c),"onDragging",function(h){var g,x=h.event,S=c.props,D=S.graphModel,R=S.nodeModel,H=S.eventCenter,J=D.selectNodes,re=R.x,ye=R.y,ge=x.clientX,we=x.clientY,Ce=D.getPointByClient({x:ge,y:we}).canvasOverlayPosition,Ze=Ce.x,Ke=Ce.y,bt=new ar(Ze-re,Ke-ye),qe=((g=c.normal)===null||g===void 0?void 0:g.angle(bt))-c.defaultAngle,pt=new sr(-re,-ye).rotate(qe).translate(re,ye).toString();R.transform=pt,R.rotate=qe;var et=Object(eb.map)(J,function(Jt){return Jt.id});et.indexOf(R.id)===-1&&(et=[R.id]);var Kt=Object(eb.reduce)(et,function(Jt,Tt){var nn=D.getNodeModelById(Tt);return Jt[Tt]=nn==null?void 0:nn.getMoveDistance(0,0,!1),Jt},{});et.forEach(function(Jt){D.getNodeEdges(Jt).forEach(function(Tt){if(Kt[Tt.sourceNodeId]){var nn=D.getNodeModelById(Tt.sourceNodeId).anchors.find(function(Hn){return Hn.id===Tt.sourceAnchorId});Tt.updateStartPoint(nn)}if(Kt[Tt.targetNodeId]){var Xn=D.getNodeModelById(Tt.targetNodeId).anchors.find(function(Hn){return Hn.id===Tt.targetAnchorId});Tt.updateEndPoint(Xn)}})}),H.emit(ft.NODE_ROTATE,{e:x,nodeModel:R})}),c.style=i.style,c.stepperDrag=new ho({onDragging:c.onDragging}),c}return e=a,(n=[{key:"render",value:function(){var i=this,c=this.props.nodeModel,h=c.x,g=c.y,x=h+c.width/2+20,S=g-c.height/2-20;return this.normal=new ar(1,0),this.defaultAngle=this.normal.angle(new ar(x-h,S-g)),c.defaultAngle=this.defaultAngle,Object(fe.g)("g",{className:"lf-rotate-control"},Object(fe.g)("g",{onMouseDown:function(D){i.stepperDrag.handleMouseDown(D)}},Object(fe.g)(qc,Ey({},this.style,{cx:x,cy:S}))))}}])&&tO(e.prototype,n),a}(fe.a);function jy(t){return jy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jy(t)}var iO=["className"];function $p(){return $p=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$p.apply(this,arguments)}function aO(t,e){if(t==null)return{};var n,r,a=function(c,h){if(c==null)return{};var g,x,S={},D=Object.keys(c);for(x=0;x<D.length;x++)g=D[x],h.indexOf(g)>=0||(S[g]=c[g]);return S}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Zp(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(S){x=!0,c=S}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||function(n,r){if(n){if(typeof n=="string")return tb(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return tb(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function tb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Py(t,e){return Py=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Py(t,e)}function uO(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=qp(t);if(e){var a=qp(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return cO(this,n)}}function cO(t,e){if(e&&(jy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lr(t)}function lr(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qp(t){return qp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},qp(t)}function gr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Qi=function(t){(function(c,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(h&&h.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),h&&Py(c,h)})(i,t);var e,n,r,a=uO(i);function i(c){var h;(function(R,H){if(!(R instanceof H))throw new TypeError("Cannot call a class as a function")})(this,i),gr(lr(h=a.call(this)),"t",void 0),gr(lr(h),"moveOffset",void 0),gr(lr(h),"stepDrag",void 0),gr(lr(h),"contextMenuTime",void 0),gr(lr(h),"mouseUpDrag",void 0),gr(lr(h),"startTime",void 0),gr(lr(h),"clickTimer",void 0),gr(lr(h),"modelDisposer",void 0),gr(lr(h),"onDragStart",function(R){var H=R.event,J=H.clientX,re=H.clientY,ye=h.props,ge=ye.model,we=ye.graphModel.getPointByClient({x:J,y:re}).canvasOverlayPosition,Ce=we.x,Ze=we.y;h.moveOffset={x:ge.x-Ce,y:ge.y-Ze}}),gr(lr(h),"onDragging",function(R){var H=R.event,J=h.props,re=J.model,ye=J.graphModel,ge=ye.editConfigModel,we=ge.stopMoveGraph,Ce=ge.autoExpand,Ze=ye.transformModel,Ke=ye.selectNodes,bt=ye.width,qe=ye.height,pt=ye.gridSize;re.isDragging=!0;var et=H.clientX,Kt=H.clientY,Jt=ye.getPointByClient({x:et,y:Kt}).canvasOverlayPosition,Tt=Jt.x,nn=Jt.y,Xn=Zp(Ze.CanvasPointToHtmlPoint([Tt,nn]),2),Hn=Xn[0],Pr=Xn[1];if(Tt+=h.moveOffset.x,nn+=h.moveOffset.y,Tt=Co(Tt,pt),nn=Co(nn,pt),bt&&qe){if(!Ce||we||!(Hn<0||Pr<0||Hn>bt||Pr>qe)){var bo=Zp(Ze.CanvasPointToHtmlPoint([Tt-re.width/2,nn-re.height/2]),2),_o=bo[0],ki=bo[1],Hu=Zp(Ze.CanvasPointToHtmlPoint([Tt+re.width/2,nn+re.height/2]),2),gd=Hu[0],Yu=Hu[1],Ga=Math.max(pt,20),Xa=[];_o<0?Xa=[Ga,0]:gd>ye.width?Xa=[-Ga,0]:ki<0?Xa=[0,Ga]:Yu>ye.height&&(Xa=[0,-Ga]),h.t&&Yp(h.t);var Qw=new sr(-Tt,-nn).rotate(re.rotate).translate(Tt,nn).toString();re.transform=Qw;var md=Ke.map(function(bd){return bd.id});md.indexOf(re.id)===-1&&(md=[re.id]),Xa.length>0&&!we&&Ce?h.t=Vm(function(){var bd=Zp(Xa,2),Lb=bd[0],zb=bd[1];Ze.translate(Lb,zb);var ex=-Lb/Ze.SCALE_X,tx=-zb/Ze.SCALE_X;ye.moveNodes(md,ex,tx)}):ye.moveNodes(md,Tt-re.x,nn-re.y)}}else ye.moveNode2Coordinate(re.id,Tt,nn)}),gr(lr(h),"onDragEnd",function(){h.t&&Yp(h.t),h.props.model.isDragging=!1}),gr(lr(h),"handleMouseUp",function(){var R=h.props.model;h.mouseUpDrag=R.isDragging}),gr(lr(h),"handleClick",function(R){var H=h.mouseUpDrag===!1;if(h.startTime){var J=h.props,re=J.model,ye=J.graphModel;if(H){var ge={data:re.getData(),e:R,position:ye.getPointByClient({x:R.clientX,y:R.clientY}),isSelected:!1,isMultiple:!1},we=R.button===2,Ce=R.detail===2;if(!we){var Ze=ye.editConfigModel,Ke=Ro(R,Ze);ge.isMultiple=Ke,re.isSelected&&!Ce&&Ke?(ge.isSelected=!1,re.setSelected(!1)):(ye.selectNodeById(re.id,Ke),ge.isSelected=!0,h.toFront()),Ce?(Ze.nodeTextEdit&&re.text.editable&&(re.setSelected(!1),ye.setElementStateById(re.id,un.TEXT_EDIT)),ye.eventCenter.emit(ft.NODE_DBCLICK,ge)):(ye.eventCenter.emit(ft.ELEMENT_CLICK,ge),ye.eventCenter.emit(ft.NODE_CLICK,ge))}}}}),gr(lr(h),"handleContextMenu",function(R){R.preventDefault();var H=h.props,J=H.model,re=H.graphModel,ye=J.getData(),ge=re.getPointByClient({x:R.clientX,y:R.clientY});re.setElementStateById(J.id,un.SHOW_MENU,ge.domOverlayPosition),J.isSelected||re.selectNodeById(J.id),re.eventCenter.emit(ft.NODE_CONTEXTMENU,{data:ye,e:R,position:ge}),h.toFront()}),gr(lr(h),"handleMouseDown",function(R){var H=h.props,J=H.model,re=H.graphModel;h.startTime=new Date().getTime(),re.editConfigModel.adjustNodePosition&&J.draggable&&h.stepDrag&&h.stepDrag.handleMouseDown(R)}),gr(lr(h),"setHoverON",function(R){var H=h.props,J=H.model,re=H.graphModel;if(!J.isHovered){var ye=J.getData();J.setHovered(!0),re.eventCenter.emit(ft.NODE_MOUSEENTER,{data:ye,e:R})}}),gr(lr(h),"setHoverOFF",function(R){var H=h.props,J=H.model,re=H.graphModel,ye=J.getData();J.isHovered&&(J.setHovered(!1),re.eventCenter.emit(ft.NODE_MOUSELEAVE,{data:ye,e:R}))}),gr(lr(h),"onMouseOut",function(R){eO&&h.setHoverOFF(R)});var g=c.graphModel,x=g.gridSize,S=g.eventCenter,D=c.model;return h.stepDrag=new ho({onDragStart:h.onDragStart,onDragging:h.onDragging,onDragEnd:h.onDragEnd,step:x,eventType:"NODE",isStopPropagation:!1,eventCenter:S,model:D}),h.modelDisposer=Object(d.F)(function(){return h.props},function(R){R&&R.model&&h.stepDrag.setModel(R.model)}),h}return e=i,r=[{key:"getModel",value:function(c){return c}}],(n=[{key:"componentWillUnmount",value:function(){this.modelDisposer&&this.modelDisposer()}},{key:"getAnchorShape",value:function(c){return null}},{key:"getAnchors",value:function(){var c=this,h=this.props,g=h.model,x=h.graphModel,S=g.isSelected,D=g.isHitable,R=g.isDragging,H=g.isShowAnchor;return D&&(S||H)&&!R?ac(g.anchors,function(J,re){var ye=g.getAnchorLineStyle(J),ge=g.getAnchorStyle(J);return Object(fe.g)(V1,{anchorData:J,node:c,style:ge,edgeStyle:ye,anchorIndex:re,nodeModel:g,graphModel:x,setHoverOFF:c.setHoverOFF})}):[]}},{key:"getRotateControl",value:function(){var c=this.props,h=c.model,g=c.graphModel,x=h.isSelected,S=h.isHitable,D=h.enableRotate,R=h.isHovered,H=h.getRotateControlStyle().style;if(S&&(x||R)&&D)return Object(fe.g)(oO,{graphModel:g,nodeModel:h,eventCenter:g.eventCenter,style:H})}},{key:"getText",value:function(){var c=this.props,h=c.model,g=c.graphModel;if(h.state===un.TEXT_EDIT)return"";if(h.text){var x=g.editConfigModel,S=!1;return(h.text.draggable||x.nodeTextDraggable)&&(S=!0),Object(fe.g)(Qm,{editable:x.nodeTextEdit&&h.text.editable,model:h,graphModel:g,draggable:S})}}},{key:"getStateClassName",value:function(){var c=this.props.model,h=c.state,g=c.isDragging,x=c.isSelected,S="lf-node";switch(h){case un.ALLOW_CONNECT:S+=" lf-node-allow";break;case un.NOT_ALLOW_CONNECT:S+=" lf-node-not-allow";break;default:S+=" lf-node-default"}return g&&(S+=" lf-isDragging"),x&&(S+=" lf-node-selected"),S}},{key:"toFront",value:function(){var c=this.props,h=c.model,g=c.graphModel;h.autoToFront&&g.toFront(h.id)}},{key:"render",value:function(){var c,h=this.props,g=h.model,x=h.graphModel,S=x.editConfigModel,D=S.hideAnchors,R=S.adjustNodePosition,H=S.allowRotation,J=x.gridSize,re=x.transformModel.SCALE_X,ye=g.isHitable,ge=g.draggable,we=g.transform,Ce=g.getOuterGAttributes(),Ze=Ce.className,Ke=Ze===void 0?"":Ze,bt=aO(Ce,iO),qe=Object(fe.g)("g",{className:"lf-node-content"},Object(fe.g)("g",{transform:we},this.getShape(),this.getText(),H&&this.getRotateControl()),!D&&this.getAnchors());return ye?(R&&ge&&this.stepDrag.setStep(J*re),c=Object(fe.g)("g",$p({className:"".concat(this.getStateClassName()," ").concat(Ke),onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onClick:this.handleClick,onMouseEnter:this.setHoverON,onMouseOver:this.setHoverON,onMouseLeave:this.setHoverOFF,onMouseOut:this.onMouseOut,onContextMenu:this.handleContextMenu},bt),qe)):c=Object(fe.g)("g",$p({className:"".concat(this.getStateClassName()," ").concat(Ke)},bt),qe),c}}])&&nb(e.prototype,n),r&&nb(e,r),i}(fe.a);function Ay(t){return Ay=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ay(t)}function My(){return My=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},My.apply(this,arguments)}function sO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ky(t,e){return ky=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},ky(t,e)}function fO(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Jp(t);if(e){var a=Jp(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return pO(this,n)}}function pO(t,e){if(e&&(Ay(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Jp(t){return Jp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Jp(t)}var Ty=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&ky(i,c)})(a,t);var e,n,r=fO(a);function a(){return sO(this,a),r.apply(this,arguments)}return e=a,(n=[{key:"getShape",value:function(){var i=this.props.model,c=i.getNodeStyle();return Object(fe.g)(La,My({},c,{x:i.x,y:i.y,width:i.width,height:i.height,radius:i.radius}))}}])&&lO(e.prototype,n),a}(Qi);function Dy(t){return Dy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dy(t)}function Ny(){return Ny=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ny.apply(this,arguments)}function dO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Cy(t,e){return Cy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Cy(t,e)}function yO(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Qp(t);if(e){var a=Qp(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vO(this,n)}}function vO(t,e){if(e&&(Dy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Qp(t){return Qp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Qp(t)}var Ry=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Cy(i,c)})(a,t);var e,n,r=yO(a);function a(){return dO(this,a),r.apply(this,arguments)}return e=a,(n=[{key:"getShape",value:function(){var i=this.props.model,c=i.x,h=i.y,g=i.r,x=i.getNodeStyle();return Object(fe.g)(qc,Ny({},x,{x:c,y:h,r:g}))}}])&&hO(e.prototype,n),a}(Qi);function Iy(t){return Iy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Iy(t)}function gO(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(S){x=!0,c=S}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||function(n,r){if(n){if(typeof n=="string")return rb(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return rb(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function rb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ob(t){var e=t.points,n=t.className,r={fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1,points:""};return Object.entries(t).forEach(function(a){var i=gO(a,2),c=i[0],h=i[1];Iy(h)!=="object"&&(r[c]=h)}),r.className=n?"lf-basic-shape ".concat(n):"lf-basic-shape",r.points=e.map(function(a){return a.join(",")}).join(" "),Object(fe.g)("polygon",r)}function Ly(t){return Ly=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ly(t)}function zy(){return zy=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zy.apply(this,arguments)}function mO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function By(t,e){return By=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},By(t,e)}function _O(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=ed(t);if(e){var a=ed(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return OO(this,n)}}function OO(t,e){if(e&&(Ly(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function ed(t){return ed=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ed(t)}var Fy=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&By(i,c)})(a,t);var e,n,r=_O(a);function a(){return mO(this,a),r.apply(this,arguments)}return e=a,(n=[{key:"getShape",value:function(){var i=this.props.model,c=i.x,h=i.y,g=i.width,x=i.height,S=i.points,D=i.getNodeStyle(),R={transform:"matrix(1 0 0 1 ".concat(c-g/2," ").concat(h-x/2,")")};return Object(fe.g)("g",R,Object(fe.g)(ob,zy({},D,{points:S,x:c,y:h})))}}])&&bO(e.prototype,n),a}(Qi);function Uy(t){return Uy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uy(t)}function Gy(){return Gy=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gy.apply(this,arguments)}function wO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Xy(t,e){return Xy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Xy(t,e)}function EO(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=td(t);if(e){var a=td(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return SO(this,n)}}function SO(t,e){if(e&&(Uy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function td(t){return td=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},td(t)}var Hy=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Xy(i,c)})(a,t);var e,n,r=EO(a);function a(){return wO(this,a),r.apply(this,arguments)}return e=a,(n=[{key:"getShape",value:function(){var i=this.props.model,c=i.getNodeStyle();return Object(fe.g)("g",null,Object(fe.g)(ob,Gy({},c,{points:i.points,x:i.x,y:i.y})))}}])&&xO(e.prototype,n),a}(Qi);function Yy(t){return Yy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yy(t)}function jO(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(S){x=!0,c=S}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||function(n,r){if(n){if(typeof n=="string")return ib(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return ib(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ib(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function PO(t){var e=t.x,n=e===void 0?0:e,r=t.y,a=r===void 0?0:r,i=t.rx,c=i===void 0?4:i,h=t.ry,g=h===void 0?4:h,x=t.className,S={cx:n,cy:a,rx:c,ry:g,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(t).forEach(function(D){var R=jO(D,2),H=R[0],J=R[1];Yy(J)!=="object"&&(S[H]=J)}),S.className=x?"lf-basic-shape ".concat(x):"lf-basic-shape",Object(fe.g)("ellipse",S)}function Vy(t){return Vy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vy(t)}function Wy(){return Wy=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wy.apply(this,arguments)}function AO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ky(t,e){return Ky=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ky(t,e)}function kO(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=nd(t);if(e){var a=nd(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return TO(this,n)}}function TO(t,e){if(e&&(Vy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function nd(t){return nd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},nd(t)}var $y=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Ky(i,c)})(a,t);var e,n,r=kO(a);function a(){return AO(this,a),r.apply(this,arguments)}return e=a,(n=[{key:"getShape",value:function(){var i=this.props.model,c=i.getNodeStyle();return Object(fe.g)(PO,Wy({},c,{x:i.x,y:i.y,rx:i.rx,ry:i.ry}))}}])&&MO(e.prototype,n),a}(Qi);function Zy(t){return Zy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zy(t)}function ab(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function ub(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ab(Object(n),!0).forEach(function(r){DO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ab(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DO(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function qy(t,e){return qy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},qy(t,e)}function RO(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=rd(t);if(e){var a=rd(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return IO(this,n)}}function IO(t,e){if(e&&(Zy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function rd(t){return rd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},rd(t)}var Jy=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&qy(i,c)})(a,t);var e,n,r=RO(a);function a(){return NO(this,a),r.apply(this,arguments)}return e=a,(n=[{key:"getBackground",value:function(){var i=this.props.model,c=i.getTextStyle(),h=i.width,g=i.height,x=i.x,S=i.y,D=ub(ub({},c.background),{},{x,y:S-1,width:h,height:g});return Object(fe.g)(La,D)}},{key:"getShape",value:function(){return Object(fe.g)("g",null,this.getBackground())}}])&&CO(e.prototype,n),a}(Qi);function Qy(t){return Qy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qy(t)}function ev(){return ev=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ev.apply(this,arguments)}function LO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function tv(t,e){return tv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},tv(t,e)}function BO(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=od(t);if(e){var a=od(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return FO(this,n)}}function FO(t,e){if(e&&(Qy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jl(t)}function Jl(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function od(t){return od=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},od(t)}function id(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var nv=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&tv(i,c)})(a,t);var e,n,r=BO(a);function a(){var i;LO(this,a);for(var c=arguments.length,h=new Array(c),g=0;g<c;g++)h[g]=arguments[g];return id(Jl(i=r.call.apply(r,[this].concat(h))),"ref",void 0),id(Jl(i),"currentProperties",void 0),id(Jl(i),"preProperties",void 0),id(Jl(i),"setRef",function(x){i.ref=x}),i}return e=a,(n=[{key:"rootEl",get:function(){return this.ref}},{key:"setHtml",value:function(i){i.appendChild(document.createElement("div"))}},{key:"shouldUpdate",value:function(){if(!this.preProperties||this.preProperties!==this.currentProperties)return this.preProperties=this.currentProperties,!0}},{key:"componentDidMount",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"componentDidUpdate",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"getShape",value:function(){var i=this.props.model,c=i.x,h=i.y,g=i.height,x=i.width,S=i.getNodeStyle();return this.currentProperties=JSON.stringify(i.properties),Object(fe.g)("foreignObject",ev({},S,{x:c-x/2,y:h-g/2,width:x,height:g,ref:this.setRef}))}}])&&zO(e.prototype,n),a}(Qi);function rv(t){return rv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rv(t)}function ov(){return ov=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ov.apply(this,arguments)}function cb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Uu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cb(Object(n),!0).forEach(function(r){uv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function iv(t,e){return iv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},iv(t,e)}function GO(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=ad(t);if(e){var a=ad(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return XO(this,n)}}function XO(t,e){if(e&&(rv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return av(t)}function av(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ad(t){return ad=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ad(t)}function uv(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var HO=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&iv(i,c)})(a,t);var e,n,r=GO(a);function a(i){var c;return function(h,g){if(!(h instanceof g))throw new TypeError("Cannot call a class as a function")}(this,a),uv(av(c=r.call(this,i)),"setHoverON",function(){c.setState({isHovered:!0})}),uv(av(c),"setHoverOFF",function(){c.setState({isHovered:!1})}),c.state={isHovered:!1},c}return e=a,(n=[{key:"getBackground",value:function(){var i=this.props.model,c=i.getTextStyle(),h=i.text,g=i.width,x=c.background||{};if(this.state.isHovered&&c.hover&&c.hover.background&&(x=Uu(Uu({},x),c.hover.background)),h&&h.value&&x.fill!=="transparent"){var S,D=c.fontSize,R=c.overflowMode,H=c.lineHeight,J=c.wrapPadding,re=c.textWidth,ye=h.value,ge=h.x,we=h.y,Ce=String(ye).split(/[\r\n]/g),Ze=Ce.length;if(R==="autoWrap"&&re){var Ke=np({rows:Ce,style:{fontSize:"".concat(D,"px"),width:"".concat(re,"px"),lineHeight:H,padding:J},rowsLength:Ze,className:"lf-get-text-height"});S=Uu(Uu({},x),{},{x:ge-1,y:we-1,width:re,height:Ke})}else{Ce&&Ce.forEach(function(Kt){kl(Kt)});var bt=ul({rows:Ce,fontSize:D,rowsLength:Ze}),qe=bt.width,pt=bt.height;if(R==="ellipsis"&&(qe=re||g,pt=D+2),typeof x.wrapPadding=="string"){var et=x.wrapPadding.split(",").filter(function(Kt){return Kt.trim()}).map(function(Kt){return parseFloat(Kt.trim())});et.length>0&&et.length<=4&&(et.length===1?et=[et[0],et[0],et[0],et[0]]:et.length===2?et=[et[0],et[1],et[0],et[1]]:et.length===3&&(et=[et[0],et[1],et[2],et[1]]),qe+=et[1]+et[3],pt+=et[0]+et[2],ge+=(et[1]-et[3])/2,we+=(et[2]-et[0])/2)}S=Uu(Uu({},x),{},{x:ge-1,y:we-1,width:qe,height:pt})}return Object(fe.g)(La,S)}}},{key:"getShape",value:function(){var i=this.props.model,c=i.text,h=c.value,g=c.x,x=c.y;if(h){var S=Uu({x:g,y:x,className:"lf-element-text",value:h},i.getTextStyle());return Object(fe.g)("g",{className:"lf-line-text",onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getBackground(),Object(fe.g)(qm,ov({},S,{model:i})))}}}])&&UO(e.prototype,n),a}(Qm);function cv(t){return cv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cv(t)}var Ai,YO=["text","sourceAnchorId","targetAnchorId"];function sb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function ea(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sb(Object(n),!0).forEach(function(r){mo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VO(t,e){if(t==null)return{};var n,r,a=function(c,h){if(c==null)return{};var g,x,S={},D=Object.keys(c);for(x=0;x<D.length;x++)g=D[x],h.indexOf(g)>=0||(S[g]=c[g]);return S}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function WO(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(S){x=!0,c=S}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||function(n,r){if(n){if(typeof n=="string")return lb(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return lb(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function lb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function KO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function sv(t,e){return sv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},sv(t,e)}function $O(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=ud(t);if(e){var a=ud(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ZO(this,n)}}function ZO(t,e){if(e&&(cv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return go(t)}function go(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ud(t){return ud=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ud(t)}function mo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}(function(t){t.SOURCE="SOURCE",t.TARGET="TARGET"})(Ai||(Ai={}));var fb=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&sv(i,c)})(a,t);var e,n,r=$O(a);function a(i){var c;(function(S,D){if(!(S instanceof D))throw new TypeError("Cannot call a class as a function")})(this,a),mo(go(c=r.call(this)),"stepDragData",void 0),mo(go(c),"stepDrag",void 0),mo(go(c),"oldEdge",void 0),mo(go(c),"preTargetNode",void 0),mo(go(c),"targetRuleResults",void 0),mo(go(c),"sourceRuleResults",void 0),mo(go(c),"handleMouseDown",function(S){c.stepDrag&&c.stepDrag.handleMouseDown(S)}),mo(go(c),"onDragStart",function(){var S=c.props,D=S.x,R=S.y,H=S.edgeModel,J=H.startPoint,re=H.endPoint,ye=H.pointsList;c.oldEdge={startPoint:J,endPoint:re,pointsList:ye},c.setState({endX:D,endY:R,dragging:!0})}),mo(go(c),"onDragging",function(S){var D=S.deltaX,R=S.deltaY,H=c.state,J=H.endX,re=H.endY,ye=c.props,ge=ye.graphModel,we=ye.type,Ce=ge.transformModel,Ze=ge.editConfigModel,Ke=WO(Ce.moveCanvasPointByHtml([J,re],D,R),2),bt=Ke[0],qe=Ke[1];c.setState({endX:bt,endY:qe,dragging:!0});var pt=c.props.edgeModel,et=Ui({x:J,y:re},ge);if(et&&et.node&&c.isAllowAdjust(et).pass){var Kt,Jt=pt.startPoint,Tt=pt.endPoint,nn=pt.sourceNode,Xn=pt.targetNode;we===Ai.SOURCE?Kt={startPoint:{x:et.anchor.x,y:et.anchor.y},endPoint:{x:Tt.x,y:Tt.y},sourceNode:et.node,targetNode:Xn}:we===Ai.TARGET&&(Kt={startPoint:{x:Jt.x,y:Jt.y},endPoint:{x:et.anchor.x,y:et.anchor.y},sourceNode:nn,targetNode:et.node}),pt.updateAfterAdjustStartAndEnd(Kt)}else we===Ai.SOURCE?pt.updateStartPoint({x:bt,y:qe}):we===Ai.TARGET&&pt.updateEndPoint({x:bt,y:qe});pt.text.value&&Ze.adjustEdge&&pt.setText(Object.assign({},pt.text,pt.textPosition))}),mo(go(c),"onDragEnd",function(S){var D=S.event;try{var R;c.setState({dragging:!1});var H=c.props,J=H.graphModel,re=H.edgeModel,ye=H.type,ge=c.state,we=ge.endX,Ce=ge.endY,Ze=ge.dragging,Ke=Ui({x:we,y:Ce},J);if(!Ze)return;var bt,qe=!1;if(Ke&&Ke.node){var pt=c.isAllowAdjust(Ke),et=pt.pass,Kt=pt.msg,Jt=pt.newTargetNode;if(et){var Tt=re.getData(),nn=Tt.text,Xn=Tt.sourceAnchorId,Hn=Xn===void 0?"":Xn,Pr=Tt.targetAnchorId;bt=ea(ea({sourceAnchorId:Hn,targetAnchorId:Pr===void 0?"":Pr},VO(Tt,YO)),{},{text:(nn==null?void 0:nn.value)||""}),ye===Ai.SOURCE?(bt=ea(ea({},J.edgeGenerator(J.getNodeModelById(Ke.node.id).getData(),J.getNodeModelById(re.targetNodeId).getData(),bt)),{},{sourceNodeId:Ke.node.id,sourceAnchorId:Ke.anchor.id,startPoint:{x:Ke.anchor.x,y:Ke.anchor.y},targetNodeId:re.targetNodeId,endPoint:ea({},re.endPoint)}),re.sourceNodeId===Ke.node.id&&re.sourceAnchorId===Ke.anchor.id&&(qe=!0)):ye===Ai.TARGET&&(bt=ea(ea({},J.edgeGenerator(J.getNodeModelById(re.sourceNodeId).getData(),J.getNodeModelById(Ke.node.id).getData(),bt)),{},{sourceNodeId:re.sourceNodeId,startPoint:ea({},re.startPoint),targetNodeId:Ke.node.id,targetAnchorId:Ke.anchor.id,endPoint:{x:Ke.anchor.x,y:Ke.anchor.y}}),re.targetNodeId===Ke.node.id&&re.targetAnchorId===Ke.anchor.id&&(qe=!0))}else{qe=!0;var bo=Jt.getData();J.eventCenter.emit(ft.CONNECTION_NOT_ALLOWED,{data:bo,msg:Kt})}}else qe=!0;if(qe)c.recoveryEdge();else{var _o=re.getData();J.deleteEdgeById(re.id);var ki=J.addEdge(ea({},bt));J.eventCenter.emit(ft.EDGE_EXCHANGE_NODE,{data:{newEdge:ki.getData(),oldEdge:_o}})}(R=c.preTargetNode)===null||R===void 0||R.setElementState(un.DEFAULT)}finally{c.props.graphModel.eventCenter.emit(ft.ADJUST_POINT_DRAGEND,{e:D,data:c.stepDragData})}}),mo(go(c),"recoveryEdge",function(){var S=c.props.edgeModel,D=c.oldEdge,R=D.startPoint,H=D.endPoint,J=D.pointsList;S.updateStartPoint(R),S.updateEndPoint(H),S.modelType!==Yt.LINE_EDGE&&(S.pointsList=J,S.initPoints())}),mo(go(c),"getAdjustPointStyle",function(){var S=c.props,D=S.graphModel.theme;return S.edgeModel,D.edgeAdjust}),c.state={dragging:!1,endX:0,endY:0},c.targetRuleResults=new Map,c.sourceRuleResults=new Map;var h=i.type,g=i.edgeModel,x=i.graphModel.eventCenter;return c.stepDragData={type:h,edgeData:g.getData()},c.stepDrag=new ho({onDragStart:c.onDragStart,onDragging:c.onDragging,onDragEnd:c.onDragEnd,eventType:"ADJUST_POINT",isStopPropagation:!1,eventCenter:x,data:c.stepDragData}),c}return e=a,(n=[{key:"isAllowAdjust",value:function(i){var c=this.props,h=c.edgeModel,g=h.id,x=h.sourceNode,S=h.targetNode,D=h.sourceAnchorId,R=h.targetAnchorId,H=c.type,J=null,re=null,ye=null,ge=null;if(H===Ai.SOURCE?(J=i.node,re=S,ye=i.anchor,ge=S.getAnchorInfo(R)):(J=x,re=i.node,ge=i.anchor,ye=x.getAnchorInfo(D)),this.preTargetNode&&this.preTargetNode!==i.node&&this.preTargetNode.setElementState(un.DEFAULT),this.preTargetNode=i.node,ge.id===ye.id)return{pass:!1,msg:"",newTargetNode:re};var we="".concat(J.id,"_").concat(re.id,"_").concat(ye.id,"_").concat(ge.id);if(!this.targetRuleResults.has(we)){var Ce=J.isAllowConnectedAsSource(re,ye,ge,g),Ze=re.isAllowConnectedAsTarget(J,ye,ge,g);this.sourceRuleResults.set(we,Eu(Ce)),this.targetRuleResults.set(we,Eu(Ze))}var Ke=this.sourceRuleResults.get(we),bt=Ke.isAllPass,qe=Ke.msg,pt=this.targetRuleResults.get(we),et=pt.isAllPass,Kt=pt.msg,Jt=bt&&et?un.ALLOW_CONNECT:un.NOT_ALLOW_CONNECT;return H===Ai.SOURCE?J.setElementState(Jt):re.setElementState(Jt),{pass:bt&&et,msg:Kt||qe,newTargetNode:re}}},{key:"render",value:function(){var i=this.props,c=i.x,h=i.y,g=i.getAdjustPointShape,x=i.edgeModel,S=this.state.dragging;return Object(fe.g)("g",{pointerEvents:S?"none":"",onMouseDown:this.handleMouseDown},S?"":g(c,h,x))}}])&&KO(e.prototype,n),a}(fe.a);function lv(t){return lv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lv(t)}function Ql(){return Ql=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ql.apply(this,arguments)}function qO(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(S){x=!0,c=S}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||function(n,r){if(n){if(typeof n=="string")return pb(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return pb(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function pb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function JO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function QO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function fv(t,e){return fv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},fv(t,e)}function ew(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=cd(t);if(e){var a=cd(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return tw(this,n)}}function tw(t,e){if(e&&(lv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ai(t)}function ai(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cd(t){return cd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},cd(t)}function Mi(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ef=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&fv(i,c)})(a,t);var e,n,r=ew(a);function a(){var i;JO(this,a);for(var c=arguments.length,h=new Array(c),g=0;g<c;g++)h[g]=arguments[g];return Mi(ai(i=r.call.apply(r,[this].concat(h))),"startTime",void 0),Mi(ai(i),"contextMenuTime",void 0),Mi(ai(i),"clickTimer",void 0),Mi(ai(i),"textRef",Object(fe.f)()),Mi(ai(i),"handleHover",function(x,S){var D=i.props,R=D.model,H=D.graphModel.eventCenter;R.setHovered(x);var J=x?ft.EDGE_MOUSEENTER:ft.EDGE_MOUSELEAVE,re=R.getData();H.emit(J,{data:re,e:S})}),Mi(ai(i),"setHoverON",function(x){i.props.model.isHovered||(i.textRef&&i.textRef.current&&i.textRef.current.setHoverON(),i.handleHover(!0,x))}),Mi(ai(i),"setHoverOFF",function(x){i.props.model.isHovered&&(i.textRef&&i.textRef.current&&i.textRef.current.setHoverOFF(),i.handleHover(!1,x))}),Mi(ai(i),"handleContextMenu",function(x){x.preventDefault(),i.contextMenuTime=new Date().getTime(),i.clickTimer&&clearTimeout(i.clickTimer);var S=i.props,D=S.model,R=S.graphModel,H=R.getPointByClient({x:x.clientX,y:x.clientY});R.setElementStateById(D.id,un.SHOW_MENU,H.domOverlayPosition),i.toFront(),D.isSelected||R.selectEdgeById(D.id);var J=D==null?void 0:D.getData();R.eventCenter.emit(ft.EDGE_CONTEXTMENU,{data:J,e:x,position:H})}),Mi(ai(i),"handleMouseDown",function(x){x.stopPropagation(),i.startTime=new Date().getTime()}),Mi(ai(i),"handleMouseUp",function(x){if(i.startTime&&!(new Date().getTime()-i.startTime>200||x.button===2)){var S=x.detail===2,D=i.props,R=D.model,H=D.graphModel,J=R==null?void 0:R.getData(),re=H.getPointByClient({x:x.clientX,y:x.clientY});if(S){var ye=H.editConfigModel,ge=H.textEditElement;if(ge&&ge.id===R.id&&H.setElementStateById(R.id,un.DEFAULT),ye.edgeTextEdit&&R.text.editable&&H.setElementStateById(R.id,un.TEXT_EDIT),R.modelType===Yt.POLYLINE_EDGE){var we=R,Ce=H.getPointByClient({x:x.x,y:x.y}).canvasOverlayPosition,Ze=Ce.x,Ke=Ce.y,bt=Dl({x:Ze,y:Ke},we.points);we.dbClickPosition=bt}H.eventCenter.emit(ft.EDGE_DBCLICK,{data:J,e:x,position:re})}else H.eventCenter.emit(ft.ELEMENT_CLICK,{data:J,e:x,position:re}),H.eventCenter.emit(ft.EDGE_CLICK,{data:J,e:x,position:re});var qe=H.editConfigModel;H.selectEdgeById(R.id,Ro(x,qe)),i.toFront()}}),i}return e=a,(n=[{key:"getShape",value:function(){return Object(fe.g)("g",null,this.getEdge())}},{key:"getTextStyle",value:function(){}},{key:"getText",value:function(){var i=this.props,c=i.model,h=i.graphModel;if(c.state===un.TEXT_EDIT)return null;var g=!1,x=h.editConfigModel;return(c.text.draggable||x.edgeTextDraggable)&&(g=!0),Object(fe.g)(HO,{ref:this.textRef,editable:x.edgeTextEdit&&c.text.editable,model:c,graphModel:h,draggable:g})}},{key:"getArrowInfo",value:function(){var i=this.props.model,c=i.startPoint,h=i.endPoint,g=i.isSelected;return{start:c,end:h,hover:this.state.hover,isSelected:g}}},{key:"getLastTwoPoints",value:function(){var i=this.props.model;return[i.startPoint,i.endPoint]}},{key:"getArrowStyle",value:function(){return null}},{key:"getArrow",value:function(){var i=this.props.model,c=i.id,h=i.getArrowStyle(),g=h.refY,x=g===void 0?0:g,S=h.refX,D=S===void 0?2:S,R=qO(this.getLastTwoPoints(),2),H=R[0],J=R[1],re="auto";return H!==null&&J!==null&&(re=In(Sr({x:J.x-H.x,y:J.y-H.y,z:0}))),Object(fe.g)("g",null,Object(fe.g)("defs",null,Object(fe.g)("marker",{id:"marker-start-".concat(c),refX:-D,refY:x,overflow:"visible",orient:"auto",markerUnits:"userSpaceOnUse"},this.getStartArrow()),Object(fe.g)("marker",{id:"marker-end-".concat(c),refX:D,refY:x,overflow:"visible",orient:re,markerUnits:"userSpaceOnUse"},this.getEndArrow())))}},{key:"getStartArrow",value:function(){var i=this.props.model.getArrowStyle();return i.stroke,i.strokeWidth,i.offset,i.verticalLength,Object(fe.g)("path",null)}},{key:"getEndArrow",value:function(){var i=this.props.model.getArrowStyle(),c=i.stroke,h=i.strokeWidth,g=i.offset,x=i.verticalLength;return Object(fe.g)("path",{stroke:c,fill:c,strokeWidth:h,transform:"rotate(180)",d:"M 0 0 L ".concat(g," -").concat(x," L ").concat(g," ").concat(x," Z")})}},{key:"getAdjustPointShape",value:function(i,c,h){var g=h.getAdjustPointStyle();return Object(fe.g)(qc,Ql({className:"lf-edge-adjust-point"},g,{x:i,y:c}))}},{key:"getAdjustPoints",value:function(){var i=this.props,c=i.model,h=i.graphModel,g=c.getAdjustStart(),x=c.getAdjustEnd();return Object(fe.g)("g",null,Object(fe.g)(fb,Ql({type:"SOURCE"},g,{getAdjustPointShape:this.getAdjustPointShape,edgeModel:c,graphModel:h})),Object(fe.g)(fb,Ql({type:"TARGET"},x,{getAdjustPointShape:this.getAdjustPointShape,edgeModel:c,graphModel:h})))}},{key:"getAnimation",value:function(){}},{key:"getAppendWidth",value:function(){return Object(fe.g)("g",null)}},{key:"getAppend",value:function(){return Object(fe.g)("g",{className:"lf-edge-append"},this.getAppendWidth())}},{key:"getEdge",value:function(){return null}},{key:"toFront",value:function(){var i=this.props,c=i.graphModel,h=i.model;c.toFront(h.id)}},{key:"render",value:function(){var i=this.props,c=i.model,h=c.isSelected,g=c.isHitable,x=c.isShowAdjustPoint;return i.graphModel.animation,Object(fe.g)("g",null,Object(fe.g)("g",{className:["lf-edge",!g&&"pointer-none",h&&"lf-edge-selected"].filter(Boolean).join(" "),onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onContextMenu:this.handleContextMenu,onMouseOver:this.setHoverON,onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getShape(),this.getAppend(),this.getText(),this.getArrow()),x&&h?this.getAdjustPoints():"")}}])&&QO(e.prototype,n),a}(fe.a);function pv(t){return pv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pv(t)}function nw(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(S){x=!0,c=S}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||function(n,r){if(n){if(typeof n=="string")return db(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return db(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function db(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var tf=function(t){var e={d:""};return Object.entries(t).forEach(function(n){var r=nw(n,2),a=r[0],i=r[1],c=pv(i);a!=="style"&&c==="object"||(e[a]=i)}),Object(fe.g)("path",e)};function dv(t){return dv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dv(t)}function hv(){return hv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hv.apply(this,arguments)}function rw(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ow(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function yv(t,e){return yv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},yv(t,e)}function iw(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=sd(t);if(e){var a=sd(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return aw(this,n)}}function aw(t,e){if(e&&(dv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function sd(t){return sd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},sd(t)}var vv=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&yv(i,c)})(a,t);var e,n,r=iw(a);function a(){return rw(this,a),r.apply(this,arguments)}return e=a,(n=[{key:"getEdge",value:function(){var i=this.props.model,c=i.startPoint,h=i.endPoint,g=i.isAnimation,x=i.arrowConfig,S=i.getEdgeStyle(),D=i.getEdgeAnimationStyle(),R=D.strokeDasharray,H=D.stroke,J=D.strokeDashoffset,re=D.animationName,ye=D.animationDuration,ge=D.animationIterationCount,we=D.animationTimingFunction,Ce=D.animationDirection;return Object(fe.g)($c,hv({},S,{x1:c.x,y1:c.y,x2:h.x,y2:h.y},x,g?{strokeDasharray:R,stroke:H,style:{strokeDashoffset:J,animationName:re,animationDuration:ye,animationIterationCount:ge,animationTimingFunction:we,animationDirection:Ce}}:{}))}},{key:"getAppendWidth",value:function(){var i=this.props.model,c=i.startPoint,h=i.endPoint,g=Tl({start:c,end:h}),x=g.d,S=g.strokeWidth,D=g.fill,R=g.strokeDasharray,H=g.stroke;return Object(fe.g)(tf,{d:x,fill:D,strokeWidth:S,stroke:H,strokeDasharray:R})}}])&&ow(e.prototype,n),a}(ef);function gv(t){return gv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gv(t)}function uw(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(S){x=!0,c=S}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||function(n,r){if(n){if(typeof n=="string")return hb(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return hb(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function hb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var cw=function(t){var e={points:"",fill:"none"};return Object.entries(t).forEach(function(n){var r=uw(n,2),a=r[0],i=r[1];(a==="style"||gv(i)!=="object")&&(e[a]=i)}),Object(fe.g)("polyline",e)};function mv(t){return mv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mv(t)}function yb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function ld(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yb(Object(n),!0).forEach(function(r){na(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bv(){return bv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bv.apply(this,arguments)}function sw(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(S){x=!0,c=S}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||function(n,r){if(n){if(typeof n=="string")return vb(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return vb(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function vb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _v(t,e){return _v=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},_v(t,e)}function fw(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=fd(t);if(e){var a=fd(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return pw(this,n)}}function pw(t,e){if(e&&(mv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ta(t)}function ta(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fd(t){return fd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},fd(t)}function na(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ov=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&_v(i,c)})(a,t);var e,n,r=fw(a);function a(){var i;return function(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")}(this,a),na(ta(i=r.call(this)),"drag",void 0),na(ta(i),"isDragging",void 0),na(ta(i),"isShowAdjustPointTemp",void 0),na(ta(i),"appendInfo",void 0),na(ta(i),"onDragStart",function(){var c=i.props.model;c.dragAppendStart(),i.isShowAdjustPointTemp=c.isShowAdjustPoint,c.isShowAdjustPoint=!1}),na(ta(i),"onDragging",function(c){var h=c.deltaX,g=c.deltaY,x=i.props,S=x.model,D=x.graphModel;i.isDragging=!0;var R=D.transformModel,H=D.editConfigModel,J=sw(R.fixDeltaXY(h,g),2),re=J[0],ye=J[1],ge=S,we=H.adjustEdgeMiddle;i.appendInfo=we?ge.dragAppendSimple(i.appendInfo,{x:re,y:ye}):ge.dragAppend(i.appendInfo,{x:re,y:ye})}),na(ta(i),"onDragEnd",function(){var c=i.props,h=c.model,g=c.graphModel.eventCenter,x=h;x.dragAppendEnd(),i.isDragging=!1,x.isShowAdjustPoint=i.isShowAdjustPointTemp,i.appendInfo=void 0,g.emit(ft.EDGE_ADJUST,{data:x.getData()})}),na(ta(i),"beforeDragStart",function(c,h){h.dragAble&&i.drag.handleMouseDown(c),i.appendInfo=h}),i.drag=new ho({onDragStart:i.onDragStart,onDragging:i.onDragging,onDragEnd:i.onDragEnd,isStopPropagation:!1}),i}return e=a,(n=[{key:"getEdge",value:function(){var i=this.props.model,c=i.points,h=i.isAnimation,g=i.arrowConfig,x=i.getEdgeStyle(),S=i.getEdgeAnimationStyle(),D=S.strokeDasharray,R=S.stroke,H=S.strokeDashoffset,J=S.animationName,re=S.animationDuration,ye=S.animationIterationCount,ge=S.animationTimingFunction,we=S.animationDirection;return Object(fe.g)(cw,bv({points:c},x,g,h?{strokeDasharray:D,stroke:R,style:{strokeDashoffset:H,animationName:J,animationDuration:re,animationIterationCount:ye,animationTimingFunction:ge,animationDirection:we}}:{}))}},{key:"getArrowInfo",value:function(){var i=this.props.model,c=i.points,h=i.isSelected,g={start:null,end:null,hover:this.state.hover,isSelected:h},x=wi(c);return x.length>=2&&(g.start=x[x.length-2],g.end=x[x.length-1]),g}},{key:"getLastTwoPoints",value:function(){var i=this.props.model.points,c=wi(i);return c.length>=2?[c[c.length-2],c[c.length-1]]:[null,null]}},{key:"getAppendAttributes",value:function(i){var c,h=i.start,g=i.end;if(h.x===g.x&&h.y===g.y)c="";else{var x={start:h,end:g,offset:10,verticalLength:5},S=Pu(ld(ld({},x),{},{type:"start"})),D=Pu(ld(ld({},x),{},{type:"end"}));c="M".concat(S.leftX," ").concat(S.leftY,` 
      L`).concat(S.rightX," ").concat(S.rightY,` 
      L`).concat(D.rightX," ").concat(D.rightY,`
      L`).concat(D.leftX," ").concat(D.leftY," z")}return{d:c,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}},{key:"getAppendShape",value:function(i){var c=this.getAppendAttributes(i),h=c.d,g=c.strokeWidth,x=c.fill,S=c.strokeDasharray,D=c.stroke;return Object(fe.g)(tf,{d:h,fill:x,strokeWidth:g,stroke:D,strokeDasharray:S})}},{key:"getAppendWidth",value:function(){for(var i=this,c=this.props,h=c.model,g=c.graphModel,x=h.pointsList,S=h.draggable,D=[],R=x.length,H=function(re){var ye="lf-polyline-append",ge={start:{x:x[re].x,y:x[re].y},end:{x:x[re+1].x,y:x[re+1].y},startIndex:re,endIndex:re+1,direction:"",dragAble:!0},we=Object(fe.g)("g",{className:ye},i.getAppendShape(ge)),Ce=g.editConfigModel,Ze=Ce.adjustEdge,Ke=Ce.adjustEdgeMiddle;if(Ze&&S){var bt=ge.startIndex,qe=ge.endIndex,pt=Ke&&(bt===0||qe===R-1);ge.dragAble=!pt,ge.start.x===ge.end.x?(ge.dragAble&&(ye+="-ew-resize"),ge.direction=vn.VERTICAL):ge.start.y===ge.end.y&&(ge.dragAble&&(ye+="-ns-resize"),ge.direction=vn.HORIZONTAL),we=Object(fe.g)("g",{className:i.isDragging?"lf-dragging":"lf-drag-able",onMouseDown:function(et){return i.beforeDragStart(et,ge)}},Object(fe.g)("g",{className:ye},i.getAppendShape(ge)))}D.push(we)},J=0;J<R-1;J++)H(J);return Object(fe.g)("g",null,D)}}])&&lw(e.prototype,n),a}(ef);function wv(t){return wv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wv(t)}function dw(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(S){x=!0,c=S}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||function(n,r){if(n){if(typeof n=="string")return gb(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return gb(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function gb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xv(){return xv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xv.apply(this,arguments)}function hw(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ev(t,e){return Ev=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ev(t,e)}function vw(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=pd(t);if(e){var a=pd(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return gw(this,n)}}function gw(t,e){if(e&&(wv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function pd(t){return pd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},pd(t)}var Sv=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Ev(i,c)})(a,t);var e,n,r=vw(a);function a(){return hw(this,a),r.apply(this,arguments)}return e=a,(n=[{key:"getEdge",value:function(){var i=this.props.model,c=i.getEdgeStyle(),h=i.path,g=i.isAnimation,x=i.arrowConfig,S=i.getEdgeAnimationStyle(),D=S.strokeDasharray,R=S.stroke,H=S.strokeDashoffset,J=S.animationName,re=S.animationDuration,ye=S.animationIterationCount,ge=S.animationTimingFunction,we=S.animationDirection;return Object(fe.g)(tf,xv({d:h},c,x,g?{strokeDasharray:D,stroke:R,style:{strokeDashoffset:H,animationName:J,animationDuration:re,animationIterationCount:ye,animationTimingFunction:ge,animationDirection:we}}:{}))}},{key:"getAppendWidth",value:function(){var i=this.props.model.path;return Object(fe.g)(tf,{d:i,strokeWidth:10,stroke:"transparent",fill:"none"})}},{key:"getArrowInfo",value:function(){var i=this.props.model,c=this.state.hover,h=i.isSelected,g=i.getArrowStyle().offset,x=i.pointsList.map(function(D){return{x:D.x,y:D.y}}),S=dw(Uc(x,g),2);return{start:S[0],end:S[1],hover:c,isSelected:h}}},{key:"getLastTwoPoints",value:function(){var i=this.props.model,c=i.getArrowStyle().offset,h=i.pointsList.map(function(g){return{x:g.x,y:g.y}});return Uc(h,c)}}])&&yw(e.prototype,n),a}(ef);function jv(t){return jv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jv(t)}function mb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function mw(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bw(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _w(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Pv(t,e){return Pv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Pv(t,e)}function Ow(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=dd(t);if(e){var a=dd(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ww(this,n)}}function ww(t,e){if(e&&(jv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function dd(t){return dd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},dd(t)}var xw=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Pv(i,c)})(a,t);var e,n,r=Ow(a);function a(){return bw(this,a),r.apply(this,arguments)}return e=a,n=[{key:"getArrowAttributes",value:function(){var i=this.props,c=i.arrowInfo,h=i.style,g=c.start,x=c.end,S={start:g,end:x,offset:h.offset,verticalLength:h.verticalLength,type:"end"},D=Pu(S),R=D.leftX,H=D.leftY,J=D.rightX,re=D.rightY;return function(ye){for(var ge=1;ge<arguments.length;ge++){var we=arguments[ge]!=null?arguments[ge]:{};ge%2?mb(Object(we),!0).forEach(function(Ce){mw(ye,Ce,we[Ce])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ye,Object.getOwnPropertyDescriptors(we)):mb(Object(we)).forEach(function(Ce){Object.defineProperty(ye,Ce,Object.getOwnPropertyDescriptor(we,Ce))})}return ye}({d:"M".concat(R," ").concat(H," L").concat(x.x," ").concat(x.y," L").concat(J," ").concat(re," z")},h)}},{key:"getShape",value:function(){var i=this.getArrowAttributes(),c=i.d,h=i.strokeWidth,g=i.stroke,x=i.fill;return Object(fe.g)(tf,{d:c,fill:x,strokeWidth:h,stroke:g})}},{key:"render",value:function(){return Object(fe.g)("g",{className:"lf-arrow"},this.getShape())}}],n&&_w(e.prototype,n),a}(fe.a),bb=function(t,e){return Ee(t,e)},Ew=function(t){var e=t==null?0:t.length;return e?t[e-1]:void 0},Av=function(){return lt.a.Date.now()},Sw=/\s/,jw=function(t){for(var e=t.length;e--&&Sw.test(t.charAt(e)););return e},Pw=/^\s+/,Aw=function(t){return t&&t.slice(0,jw(t)+1).replace(Pw,"")},Mw=/^[-+]0x[0-9a-f]+$/i,kw=/^0b[01]+$/i,Tw=/^0o[0-7]+$/i,Dw=parseInt,_b=function(t){if(typeof t=="number")return t;if(zt(t))return NaN;if(Sn(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Sn(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Aw(t);var n=kw.test(t);return n||Tw.test(t)?Dw(t.slice(2),n?2:8):Mw.test(t)?NaN:+t},Nw=Math.max,Cw=Math.min,Rw=function(t,e,n){var r,a,i,c,h,g,x=0,S=!1,D=!1,R=!0;if(typeof t!="function")throw new TypeError("Expected a function");function H(Ce){var Ze=r,Ke=a;return r=a=void 0,x=Ce,c=t.apply(Ke,Ze)}function J(Ce){return x=Ce,h=setTimeout(ye,e),S?H(Ce):c}function re(Ce){var Ze=Ce-g;return g===void 0||Ze>=e||Ze<0||D&&Ce-x>=i}function ye(){var Ce=Av();if(re(Ce))return ge(Ce);h=setTimeout(ye,function(Ze){var Ke=e-(Ze-g);return D?Cw(Ke,i-(Ze-x)):Ke}(Ce))}function ge(Ce){return h=void 0,R&&r?H(Ce):(r=a=void 0,c)}function we(){var Ce=Av(),Ze=re(Ce);if(r=arguments,a=this,g=Ce,Ze){if(h===void 0)return J(g);if(D)return clearTimeout(h),h=setTimeout(ye,e),H(g)}return h===void 0&&(h=setTimeout(ye,e)),c}return e=_b(e)||0,Sn(n)&&(S=!!n.leading,i=(D="maxWait"in n)?Nw(_b(n.maxWait)||0,e):i,R="trailing"in n?!!n.trailing:R),we.cancel=function(){h!==void 0&&clearTimeout(h),x=0,r=g=a=h=void 0},we.flush=function(){return h===void 0?c:ge(Av())},we},Iw=o(172);function Lw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ua(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ob,wb,xb,zw=function(){function t(r){(function(a,i){if(!(a instanceof i))throw new TypeError("Cannot call a class as a function")})(this,t),Ua(this,"undos",[]),Ua(this,"redos",[]),Ua(this,"callbacks",[]),Ua(this,"stopWatch",null),Ua(this,"curData",null),Ua(this,"maxSize",50),Ua(this,"waitTime",100),Ua(this,"eventCenter",void 0),this.eventCenter=r}var e,n;return e=t,(n=[{key:"add",value:function(r){bb(Ew(this.undos),r)||(this.undos.push(r),bb(this.curData,r)||(this.redos=[]),this.eventCenter.emit(ft.HISTORY_CHANGE,{data:{undos:this.undos,redos:this.redos,undoAble:this.undos.length>1,redoAble:this.redos.length>0}}),this.undos.length>this.maxSize&&this.undos.shift())}},{key:"undoAble",value:function(){return this.undos.length>1}},{key:"undo",value:function(){if(this.undoAble()){var r=this.undos.pop();this.redos.push(r);var a=this.undos.pop();return this.curData=wn(a),a}}},{key:"redoAble",value:function(){return this.redos.length>0}},{key:"redo",value:function(){if(this.redoAble()){var r=this.redos.pop();return this.curData=wn(r),r}}},{key:"watch",value:function(r){var a=this;this.stopWatch&&this.stopWatch(),this.undos.push(r.modelToGraphData()),this.stopWatch=Object(Iw.a)(r,Rw(function(){var i=r.modelToHistoryData();i&&a.add(i)},this.waitTime))}}])&&Lw(e.prototype,n),t}();function Mv(t){return Mv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mv(t)}function Bw(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(S){x=!0,c=S}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Eb(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Eb(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Eb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Sb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Gu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Sb(Object(n),!0).forEach(function(r){Xu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Sb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function kv(t,e){return kv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},kv(t,e)}function Fw(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=hd(t);if(e){var a=hd(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Uw(this,n)}}function Uw(t,e){if(e&&(Mv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cs(t)}function cs(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hd(t){return hd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},hd(t)}function Xu(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Pb,Ab,Mb,Tv=ui((xb=wb=function(t){(function(c,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(h&&h.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),h&&kv(c,h)})(i,t);var e,n,r,a=Fw(i);function i(){var c;return function(h,g){if(!(h instanceof g))throw new TypeError("Cannot call a class as a function")}(this,i),Xu(cs(c=a.call(this)),"ref",Object(fe.f)()),Xu(cs(c),"__prevText",{type:"",text:"",id:""}),Xu(cs(c),"keyupHandler",function(h){var g=c.props.graphModel.textEditElement;h.key==="Enter"&&h.altKey&&g.setElementState(0)}),Xu(cs(c),"inputHandler",function(h){var g=h.target.innerText,x=c.props.graphModel.textEditElement;c.__prevText={type:x.type,text:g.replace(/(\r\n)+$|(\n)+$/,""),id:x.id}}),Xu(cs(c),"keydownHandler",function(h){h.stopPropagation()}),c.state={style:{left:0,top:0}},c}return e=i,r=[{key:"getDerivedStateFromProps",value:function(c){var h,g=c.graphModel,x=g.transformModel,S=g.theme,D=S.inputText,R=g.textEditElement;if(R){var H;if((H=R.text)===null||H===void 0||!H.value)if(R.BaseType===Gn.EDGE){var J=(R=R).text,re=R.textPosition,ye=re.x,ge=re.y;J.x=ye,J.y=ge,R.setText(J)}else R=R;var we={resize:"auto",whiteSpace:"normal",wordBreak:"break-all"};if(R.BaseType===Gn.EDGE){var Ce=S.edgeText,Ze=Ce.overflowMode,Ke=Ce.lineHeight,bt=Ce.wrapPadding,qe=Ce.textWidth;qe&&Ze==="autoWrap"&&(h=Gu(Gu({},we),{},{width:qe,minWidth:qe,lineHeight:Ke,padding:bt}))}else if(R.BaseType===Gn.NODE){var pt=S.nodeText,et=pt.overflowMode,Kt=pt.lineHeight,Jt=pt.wrapPadding,Tt=pt.textWidth,nn=R,Xn=nn.width,Hn=nn.modelType,Pr=nn.textWidth||Tt||Xn;(Hn!==Yt.TEXT_NODE&&et==="autoWrap"||Hn===Yt.TEXT_NODE&&Tt)&&(h=Gu(Gu({},we),{},{width:Pr,minWidth:Pr,lineHeight:Kt,padding:Jt}))}var bo=R.text,_o=bo.x,ki=bo.y,Hu=Bw(x.CanvasPointToHtmlPoint([_o,ki]),2);return{style:Gu(Gu({left:Hu[0],top:Hu[1]},h),D)}}}}],(n=[{key:"componentDidUpdate",value:function(){var c=this.props.graphModel;if(this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current)),this.__prevText.id!==""){var h=this.__prevText,g=h.text,x=h.id;c.updateText(x,g),c.eventCenter.emit(ft.TEXT_UPDATE,Gu({},this.__prevText)),this.__prevText.id="",this.__prevText.text="",this.__prevText.type=""}}},{key:"placeCaretAtEnd",value:function(c){if(window.getSelection!==void 0&&document.createRange!==void 0){var h=document.createRange();h.selectNodeContents(c),h.collapse(!1);var g=window.getSelection();g.removeAllRanges(),g.addRange(h)}}},{key:"render",value:function(){var c,h=this.props.graphModel.textEditElement,g=this.state.style;return h?Object(fe.g)("div",{contentEditable:!0,className:"lf-text-input",style:g,ref:this.ref,key:h.id,onKeyUp:this.keyupHandler,onKeyDown:this.keydownHandler,onKeyPress:this.keydownHandler,onInput:this.inputHandler},(c=h.text)===null||c===void 0?void 0:c.value):null}}])&&jb(e.prototype,n),r&&jb(e,r),i}(fe.a),Xu(wb,"toolName","textEdit"),Ob=xb))||Ob,Gw=function(t){return t.modelType===Yt.LINE_EDGE?function(e){var n=e.startPoint,r=e.endPoint,a=(n.x+r.x)/2,i=(n.y+r.y)/2,c=Math.abs(n.x-r.x)+10,h=Math.abs(n.y-r.y)+10;return{x:a-c/2,y:i-h/2,x1:a+c/2,y1:i+h/2}}(t):t.modelType===Yt.POLYLINE_EDGE?function(e){var n=e.points,r=wi(n),a=Na(r,8),i=a.x,c=a.y,h=a.width,g=a.height;return{x:i-h/2,y:c-g/2,x1:i+h/2,y1:c+g/2}}(t):t.modelType===Yt.BEZIER_EDGE?function(e){var n=e.path,r=Fc(n),a=Na(r,8),i=a.x,c=a.y,h=a.width,g=a.height;return{x:i-h/2,y:c-g/2,x1:i+h/2,y1:c+g/2}}(t):void 0};function Dv(t){return Dv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dv(t)}function kb(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(S){x=!0,c=S}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||Tb(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Xw(t){return function(e){if(Array.isArray(e))return Nv(e)}(t)||function(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||Tb(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Tb(t,e){if(t){if(typeof t=="string")return Nv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Nv(t,e):void 0}}function Nv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Hw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Cv(t,e){return Cv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Cv(t,e)}function Yw(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=yd(t);if(e){var a=yd(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Vw(this,n)}}function Vw(t,e){if(e&&(Dv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nf(t)}function nf(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yd(t){return yd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},yd(t)}function rf(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Rv=ui((Mb=Ab=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Cv(i,c)})(a,t);var e,n,r=Yw(a);function a(i){var c;(function(S,D){if(!(S instanceof D))throw new TypeError("Cannot call a class as a function")})(this,a),rf(nf(c=r.call(this)),"stepDrag",void 0),rf(nf(c),"handleMouseDown",function(S){c.stepDrag.handleMouseDown(S)}),rf(nf(c),"onDragging",function(S){var D=S.deltaX,R=S.deltaY,H=c.props.graphModel,J=H.getSelectElements(!0);H.moveNodes(J.nodes.map(function(re){return re.id}),D,R)}),rf(nf(c),"handleContextMenu",function(S){S.preventDefault();var D=c.props,R=D.graphModel,H=D.graphModel,J=H.eventCenter,re=H.selectElements,ye=R.getPointByClient({x:S.clientX,y:S.clientY}),ge={nodes:[],edges:[]};Xw(re.values()).forEach(function(we){we.BaseType===Gn.NODE&&ge.nodes.push(we.getData()),we.BaseType===Gn.EDGE&&ge.edges.push(we.getData())}),J.emit(ft.SELECTION_CONTEXTMENU,{data:ge,e:S,position:ye})});var h=i.graphModel,g=h.gridSize,x=h.eventCenter;return c.stepDrag=new ho({onDragging:c.onDragging,step:g,eventType:"SELECTION",eventCenter:x}),c}return e=a,(n=[{key:"render",value:function(){var i=this.props.graphModel,c=i.selectElements,h=i.transformModel;if(!(c.size<=1)){var g=Number.MAX_SAFE_INTEGER,x=Number.MAX_SAFE_INTEGER,S=Number.MIN_SAFE_INTEGER,D=Number.MIN_SAFE_INTEGER;c.forEach(function(re){var ye={x:0,y:0,x1:0,y1:0};re.BaseType===Gn.NODE&&(ye=function(ge){var we=ge.x,Ce=ge.y,Ze=ge.width,Ke=ge.height;return{x:we-Ze/2,y:Ce-Ke/2,x1:we+Ze/2,y1:Ce+Ke/2}}(re)),re.BaseType===Gn.EDGE&&(ye=Gw(re)),g=Math.min(g,ye.x),x=Math.min(x,ye.y),S=Math.max(S,ye.x1),D=Math.max(D,ye.y1)});var R=kb(h.CanvasPointToHtmlPoint([g,x]),2);g=R[0],x=R[1];var H=kb(h.CanvasPointToHtmlPoint([S,D]),2);S=H[0],D=H[1];var J={left:"".concat(g-10,"px"),top:"".concat(x-10,"px"),width:"".concat(S-g+20,"px"),height:"".concat(D-x+20,"px")};return Object(fe.g)("div",{className:"lf-multiple-select",style:J,onMouseDown:this.handleMouseDown,onContextMenu:this.handleContextMenu})}}}])&&Hw(e.prototype,n),a}(fe.a),rf(Ab,"toolName","multipleSelect"),Pb=Mb))||Pb;function Ww(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vd(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Kw=function(){function t(r){(function(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,t),vd(this,"tools",void 0),vd(this,"components",void 0),vd(this,"toolMap",new Map),vd(this,"instance",void 0),this.instance=r,this.isDisabledTool(Tv.toolName)||this.registerTool(Tv.toolName,Tv),this.isDisabledTool(Rv.toolName)||this.registerTool(Rv.toolName,Rv);var a=r.graphModel;a.eventCenter.on("".concat(ft.GRAPH_TRANSFORM,",").concat(ft.NODE_CLICK,",").concat(ft.BLANK_CLICK," "),function(){var i=a.textEditElement,c=a.editConfigModel,h=c.edgeTextEdit,g=c.nodeTextEdit;(h||g)&&i&&a.textEditElement.setElementState(un.DEFAULT)})}var e,n;return e=t,(n=[{key:"isDisabledTool",value:function(r){return this.instance.options.disabledTools.indexOf(r)!==-1}},{key:"registerTool",value:function(r,a){this.toolMap.set(r,a)}},{key:"getTools",value:function(){return Array.from(this.toolMap.values())}},{key:"getInstance",value:function(){return this.instance}}])&&Ww(e.prototype,n),t}(),$w=o(173),Zw=o.n($w);function qw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Iv(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Db=function(){function t(r){(function(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,t),Iv(this,"mousetrap",void 0),Iv(this,"options",void 0),Iv(this,"target",void 0),r.keyboard||(r.keyboard={enabled:!1}),this.options=r;var a=r.lf;this.target=a.container,this.mousetrap=new Zw.a(this.target),r.keyboard.enabled&&!a.options.isSilentMode&&this.enable(!0)}var e,n;return e=t,(n=[{key:"initShortcuts",value:function(){var r=this,a=this.options.keyboard.shortcuts;if(a)if(hn(a))a.forEach(function(g){var x=g.keys,S=g.callback,D=g.action;return r.on(x,S,D)});else{var i=a.keys,c=a.callback,h=a.action;this.on(i,c,h)}}},{key:"on",value:function(r,a,i){this.mousetrap.bind(this.getKeys(r),a,i)}},{key:"disabled",get:function(){return this.options.keyboard.enabled!==!0}},{key:"off",value:function(r,a){this.mousetrap.unbind(this.getKeys(r),a)}},{key:"enable",value:function(r){(this.disabled||r)&&(this.options.keyboard.enabled=!0,this.target instanceof HTMLElement&&(this.target.setAttribute("tabindex","-1"),this.target.style.outline="none"))}},{key:"disable",value:function(){this.disabled||(this.options.keyboard.enabled=!1,this.target instanceof HTMLElement&&this.target.removeAttribute("tabindex"))}},{key:"getKeys",value:function(r){var a=this;return(Array.isArray(r)?r:[r]).map(function(i){return a.formatKey(i)})}},{key:"formatKey",value:function(r){return r.toLowerCase().replace(/\s/g,"").replace("delete","del").replace("cmd","command")}}])&&qw(e.prototype,n),t}(),Jw=Db,ra=null;function Nb(t,e){return t.x+=e,t.y+=e,t.text&&(t.text.x+=e,t.text.y+=e),t}function Cb(t,e){return t.startPoint&&(t.startPoint.x+=e,t.startPoint.y+=e),t.endPoint&&(t.endPoint.x+=e,t.endPoint.y+=e),t.pointsList&&t.pointsList.length>0&&t.pointsList.forEach(function(n){n.x+=e,n.y+=e}),t.text&&(t.text.x+=e,t.text.y+=e),t}var ss=40,Lv=40;function zv(t){return zv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zv(t)}function Rb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function of(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Rb(Object(n),!0).forEach(function(r){zn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ib(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function zn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Bv=Symbol("plugin register by Logicflow.use"),Fv=function(){function t(a){var i,c,h=this;(function(g,x){if(!(g instanceof x))throw new TypeError("Cannot call a class as a function")})(this,t),zn(this,"container",void 0),zn(this,"width",void 0),zn(this,"height",void 0),zn(this,"graphModel",void 0),zn(this,"history",void 0),zn(this,"viewMap",new Map),zn(this,"tool",void 0),zn(this,"keyboard",void 0),zn(this,"dnd",void 0),zn(this,"options",void 0),zn(this,"snaplineModel",void 0),zn(this,"components",[]),zn(this,"plugins",void 0),zn(this,"extension",{}),zn(this,"adapterIn",void 0),zn(this,"adapterOut",void 0),zn(this,"getView",function(g){return h.viewMap.get(g)}),a=Tg(a),this.options=a,this.container=this.initContainer(a.container),this.plugins=a.plugins,this.graphModel=new Kc(of({},a)),this.tool=new Kw(this),this.history=new zw(this.graphModel.eventCenter),this.dnd=new W_({lf:this}),this.keyboard=new Jw({lf:this,keyboard:a.keyboard}),a.snapline!==!1&&(this.snaplineModel=new Ym(this.graphModel),i=this.graphModel.eventCenter,c=this.snaplineModel,i.on("node:mousemove",function(g){var x=g.data;c.setNodeSnapLine(x)}),i.on("node:mouseup",function(){c.clearSnapline()})),function(g,x){var S=g.keyboard,D=S.options.keyboard;S.on(["cmd + c","ctrl + c"],function(){if(Lv=ss,!D.enabled||x.textEditElement)return!0;var R=g.options.guards,H=x.getSelectElements(!1);return R&&R.beforeClone&&!R.beforeClone(H)||H.nodes.length===0&&H.edges.length===0?(ra=null,!0):((ra=H).nodes.forEach(function(J){return Nb(J,ss)}),ra.edges.forEach(function(J){return Cb(J,ss)}),!1)}),S.on(["cmd + v","ctrl + v"],function(){if(!D.enabled||x.textEditElement)return!0;if(ra&&(ra.nodes||ra.edges)){g.clearSelectElements();var R=g.addElements(ra,Lv);if(!R)return!0;R.nodes.forEach(function(H){return g.selectElementById(H.id,!0)}),R.edges.forEach(function(H){return g.selectElementById(H.id,!0)}),ra.nodes.forEach(function(H){return Nb(H,ss)}),ra.edges.forEach(function(H){return Cb(H,ss)}),Lv+=ss}return!1}),S.on(["cmd + z","ctrl + z"],function(){return!D.enabled||!!x.textEditElement||(g.undo(),!1)}),S.on(["cmd + y","ctrl + y"],function(){return!D.enabled||!!x.textEditElement||(g.redo(),!1)}),S.on(["backspace"],function(){if(!D.enabled||x.textEditElement)return!0;var R=x.getSelectElements(!0);return g.clearSelectElements(),R.edges.forEach(function(H){return g.deleteEdge(H.id)}),R.nodes.forEach(function(H){return g.deleteNode(H.id)}),!1})}(this,this.graphModel),this.keyboard.initShortcuts(),this.defaultRegister(),this.installPlugins(a.disabledPlugins)}var e,n,r;return e=t,n=[{key:"register",value:function(a,i){var c=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(typeof a=="string"){var h={BaseEdge:ef,BaseEdgeModel:sl,BaseNode:Qi,BaseNodeModel:Ji,RectNode:Ty,RectNodeModel:cy,CircleNode:Ry,CircleNodeModel:Xh,PolygonNode:Fy,PolygonNodeModel:oy,TextNode:Jy,TextNodeModel:py,LineEdge:vv,LineEdgeModel:Xi,DiamondNode:Hy,DiamondNodeModel:Kh,PolylineEdge:Ov,PolylineEdgeModel:Ic,BezierEdge:Sv,BezierEdgeModel:Lh,EllipseNode:$y,EllipseNodeModel:Jh,HtmlNode:nv,HtmlNodeModel:yy,h:fe.g,type:a};this.viewMap.forEach(function(R){var H=R.extendKey;H&&(h[H]=R)}),this.graphModel.modelMap.forEach(function(R){var H=R.extendKey;H&&(h[H]=R)});var g=i(h),x=g.view,S=g.model,D=x;c&&!D.isObervered&&(D.isObervered=!0,D=ut(D)),this.setView(a,D),this.graphModel.setModel(a,S)}else this.registerElement(a)}},{key:"registerElement",value:function(a){var i=a.view;a.isObserverView===!1||i.isObervered||(i.isObervered=!0,i=ut(i)),this.setView(a.type,i),this.graphModel.setModel(a.type,a.model)}},{key:"batchRegister",value:function(){var a=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];i.forEach(function(c){a.registerElement(c)})}},{key:"defaultRegister",value:function(){this.registerElement({view:Ty,model:cy,type:"rect"}),this.registerElement({type:"circle",view:Ry,model:Xh}),this.registerElement({type:"polygon",view:Fy,model:oy}),this.registerElement({type:"line",view:vv,model:Xi}),this.registerElement({type:"polyline",view:Ov,model:Ic}),this.registerElement({type:"bezier",view:Sv,model:Lh}),this.registerElement({type:"text",view:Jy,model:py}),this.registerElement({type:"ellipse",view:$y,model:Jh}),this.registerElement({type:"diamond",view:Hy,model:Kh}),this.registerElement({type:"html",view:nv,model:yy})}},{key:"selectElementById",value:function(a){var i=arguments.length>1&&arguments[1]!==void 0&&arguments[1],c=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];this.graphModel.selectElementById(a,i),!i&&c&&this.graphModel.toFront(a)}},{key:"focusOn",value:function(a){var i=this.graphModel.transformModel,c=a.coordinate,h=a.id;if(!c){var g=this.getNodeModelById(h);g&&(c=g.getData());var x=this.getEdgeModelById(h);x&&(c=x.textPosition)}var S=c,D=S.x,R=S.y;i.focusOn(D,R,this.graphModel.width,this.graphModel.height)}},{key:"setTheme",value:function(a){this.graphModel.setTheme(a)}},{key:"resize",value:function(a,i){this.graphModel.resize(a,i),this.options.width=this.graphModel.width,this.options.height=this.graphModel.height}},{key:"setDefaultEdgeType",value:function(a){this.graphModel.setDefaultEdgeType(a)}},{key:"updateText",value:function(a,i){this.graphModel.updateText(a,i)}},{key:"deleteElement",value:function(a){var i,c,h,g=this.getModelById(a);return!!g&&(c=(h=(zn(i={},Gn.NODE,this.deleteNode),zn(i,Gn.EDGE,this.deleteEdge),i)[g.BaseType])===null||h===void 0?void 0:h.call(this,a))!==null&&c!==void 0&&c}},{key:"getModelById",value:function(a){return this.graphModel.getElement(a)}},{key:"getDataById",value:function(a){var i;return(i=this.graphModel.getElement(a))===null||i===void 0?void 0:i.getData()}},{key:"changeNodeType",value:function(a,i){this.graphModel.changeNodeType(a,i)}},{key:"changeEdgeType",value:function(a,i){this.graphModel.changeEdgeType(a,i)}},{key:"getNodeEdges",value:function(a){return this.graphModel.getNodeEdges(a)}},{key:"addNode",value:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ft.NODE_ADD,c=arguments.length>2?arguments[2]:void 0;return this.graphModel.addNode(a,i,c)}},{key:"deleteNode",value:function(a){var i=this.graphModel.getNodeModelById(a);if(!i)return!1;var c=i.getData(),h=this.options.guards,g=!h||!h.beforeDelete||h.beforeDelete(c);return g&&this.graphModel.deleteNode(a),g}},{key:"cloneNode",value:function(a){var i=this.graphModel.getNodeModelById(a).getData(),c=this.options.guards;if(!c||!c.beforeClone||c.beforeClone(i))return this.graphModel.cloneNode(a)}},{key:"changeNodeId",value:function(a,i){return this.graphModel.changeNodeId(a,i)}},{key:"getNodeModelById",value:function(a){return this.graphModel.getNodeModelById(a)}},{key:"getNodeDataById",value:function(a){var i;return(i=this.graphModel.getNodeModelById(a))===null||i===void 0?void 0:i.getData()}},{key:"addEdge",value:function(a){return this.graphModel.addEdge(a)}},{key:"deleteEdge",value:function(a){var i=this.options.guards,c=this.graphModel.edgesMap[a];if(!c)return!1;var h=c.model.getData(),g=!i||!i.beforeDelete||i.beforeDelete(h);return g&&this.graphModel.deleteEdgeById(a),g}},{key:"deleteEdgeByNodeId",value:function(a){var i=a.sourceNodeId,c=a.targetNodeId;i&&c?this.graphModel.deleteEdgeBySourceAndTarget(i,c):i?this.graphModel.deleteEdgeBySource(i):c&&this.graphModel.deleteEdgeByTarget(c)}},{key:"changeEdgeId",value:function(a,i){return this.graphModel.changeEdgeId(a,i)}},{key:"getEdgeModelById",value:function(a){var i;return(i=this.graphModel.edgesMap[a])===null||i===void 0?void 0:i.model}},{key:"getEdgeModels",value:function(a){var i=this.graphModel.edges,c=a.sourceNodeId,h=a.targetNodeId;if(c&&h){var g=[];return i.forEach(function(D){D.sourceNodeId===c&&D.targetNodeId===h&&g.push(D)}),g}if(c){var x=[];return i.forEach(function(D){D.sourceNodeId===c&&x.push(D)}),x}if(h){var S=[];return i.forEach(function(D){D.targetNodeId===h&&S.push(D)}),S}return[]}},{key:"getEdgeDataById",value:function(a){var i;return(i=this.getEdgeModelById(a))===null||i===void 0?void 0:i.getData()}},{key:"getNodeIncomingEdge",value:function(a){return this.graphModel.getNodeIncomingEdge(a)}},{key:"getNodeOutgoingEdge",value:function(a){return this.graphModel.getNodeOutgoingEdge(a)}},{key:"getNodeIncomingNode",value:function(a){return this.graphModel.getNodeIncomingNode(a)}},{key:"getNodeOutgoingNode",value:function(a){return this.graphModel.getNodeOutgoingNode(a)}},{key:"editText",value:function(a){this.graphModel.editText(a)}},{key:"setProperties",value:function(a,i){var c;(c=this.graphModel.getElement(a))===null||c===void 0||c.setProperties(mn(i))}},{key:"deleteProperty",value:function(a,i){var c;(c=this.graphModel.getElement(a))===null||c===void 0||c.deleteProperty(i)}},{key:"getProperties",value:function(a){var i;return(i=this.graphModel.getElement(a))===null||i===void 0?void 0:i.getProperties()}},{key:"toFront",value:function(a){this.graphModel.toFront(a)}},{key:"setElementZIndex",value:function(a,i){return this.graphModel.setElementZIndex(a,i)}},{key:"addElements",value:function(a){for(var i=this,c=a.nodes,h=a.edges,g={},x={nodes:[],edges:[]},S=0;S<c.length;S++){var D=c[S],R=D.id,H=this.addNode(D);if(!H)return;R&&(g[R]=H.id),x.nodes.push(H)}return h.forEach(function(J){var re=J.sourceNodeId,ye=J.targetNodeId;g[re]&&(re=g[re]),g[ye]&&(ye=g[ye]);var ge=i.graphModel.addEdge(of(of({},J),{},{sourceNodeId:re,targetNodeId:ye}));x.edges.push(ge)}),x}},{key:"getAreaElement",value:function(a,i){var c=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],h=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],g=arguments.length>4&&arguments[4]!==void 0&&arguments[4];return this.graphModel.getAreaElement(a,i,c,h,g).map(function(x){return x.getData()})}},{key:"getSelectElements",value:function(){var a=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this.graphModel.getSelectElements(a)}},{key:"clearSelectElements",value:function(){this.graphModel.clearSelectElements()}},{key:"getGraphData",value:function(){var a=this.graphModel.modelToGraphData();if(this.adapterOut){for(var i=arguments.length,c=new Array(i),h=0;h<i;h++)c[h]=arguments[h];return this.adapterOut.apply(this,[a].concat(c))}return a}},{key:"getGraphRawData",value:function(){return this.graphModel.modelToGraphData()}},{key:"clearData",value:function(){this.graphModel.clearData()}},{key:"updateEditConfig",value:function(a){var i=this.graphModel,c=i.editConfigModel,h=i.transformModel;c.updateEditConfig(a),(a==null?void 0:a.stopMoveGraph)!==void 0&&h.updateTranslateLimits(a.stopMoveGraph),a!=null&&a.isSilentMode?this.keyboard.disable():this.keyboard.enable(!0)}},{key:"getEditConfig",value:function(){return this.graphModel.editConfigModel.getConfig()}},{key:"getPointByClient",value:function(a,i){return this.graphModel.getPointByClient({x:a,y:i})}},{key:"undo",value:function(){if(this.history.undoAble()){var a=mn(this.history.undo());this.clearSelectElements(),this.graphModel.graphDataToModel(a)}}},{key:"redo",value:function(){if(this.history.redoAble()){var a=mn(this.history.redo());this.clearSelectElements(),this.graphModel.graphDataToModel(a)}}},{key:"zoom",value:function(a,i){return this.graphModel.transformModel.zoom(a,i)}},{key:"resetZoom",value:function(){this.graphModel.transformModel.resetZoom()}},{key:"setZoomMiniSize",value:function(a){this.graphModel.transformModel.setZoomMiniSize(a)}},{key:"setZoomMaxSize",value:function(a){this.graphModel.transformModel.setZoomMaxSize(a)}},{key:"getTransform",value:function(){var a=this.graphModel.transformModel;return{SCALE_X:a.SCALE_X,SCALE_Y:a.SCALE_Y,TRANSLATE_X:a.TRANSLATE_X,TRANSLATE_Y:a.TRANSLATE_Y}}},{key:"translate",value:function(a,i){this.graphModel.transformModel.translate(a,i)}},{key:"resetTranslate",value:function(){var a=this.graphModel.transformModel,i=a.TRANSLATE_X,c=a.TRANSLATE_Y;this.translate(-i,-c)}},{key:"translateCenter",value:function(){this.graphModel.translateCenter()}},{key:"fitView",value:function(a,i){i===void 0&&(i=a),this.graphModel.fitView(a,i)}},{key:"openEdgeAnimation",value:function(a){this.graphModel.openEdgeAnimation(a)}},{key:"closeEdgeAnimation",value:function(a){this.graphModel.closeEdgeAnimation(a)}},{key:"on",value:function(a,i){this.graphModel.eventCenter.on(a,i)}},{key:"off",value:function(a,i){this.graphModel.eventCenter.off(a,i)}},{key:"once",value:function(a,i){this.graphModel.eventCenter.once(a,i)}},{key:"emit",value:function(a,i){this.graphModel.eventCenter.emit(a,i)}},{key:"initContainer",value:function(a){var i=document.createElement("div");return i.style.position="relative",i.style.width="100%",i.style.height="100%",a.innerHTML="",a.appendChild(i),i}},{key:"installPlugins",value:function(){var a,i=this,c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],h=(a=this.plugins)!==null&&a!==void 0?a:t.extensions;h.forEach(function(g){var x=null,S=null;g[Bv]?(x=g.extension,S=g.props):x=g;var D=x.pluginName||x.name;c.indexOf(D)===-1&&i.installPlugin(x,S)})}},{key:"installPlugin",value:function(a,i){if(zv(a)==="object"){var c=a.install,h=a.render;return c&&c.call(a,this,t),h&&this.components.push(h.bind(a)),void(this.extension[a.pluginName]=a)}var g=a,x=new g({lf:this,LogicFlow:t,options:this.options.pluginsOptions,props:i});x.render&&this.components.push(x.render.bind(x)),this.extension[g.pluginName]=x}},{key:"updateAttributes",value:function(a,i){this.graphModel.updateAttributes(a,i)}},{key:"createFakerNode",value:function(a){var i=this.graphModel.modelMap.get(a.type);if(i){var c=new i(of(of({},a),{},{virtual:!0}),this.graphModel);return this.graphModel.setFakerNode(c),c}}},{key:"removeFakerNode",value:function(){this.graphModel.removeFakerNode()}},{key:"setNodeSnapLine",value:function(a){this.snaplineModel&&this.snaplineModel.setNodeSnapLine(a)}},{key:"removeNodeSnapLine",value:function(){this.snaplineModel&&this.snaplineModel.clearSnapline()}},{key:"setView",value:function(a,i){this.viewMap.set(a,i)}},{key:"renderRawData",value:function(a){this.graphModel.graphDataToModel(mn(a)),this.options.history!==!1&&this.history.watch(this.graphModel),Object(fe.j)(Object(fe.g)(Y_,{getView:this.getView,tool:this.tool,options:this.options,dnd:this.dnd,snaplineModel:this.snaplineModel,graphModel:this.graphModel}),this.container),this.emit(ft.GRAPH_RENDERED,this.graphModel.modelToGraphData())}},{key:"render",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.adapterIn&&(a=this.adapterIn(a)),this.renderRawData(a)}}],r=[{key:"use",value:function(a,i){var c,h,g=a.pluginName;g||(g=a.name);var x=(c=this.extensions.get(g))===null||c===void 0?void 0:c.extension;x&&x.destroy&&x.destroy(),this.extensions.set(g,(zn(h={},Bv,Bv),zn(h,"extension",a),zn(h,"props",i),h))}}],n&&Ib(e.prototype,n),r&&Ib(e,r),t}();function ui(t){return ut(t)}zn(Fv,"extensions",new Map),f.default=Fv}])})})(Hv,Hv.exports);var nt=Hv.exports;const ls=Ex(nt);var Nx=function(){function m(){globalThis._ids=this,this._ids=new Set}return m.prototype.generateId=function(){var y="xxxxxxx".replace(/[x]/g,function(s){var f=Math.random()*16|0,o=s==="x"?f:f&3|8;return o.toString(16)});return y},m.prototype.next=function(){for(var y=this.generateId();this._ids.has(y);)y=this.generateId();return this._ids.add(y),y},m}(),Cx=(globalThis==null?void 0:globalThis._ids)||new Nx;function gs(){return Cx.next()}var P0=function(){var m=function(y,s){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,o){f.__proto__=o}||function(f,o){for(var p in o)o.hasOwnProperty(p)&&(f[p]=o[p])},m(y,s)};return function(y,s){m(y,s);function f(){this.constructor=y}y.prototype=s===null?Object.create(s):(f.prototype=s.prototype,new f)}}(),Rx=function(m){P0(y,m);function y(s,f){var o=this;return s.id||(s.id="Event_"+gs()),s.text||(s.text=""),s.text&&typeof s.text=="string"&&(s.text={value:s.text,x:s.x,y:s.y+40}),o=m.call(this,s,f)||this,o}return y.prototype.setAttributes=function(){this.r=18},y.prototype.getConnectedTargetRules=function(){var s=m.prototype.getConnectedTargetRules.call(this),f={message:"起始节点不能作为边的终点",validate:function(){return!1}};return s.push(f),s},y.extendKey="StartEventModel",y}(nt.CircleNodeModel),Ix=function(m){P0(y,m);function y(){return m!==null&&m.apply(this,arguments)||this}return y.extendKey="StartEventNode",y}(nt.CircleNode),Lx={type:"bpmn:startEvent",view:Ix,model:Rx},A0=function(){var m=function(y,s){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,o){f.__proto__=o}||function(f,o){for(var p in o)o.hasOwnProperty(p)&&(f[p]=o[p])},m(y,s)};return function(y,s){m(y,s);function f(){this.constructor=y}y.prototype=s===null?Object.create(s):(f.prototype=s.prototype,new f)}}(),Ad=function(){return Ad=Object.assign||function(m){for(var y,s=1,f=arguments.length;s<f;s++){y=arguments[s];for(var o in y)Object.prototype.hasOwnProperty.call(y,o)&&(m[o]=y[o])}return m},Ad.apply(this,arguments)},zx=function(m){A0(y,m);function y(s,f){var o=this;return s.id||(s.id="Event_"+gs()),s.text||(s.text=""),s.text&&typeof s.text=="string"&&(s.text={value:s.text,x:s.x,y:s.y+40}),o=m.call(this,s,f)||this,o}return y.prototype.setAttributes=function(){this.r=18},y.prototype.getConnectedSourceRules=function(){var s=m.prototype.getConnectedSourceRules.call(this),f={message:"结束节点不能作为边的起点",validate:function(){return!1}};return s.push(f),s},y.extendKey="EndEventModel",y}(nt.CircleNodeModel),Bx=function(m){A0(y,m);function y(){return m!==null&&m.apply(this,arguments)||this}return y.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},y.prototype.getShape=function(){var s=this.props.model,f=s.getNodeStyle(),o=s.x,p=s.y,d=s.r,O=m.prototype.getShape.call(this);return nt.h("g",{},O,nt.h("circle",Ad(Ad({},f),{cx:o,cy:p,r:d-5})))},y.extendKey="EndEventView",y}(nt.CircleNode),Fx={type:"bpmn:endEvent",view:Bx,model:zx},M0=function(){var m=function(y,s){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,o){f.__proto__=o}||function(f,o){for(var p in o)o.hasOwnProperty(p)&&(f[p]=o[p])},m(y,s)};return function(y,s){m(y,s);function f(){this.constructor=y}y.prototype=s===null?Object.create(s):(f.prototype=s.prototype,new f)}}(),lf=function(){return lf=Object.assign||function(m){for(var y,s=1,f=arguments.length;s<f;s++){y=arguments[s];for(var o in y)Object.prototype.hasOwnProperty.call(y,o)&&(m[o]=y[o])}return m},lf.apply(this,arguments)},Ux=function(m){M0(y,m);function y(s,f){var o=this;return s.id||(s.id="Gateway_"+gs()),s.text||(s.text=""),s.text&&typeof s.text=="string"&&(s.text={value:s.text,x:s.x,y:s.y+40}),o=m.call(this,s,f)||this,o.points=[[25,0],[50,25],[25,50],[0,25]],o}return y.extendKey="ExclusiveGatewayModel",y}(nt.PolygonNodeModel),Gx=function(m){M0(y,m);function y(){return m!==null&&m.apply(this,arguments)||this}return y.prototype.getShape=function(){var s=this.props.model,f=s.x,o=s.y,p=s.width,d=s.height,O=s.points,v=s.getNodeStyle();return nt.h("g",{transform:"matrix(1 0 0 1 "+(f-p/2)+" "+(o-d/2)+")"},nt.h("polygon",lf(lf({},v),{x:f,y:o,points:O})),nt.h("path",lf({d:"m 16,15 7.42857142857143,9.714285714285715 -7.42857142857143,9.714285714285715 3.428571428571429,0 5.714285714285715,-7.464228571428572 5.714285714285715,7.464228571428572 3.428571428571429,0 -7.42857142857143,-9.714285714285715 7.42857142857143,-9.714285714285715 -3.428571428571429,0 -5.714285714285715,7.464228571428572 -5.714285714285715,-7.464228571428572 -3.428571428571429,0 z"},v)))},y.extendKey="ExclusiveGatewayNode",y}(nt.PolygonNode),Xx={type:"bpmn:exclusiveGateway",view:Gx,model:Ux},k0=function(){var m=function(y,s){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,o){f.__proto__=o}||function(f,o){for(var p in o)o.hasOwnProperty(p)&&(f[p]=o[p])},m(y,s)};return function(y,s){m(y,s);function f(){this.constructor=y}y.prototype=s===null?Object.create(s):(f.prototype=s.prototype,new f)}}(),Md=function(){return Md=Object.assign||function(m){for(var y,s=1,f=arguments.length;s<f;s++){y=arguments[s];for(var o in y)Object.prototype.hasOwnProperty.call(y,o)&&(m[o]=y[o])}return m},Md.apply(this,arguments)},Hx=function(m){k0(y,m);function y(s,f){var o=this;return s.id||(s.id="Activity_"+gs()),o=m.call(this,s,f)||this,o}return y.extendKey="UserTaskModel",y}(nt.RectNodeModel),Yx=function(m){k0(y,m);function y(){return m!==null&&m.apply(this,arguments)||this}return y.prototype.getLabelShape=function(){var s=this.props.model,f=s.x,o=s.y,p=s.width,d=s.height,O=s.getNodeStyle();return nt.h("svg",{x:f-p/2+5,y:o-d/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},nt.h("path",{fill:O.stroke,d:"M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z"}))},y.prototype.getShape=function(){var s=this.props.model,f=s.x,o=s.y,p=s.width,d=s.height,O=s.radius,v=s.getNodeStyle();return nt.h("g",{},[nt.h("rect",Md(Md({},v),{x:f-p/2,y:o-d/2,rx:O,ry:O,width:p,height:d})),this.getLabelShape()])},y.extendKey="UserTaskNode",y}(nt.RectNode),Vx={type:"bpmn:userTask",view:Yx,model:Hx},T0=function(){var m=function(y,s){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,o){f.__proto__=o}||function(f,o){for(var p in o)o.hasOwnProperty(p)&&(f[p]=o[p])},m(y,s)};return function(y,s){m(y,s);function f(){this.constructor=y}y.prototype=s===null?Object.create(s):(f.prototype=s.prototype,new f)}}(),Yv=function(){return Yv=Object.assign||function(m){for(var y,s=1,f=arguments.length;s<f;s++){y=arguments[s];for(var o in y)Object.prototype.hasOwnProperty.call(y,o)&&(m[o]=y[o])}return m},Yv.apply(this,arguments)},Wx=function(m){T0(y,m);function y(s,f){var o=this;return s.id||(s.id="Activity_"+gs()),o=m.call(this,s,f)||this,o}return y.extendKey="ServiceTaskModel",y}(nt.RectNodeModel),Kx=function(m){T0(y,m);function y(){return m!==null&&m.apply(this,arguments)||this}return y.prototype.getLabelShape=function(){var s=this.props.model,f=s.x,o=s.y,p=s.width,d=s.height,O=s.getNodeStyle();return nt.h("svg",{x:f-p/2+5,y:o-d/2+5,width:30,height:30,viewBox:"0 0 1274 1024"},nt.h("path",{fill:O.stroke,d:"M882.527918 434.149934c-2.234901-5.303796-7.311523-8.853645-13.059434-9.138124l-61.390185-3.009544c-6.635117-20.973684-15.521508-41.175795-26.513864-60.282968l42.051745-47.743374c4.308119-4.889357 4.955872-12.004405 1.602498-17.59268-46.384423-77.30362-103.969956-101.422947-106.400309-102.410438-5.332449-2.170432-11.432377-1.090844-15.693424 2.77009L654.674467 240.664222c-17.004279-8.654101-35.092239-15.756869-53.995775-21.210068l-3.26537-66.490344c-0.280386-5.747911-3.833305-10.824533-9.134031-13.059434-1.683339-0.709151-30.193673-12.391215-76.866668-12.051477-46.672996-0.339738-75.18333 11.342326-76.866668 12.051477-5.300726 2.234901-8.853645 7.311523-9.134031 13.059434l-3.26537 66.490344c-18.903535 5.453199-36.991496 12.555967-53.995775 21.210068l-48.450479-43.922349c-4.261047-3.860934-10.360975-4.940522-15.693424-2.77009-2.430352 0.98749-60.015885 25.106818-106.400309 102.410438-3.353374 5.588275-2.705622 12.703323 1.602498 17.59268l42.051745 47.743374c-10.992355 19.107173-19.878746 39.309284-26.513864 60.282968l-61.390185 3.009544c-5.747911 0.284479-10.824533 3.834328-13.059434 9.138124-1.01512 2.415003-24.687262 60.190871-2.822278 147.651828 1.583055 6.324032 7.072069 10.893094 13.57518 11.308557 5.892197 0.37146 11.751648 0.523933 17.419741 0.667196 14.498202 0.372483 28.193109 0.723477 40.908712 4.63353 4.212952 1.294482 6.435573 8.270361 9.349949 18.763342 1.287319 4.640694 2.617617 9.43693 4.484128 14.010085 1.794879 4.393054 3.75758 8.570189 5.66093 12.607132 1.302669 2.765997 2.529613 5.380544 3.689019 8.018627 2.986007 6.803963 2.682086 9.773598 2.578732 10.349719-3.061732 3.672646-6.391571 7.238868-9.91379 11.015891-1.810229 1.943258-3.680832 3.949962-5.523807 5.980201l-22.560832 24.8909c-3.865028 4.261047-4.940522 10.365068-2.774183 15.693424 0.991584 2.426259 25.102724 60.011792 102.414531 106.400309 5.588275 3.353374 12.703323 2.701528 17.591657-1.603521l23.476691-20.682042c2.346441-2.061962 4.64888-4.336772 6.875594-6.534833 9.05319-8.93858 14.018272-12.95608 17.73185-11.576663 3.305279 1.222851 6.907317 3.166109 10.720156 5.228071 3.325745 1.794879 6.764054 3.650133 10.465352 5.288446 6.016017 2.662643 12.120039 4.688789 18.019399 6.65149 6.827499 2.266623 13.279445 4.409426 18.819624 7.275707 1.518586 0.782829 1.926886 0.994654 2.358721 7.830339 0.726547 11.496845 1.25048 23.276123 1.753947 34.672684 0.264013 5.900384 0.528026 11.803837 0.815575 17.700127 0.284479 5.743818 3.833305 10.82044 9.138124 13.05534 1.654686 0.698918 29.371958 12.063757 74.869175 12.063757 0.328481 0 3.65832 0 3.986801 0 45.497217 0 73.214489-11.364839 74.869175-12.063757 5.304819-2.234901 8.853645-7.311523 9.138124-13.05534 0.287549-5.89629 0.551562-11.799744 0.815575-17.700127 0.503467-11.396561 1.027399-23.175839 1.753947-34.672684 0.431835-6.835685 0.840134-7.04751 2.358721-7.830339 5.54018-2.866281 11.992125-5.009084 18.819624-7.275707 5.89936-1.962701 12.003382-3.988848 18.019399-6.65149 3.701299-1.638313 7.139607-3.493567 10.465352-5.288446 3.812839-2.061962 7.414877-4.00522 10.720156-5.228071 3.713578-1.379417 8.67866 2.638083 17.73185 11.576663 2.226714 2.198062 4.529153 4.472871 6.875594 6.534833l23.476691 20.682042c4.888334 4.305049 12.003382 4.956895 17.591657 1.603521 77.311807-46.388517 101.422947-103.97405 102.414531-106.400309 2.166339-5.328355 1.090844-11.432377-2.774183-15.693424l-22.560832-24.8909c-1.842974-2.030239-3.713578-4.036943-5.523807-5.980201-3.52222-3.777023-6.852058-7.343245-9.91379-11.015891-0.103354-0.576121-0.407276-3.545756 2.578732-10.349719 1.159406-2.638083 2.38635-5.252631 3.689019-8.018627 1.90335-4.036943 3.866051-8.214079 5.66093-12.607132 1.866511-4.573155 3.196809-9.369392 4.484128-14.010085 2.914376-10.492982 5.136997-17.46886 9.349949-18.763342 12.715603-3.910053 26.41051-4.261047 40.908712-4.63353 5.668093-0.143263 11.527544-0.295735 17.419741-0.667196 6.503111-0.415462 11.992125-4.984524 13.57518-11.308557C907.21518 494.340805 883.543038 436.564937 882.527918 434.149934zM643.49894 643.761929c-35.280528 35.280528-82.191954 54.711066-132.086317 54.711066s-96.806813-19.430538-132.086317-54.711066c-35.280528-35.279504-54.711066-82.191954-54.711066-132.086317 0-49.894364 19.430538-96.80272 54.711066-132.082224 35.283598-35.284621 82.191954-54.711066 132.086317-54.711066s96.80579 19.426445 132.086317 54.711066c35.279504 35.279504 54.711066 82.187861 54.711066 132.082224C698.210006 561.569976 678.782537 608.482425 643.49894 643.761929z"}))},y.prototype.getShape=function(){var s=this.props.model,f=s.x,o=s.y,p=s.width,d=s.height,O=s.radius,v=s.getNodeStyle();return nt.h("g",{},[nt.h("rect",Yv({x:f-p/2,y:o-d/2,rx:O,ry:O,width:p,height:d},v)),this.getLabelShape()])},y.extendKey="ServiceTaskNode",y}(nt.RectNode),$x={type:"bpmn:serviceTask",view:Kx,model:Wx},D0=function(){var m=function(y,s){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,o){f.__proto__=o}||function(f,o){for(var p in o)o.hasOwnProperty(p)&&(f[p]=o[p])},m(y,s)};return function(y,s){m(y,s);function f(){this.constructor=y}y.prototype=s===null?Object.create(s):(f.prototype=s.prototype,new f)}}(),Zx=function(m){D0(y,m);function y(s,f){var o=this;return s.id||(s.id="Flow_"+gs()),o=m.call(this,s,f)||this,o}return y.extendKey="SequenceFlowModel",y}(nt.PolylineEdgeModel),qx=function(m){D0(y,m);function y(){return m!==null&&m.apply(this,arguments)||this}return y.extendKey="SequenceFlowEdge",y}(nt.PolylineEdge),Jx={type:"bpmn:sequenceFlow",view:qx,model:Zx},Hb={width:40,height:40},Yb={width:40,height:40},Vb={width:40,height:40},Wb={width:100,height:80},Kb={width:100,height:80},Qx={rect:{radius:5,stroke:"rgb(24, 125, 255)"},circle:{r:18,stroke:"rgb(24, 125, 255)"},polygon:{stroke:"rgb(24, 125, 255)"},polyline:{stroke:"rgb(24, 125, 255)",hoverStroke:"rgb(24, 125, 255)",selectedStroke:"rgb(24, 125, 255)"},edgeText:{background:{fill:"white",height:14,stroke:"transparent",radius:3}}},eE=function(){function m(y){var s=y.lf;s.setTheme(Qx),s.register(Lx),s.register(Fx),s.register(Xx),s.register(Vx),s.register($x),s.options.customBpmnEdge||(s.register(Jx),s.setDefaultEdgeType("bpmn:sequenceFlow"))}return m.pluginName="bpmnElement",m}(),tE=function(){function m(){globalThis._ids=this,this._ids=new Set}return m.prototype.generateId=function(){var y="xxxxxxx".replace(/[x]/g,function(s){var f=Math.random()*16|0,o=s==="x"?f:f&3|8;return o.toString(16)});return y},m.prototype.next=function(){for(var y=this.generateId();this._ids.has(y);)y=this.generateId();return this._ids.add(y),y},m}(),nE=(globalThis==null?void 0:globalThis._ids)||new tE;function $b(){return nE.next()}function N0(m){return Object.prototype.toString.call(m)}function rE(m){return"  ".repeat(m)}function kd(m){var y=m;return N0(m)==="[object Object]"?(y={},Object.keys(m).forEach(function(s){var f=s;s.charAt(0)==="-"&&(f=s.substring(1)),y[f]=kd(m[s])})):Array.isArray(m)&&(y=[],m.forEach(function(s,f){y[f]=kd(s)})),y}function oE(m){var y=m;try{typeof y!="string"&&(y=JSON.parse(m))}catch(s){y=JSON.stringify(kd(m)).replace(/"/g,"'")}return y}var fs=`	
`;function Ed(m,y,s){var f=rE(s),o="";if(y==="#text")return fs+f+m;if(y==="#cdata-section")return fs+f+"<![CDATA["+m+"]]>";if(y==="#comment")return fs+f+"<!--"+m+"-->";if((""+y).charAt(0)==="-")return" "+y.substring(1)+'="'+oE(m)+'"';if(Array.isArray(m))m.forEach(function(v){o+=Ed(v,y,s+1)});else if(N0(m)==="[object Object]"){var p=Object.keys(m),d="",O="";o+=(s===0?"":fs+f)+"<"+y,p.forEach(function(v){v.charAt(0)==="-"?d+=Ed(m[v],v,s+1):O+=Ed(m[v],v,s+1)}),o+=d+(O!==""?">"+O+(fs+f)+"</"+y+">":" />")}else o+=fs+f+("<"+y+">"+m.toString()+"</"+y+">");return o}function iE(m){var y="";for(var s in m)y+=Ed(m[s],s,0);return y}var $r=function(){};$r.ObjTree=function(){return this};$r.ObjTree.VERSION="0.23";$r.ObjTree.prototype.xmlDecl=`<?xml version="1.0" encoding="UTF-8" ?>
`;$r.ObjTree.prototype.attr_prefix="-";$r.ObjTree.prototype.parseXML=function(m){var y;if(window.DOMParser){var s=new DOMParser,f=s.parseFromString(m,"application/xml");if(!f)return;y=f.documentElement}else window.ActiveXObject&&(s=new ActiveXObject("Microsoft.XMLDOM"),s.async=!1,s.loadXML(m),y=s.documentElement);if(y)return this.parseDOM(y)};$r.ObjTree.prototype.parseHTTP=function(m,y,s){var f={};for(var o in y)f[o]=y[o];if(f.method||(typeof f.postBody=="undefined"&&typeof f.postbody=="undefined"&&typeof f.parameters=="undefined"?f.method="get":f.method="post"),s){f.asynchronous=!0;var p=this,d=s,O=f.onComplete;f.onComplete=function(M){var A;M&&M.responseXML&&M.responseXML.documentElement&&(A=p.parseDOM(M.responseXML.documentElement)),d(A,M),O&&O(M)}}else f.asynchronous=!1;var v;if(typeof HTTP!="undefined"&&HTTP.Request){f.uri=m;var E=new HTTP.Request(f);E&&(v=E.transport)}else if(typeof Ajax!="undefined"&&Ajax.Request){var E=new Ajax.Request(m,f);E&&(v=E.transport)}if(s)return v;if(v&&v.responseXML&&v.responseXML.documentElement)return this.parseDOM(v.responseXML.documentElement)};$r.ObjTree.prototype.parseDOM=function(m){if(m){if(this.__force_array={},this.force_array)for(var y=0;y<this.force_array.length;y++)this.__force_array[this.force_array[y]]=1;var s=this.parseElement(m);if(this.__force_array[m.nodeName]&&(s=[s]),m.nodeType!=11){var f={};f[m.nodeName]=s,s=f}return s}};$r.ObjTree.prototype.parseElement=function(m){if(m.nodeType!=7){if(m.nodeType==3||m.nodeType==4||m.nodeType==8){var y=m.nodeValue.match(/[^\x00-\x20]/);return y==null?void 0:m.nodeValue}var s=null,f={};if(m.attributes&&m.attributes.length){s={};for(var o=0;o<m.attributes.length;o++){var p=m.attributes[o].nodeName;if(typeof p=="string"){var d=m.attributes[o].nodeValue;try{d=JSON.parse(m.attributes[o].nodeValue.replace(/'/g,'"'))}catch(E){d=m.attributes[o].nodeValue}d&&(p=this.attr_prefix+p,typeof f[p]=="undefined"&&(f[p]=0),f[p]++,this.addNode(s,p,f[p],d))}}}if(m.childNodes&&m.childNodes.length){var O=!0;s&&(O=!1);for(var o=0;o<m.childNodes.length&&O;o++){var v=m.childNodes[o].nodeType;v==3||v==4||v==8||(O=!1)}if(O){s||(s="");for(var o=0;o<m.childNodes.length;o++)s+=m.childNodes[o].nodeValue}else{s||(s={});for(var o=0;o<m.childNodes.length;o++){var p=m.childNodes[o].nodeName;if(typeof p=="string"){var d=this.parseElement(m.childNodes[o]);d&&(typeof f[p]=="undefined"&&(f[p]=0),f[p]++,this.addNode(s,p,f[p],d))}}}}else s===null&&(s={});return s}};$r.ObjTree.prototype.addNode=function(m,y,s,f){this.__force_array[y]?(s==1&&(m[y]=[]),m[y][m[y].length]=f):s==1?m[y]=f:s==2?m[y]=[m[y],f]:m[y][m[y].length]=f};$r.ObjTree.prototype.writeXML=function(m){var y=this.hash_to_xml(null,m);return this.xmlDecl+y};$r.ObjTree.prototype.hash_to_xml=function(m,y){var s=[],f=[];for(var o in y)if(y.hasOwnProperty(o)){var p=y[o];o.charAt(0)!=this.attr_prefix?typeof p=="undefined"||p==null?s[s.length]="<"+o+" />":typeof p=="object"&&p.constructor==Array?s[s.length]=this.array_to_xml(o,p):typeof p=="object"?s[s.length]=this.hash_to_xml(o,p):s[s.length]=this.scalar_to_xml(o,p):f[f.length]=" "+o.substring(1)+'="'+this.xml_escape(p)+'"'}var d=f.join(""),O=s.join("");return typeof m=="undefined"||m==null||(s.length>0?O.match(/\n/)?O="<"+m+d+`>
`+O+"</"+m+`>
`:O="<"+m+d+">"+O+"</"+m+`>
`:O="<"+m+d+` />
`),O};$r.ObjTree.prototype.array_to_xml=function(m,y){for(var s=[],f=0;f<y.length;f++){var o=y[f];typeof o=="undefined"||o==null?s[s.length]="<"+m+" />":typeof o=="object"&&o.constructor==Array?s[s.length]=this.array_to_xml(m,o):typeof o=="object"?s[s.length]=this.hash_to_xml(m,o):s[s.length]=this.scalar_to_xml(m,o)}return s.join("")};$r.ObjTree.prototype.scalar_to_xml=function(m,y){return m=="#text"?this.xml_escape(y):"<"+m+">"+this.xml_escape(y)+"</"+m+`>
`};$r.ObjTree.prototype.xml_escape=function(m){return m.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var aE=function(m){return new $r.ObjTree().parseXML(m)},uE=function(){var m=function(y,s){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,o){f.__proto__=o}||function(f,o){for(var p in o)o.hasOwnProperty(p)&&(f[p]=o[p])},m(y,s)};return function(y,s){m(y,s);function f(){this.constructor=y}y.prototype=s===null?Object.create(s):(f.prototype=s.prototype,new f)}}(),Vv=function(){return Vv=Object.assign||function(m){for(var y,s=1,f=arguments.length;s<f;s++){y=arguments[s];for(var o in y)Object.prototype.hasOwnProperty.call(y,o)&&(m[o]=y[o])}return m},Vv.apply(this,arguments)},Bd=function(m,y){var s=typeof Symbol=="function"&&m[Symbol.iterator];if(!s)return m;var f=s.call(m),o,p=[],d;try{for(;(y===void 0||y-- >0)&&!(o=f.next()).done;)p.push(o.value)}catch(O){d={error:O}}finally{try{o&&!o.done&&(s=f.return)&&s.call(f)}finally{if(d)throw d.error}}return p},Ti;(function(m){m.START="bpmn:startEvent",m.END="bpmn:endEvent",m.GATEWAY="bpmn:exclusiveGateway",m.USER="bpmn:userTask",m.SYSTEM="bpmn:serviceTask",m.FLOW="bpmn:sequenceFlow"})(Ti||(Ti={}));var C0=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef"],Zb=["properties","startPoint","endPoint","pointsList"];function qb(m){var y=m?Zb.concat(m):Zb;return function(s){function f(o){var p={};return typeof o=="string"?o:Array.isArray(o)?o.map(function(d){return f(d)}):(Object.entries(o).forEach(function(d){var O=Bd(d,2),v=O[0],E=O[1];typeof E!="object"?v.indexOf("-")===0||["#text","#cdata-section","#comment"].includes(v)?p[v]=E:p["-"+v]=E:y.includes(v)?p["-"+v]=f(E):p[v]=f(E)}),p)}return f(s)}}function Td(m){var y={};return Object.entries(m).forEach(function(s){var f=Bd(s,2),o=f[0],p=f[1];o.indexOf("-")===0?y[o.substring(1)]=kd(p):typeof p=="string"?y[o]=p:Object.prototype.toString.call(p)==="[object Object]"?y[o]=Td(p):Array.isArray(p)?y[o]=p.map(function(d){return Td(d)}):y[o]=p}),y}function cE(m,y,s){var f=new Map;y.nodes.forEach(function(p){var d,O={"-id":p.id};if(!((d=p.text)===null||d===void 0)&&d.value&&(O["-name"]=p.text.value),p.properties){var v=qb(s)(p.properties);Object.assign(O,v)}f.set(p.id,O),m[p.type]?Array.isArray(m[p.type])?m[p.type].push(O):m[p.type]=[m[p.type],O]:m[p.type]=O});var o=y.edges.map(function(p){var d,O,v=f.get(p.targetNodeId);v["bpmn:incoming"]?Array.isArray(v["bpmn:incoming"])?v["bpmn:incoming"].push(p.id):v["bpmn:incoming"]=[v["bpmn:incoming"],p.id]:v["bpmn:incoming"]=p.id;var E={"-id":p.id,"-sourceRef":p.sourceNodeId,"-targetRef":p.targetNodeId};if(!((d=p.text)===null||d===void 0)&&d.value&&(E["-name"]=(O=p.text)===null||O===void 0?void 0:O.value),p.properties){var M=qb(s)(p.properties);Object.assign(E,M)}return E});y.edges.forEach(function(p){var d=f.get(p.sourceNodeId);d["bpmn:outgoing"]?Array.isArray(d["bpmn:outgoing"])?d["bpmn:outgoing"].push(p.id):d["bpmn:outgoing"]=[d["bpmn:outgoing"],p.id]:d["bpmn:outgoing"]=p.id}),m[Ti.FLOW]=o}function sE(m,y){m["bpmndi:BPMNEdge"]=y.edges.map(function(s){var f,o=s.id,p=s.pointsList.map(function(O){var v=O.x,E=O.y;return{"-x":v,"-y":E}}),d={"-id":o+"_di","-bpmnElement":o,"di:waypoint":p};return!((f=s.text)===null||f===void 0)&&f.value&&(d["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":s.text.x-s.text.value.length*10/2,"-y":s.text.y-7,"-width":s.text.value.length*10,"-height":14}}),d}),m["bpmndi:BPMNShape"]=y.nodes.map(function(s){var f,o=s.id,p=100,d=80,O=s.x,v=s.y,E=Va.shapeConfigMap.get(s.type);E&&(p=E.width,d=E.height),O-=p/2,v-=d/2;var M={"-id":o+"_di","-bpmnElement":o,"dc:Bounds":{"-x":O,"-y":v,"-width":p,"-height":d}};return!((f=s.text)===null||f===void 0)&&f.value&&(M["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":s.text.x-s.text.value.length*10/2,"-y":s.text.y-7,"-width":s.text.value.length*10,"-height":14}}),M})}function lE(m){var y=[],s=[],f=m["bpmn:definitions"];if(f){var o=f["bpmn:process"];Object.keys(o).forEach(function(p){if(p.indexOf("bpmn:")===0){var d=o[p];if(p===Ti.FLOW){var O=f["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];s=pE(d,O)}else{var v=f["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];y=y.concat(fE(d,v,p))}}})}return{nodes:y,edges:s}}function fE(m,y,s){var f=[];if(Array.isArray(m))m.forEach(function(d){var O;Array.isArray(y)?O=y.find(function(E){return E["-bpmnElement"]===d["-id"]}):O=y;var v=Jb(O,s,d);f.push(v)});else{var o=void 0;Array.isArray(y)?o=y.find(function(d){return d["-bpmnElement"]===m["-id"]}):o=y;var p=Jb(o,s,m);f.push(p)}return f}function Jb(m,y,s){var f=Number(m["dc:Bounds"]["-x"]),o=Number(m["dc:Bounds"]["-y"]),p=s["-name"],d=Va.shapeConfigMap.get(y);d&&(f+=d.width/2,o+=d.height/2);var O;Object.entries(s).forEach(function(A){var T=Bd(A,2),k=T[0],I=T[1];C0.indexOf(k)===-1&&(O||(O={}),O[k]=I)}),O&&(O=Td(O));var v;if(p&&(v={x:f,y:o,value:p},m["bpmndi:BPMNLabel"]&&m["bpmndi:BPMNLabel"]["dc:Bounds"])){var E=m["bpmndi:BPMNLabel"]["dc:Bounds"];v.x=Number(E["-x"])+Number(E["-width"])/2,v.y=Number(E["-y"])+Number(E["-height"])/2}var M={id:m["-bpmnElement"],type:y,x:f,y:o,properties:O};return v&&(M.text=v),M}function pE(m,y){var s=[];if(Array.isArray(m))m.forEach(function(o){var p;Array.isArray(y)?p=y.find(function(d){return d["-bpmnElement"]===o["-id"]}):p=y,s.push(Qb(p,o))});else{var f=void 0;Array.isArray(y)?f=y.find(function(o){return o["-bpmnElement"]===m["-id"]}):f=y,s.push(Qb(f,m))}return s}function Qb(m,y){var s,f=y["-name"];if(f){var o=m["bpmndi:BPMNLabel"]["dc:Bounds"],p=0;f.split(`
`).forEach(function(v){p<v.length&&(p=v.length)}),s={value:f,x:Number(o["-x"])+p*10/2,y:Number(o["-y"])+7}}var d;Object.entries(y).forEach(function(v){var E=Bd(v,2),M=E[0],A=E[1];C0.indexOf(M)===-1&&(d||(d={}),d[M]=A)}),d&&(d=Td(d));var O={id:y["-id"],type:Ti.FLOW,pointsList:m["di:waypoint"].map(function(v){return{x:Number(v["-x"]),y:Number(v["-y"])}}),sourceNodeId:y["-sourceRef"],targetNodeId:y["-targetRef"],properties:d};return s&&(O.text=s),O}var Va=function(){function m(y){var s=this,f=y.lf;this.adapterOut=function(o,p){var d=Vv({},s.processAttributes);cE(d,o,p);var O={"-id":"BPMNPlane_1","-bpmnElement":d["-id"]};sE(O,o);var v=s.definitionAttributes;v["bpmn:process"]=d,v["bpmndi:BPMNDiagram"]={"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":O};var E={"bpmn:definitions":v};return E},this.adapterIn=function(o){if(o)return lE(o)},f.adapterIn=function(o){return s.adapterIn(o)},f.adapterOut=function(o,p){return s.adapterOut(o,p)},this.processAttributes={"-isExecutable":"true","-id":"Process_"+$b()},this.definitionAttributes={"-id":"Definitions_"+$b(),"-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://logic-flow.org","-exporter":"logicflow","-exporterVersion":"1.2.0"}}return m.prototype.setCustomShape=function(y,s){m.shapeConfigMap.set(y,s)},m.pluginName="bpmn-adapter",m.shapeConfigMap=new Map,m}();Va.shapeConfigMap.set(Ti.START,{width:Hb.width,height:Hb.height});Va.shapeConfigMap.set(Ti.END,{width:Yb.width,height:Yb.height});Va.shapeConfigMap.set(Ti.GATEWAY,{width:Vb.width,height:Vb.height});Va.shapeConfigMap.set(Ti.SYSTEM,{width:Wb.width,height:Wb.height});Va.shapeConfigMap.set(Ti.USER,{width:Kb.width,height:Kb.height});(function(m){uE(y,m);function y(s){var f=m.call(this,s)||this;f.adapterXmlIn=function(p){var d=aE(p);return f.adapterIn(d)},f.adapterXmlOut=function(p,d){var O=f.adapterOut(p,d);return iE(O)};var o=s.lf;return o.adapterIn=f.adapterXmlIn,o.adapterOut=f.adapterXmlOut,f}return y.pluginName="bpmnXmlAdapter",y})(Va);var dE=function(){function m(){globalThis._ids=this,this._ids=new Set}return m.prototype.generateId=function(){var y="xxxxxxx".replace(/[x]/g,function(s){var f=Math.random()*16|0,o=s==="x"?f:f&3|8;return o.toString(16)});return y},m.prototype.next=function(){for(var y=this.generateId();this._ids.has(y);)y=this.generateId();return this._ids.add(y),y},m}(),hE=(globalThis==null?void 0:globalThis._ids)||new dE;function yE(){return hE.next()}nt.h("circle",{cx:18,cy:18,r:11,style:"stroke-linecap: round;stroke-linejoin: round;stroke: rgb(34, 36, 42);stroke-width: 2px;fill: white"}),nt.h("path",{d:"M 18,18 l 2.25,-7.5 m -2.25,7.5 l 5.25,1.5",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 2px;"}),nt.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(0,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),nt.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(30,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),nt.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(60,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),nt.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(90,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),nt.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(120,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),nt.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(150,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),nt.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(180,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),nt.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(210,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),nt.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(240,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),nt.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(270,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),nt.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(300,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),nt.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(330,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"});nt.h("circle",{cx:18,cy:18,r:10,style:"stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 4px; fill: rgb(34, 36, 42);"});nt.h("circle",{cx:25,cy:25,r:13,style:"stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 2.5px; fill: white;"});var tg,Bn,R0,Vu,e0,I0,Wv,Kv={},ng=[],vE=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,rg=Array.isArray;function Ya(m,y){for(var s in y)m[s]=y[s];return m}function L0(m){var y=m.parentNode;y&&y.removeChild(m)}function ff(m,y,s){var f,o,p,d={};for(p in y)p=="key"?f=y[p]:p=="ref"?o=y[p]:d[p]=y[p];if(arguments.length>2&&(d.children=arguments.length>3?tg.call(arguments,2):s),typeof m=="function"&&m.defaultProps!=null)for(p in m.defaultProps)d[p]===void 0&&(d[p]=m.defaultProps[p]);return Sd(m,d,f,o,null)}function Sd(m,y,s,f,o){var p={type:m,props:y,key:s,ref:f,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:o==null?++R0:o,__i:-1,__u:0};return o==null&&Bn.vnode!=null&&Bn.vnode(p),p}function og(m){return m.children}function hs(m,y){this.props=m,this.context=y}function vs(m,y){if(y==null)return m.__?vs(m.__,m.__i+1):null;for(var s;y<m.__k.length;y++)if((s=m.__k[y])!=null&&s.__e!=null)return s.__e;return typeof m.type=="function"?vs(m):null}function gE(m,y,s){var f,o=m.__v,p=o.__e,d=m.__P;if(d)return(f=Ya({},o)).__v=o.__v+1,Bn.vnode&&Bn.vnode(f),U0(d,f,o,m.__n,d.ownerSVGElement!==void 0,32&o.__u?[p]:null,y,p==null?vs(o):p,!!(32&o.__u),s),f.__v=o.__v,f.__.__k[f.__i]=f,f.__d=void 0,f.__e!=p&&z0(f),f}function z0(m){var y,s;if((m=m.__)!=null&&m.__c!=null){for(m.__e=m.__c.base=null,y=0;y<m.__k.length;y++)if((s=m.__k[y])!=null&&s.__e!=null){m.__e=m.__c.base=s.__e;break}return z0(m)}}function t0(m){(!m.__d&&(m.__d=!0)&&Vu.push(m)&&!Dd.__r++||e0!==Bn.debounceRendering)&&((e0=Bn.debounceRendering)||I0)(Dd)}function Dd(){var m,y,s,f=[],o=[];for(Vu.sort(Wv);m=Vu.shift();)m.__d&&(s=Vu.length,y=gE(m,f,o)||y,s===0||Vu.length>s?(i0(f,y,o),o.length=f.length=0,y=void 0,Vu.sort(Wv)):y&&Bn.__c&&Bn.__c(y,ng));y&&i0(f,y,o),Dd.__r=0}function B0(m,y,s,f,o,p,d,O,v,E,M){var A,T,k,I,C,L=f&&f.__k||ng,G=y.length;for(s.__d=v,mE(s,y,L),v=s.__d,A=0;A<G;A++)(k=s.__k[A])!=null&&typeof k!="boolean"&&typeof k!="function"&&(T=k.__i===-1?Kv:L[k.__i]||Kv,k.__i=A,U0(m,k,T,o,p,d,O,v,E,M),I=k.__e,k.ref&&T.ref!=k.ref&&(T.ref&&ig(T.ref,null,k),M.push(k.ref,k.__c||I,k)),C==null&&I!=null&&(C=I),65536&k.__u||T.__k===k.__k?v=F0(k,v,m):typeof k.type=="function"&&k.__d!==void 0?v=k.__d:I&&(v=I.nextSibling),k.__d=void 0,k.__u&=-196609);s.__d=v,s.__e=C}function mE(m,y,s){var f,o,p,d,O,v=y.length,E=s.length,M=E,A=0;for(m.__k=[],f=0;f<v;f++)(o=m.__k[f]=(o=y[f])==null||typeof o=="boolean"||typeof o=="function"?null:typeof o=="string"||typeof o=="number"||typeof o=="bigint"||o.constructor==String?Sd(null,o,null,null,o):rg(o)?Sd(og,{children:o},null,null,null):o.constructor===void 0&&o.__b>0?Sd(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o)!=null?(o.__=m,o.__b=m.__b+1,O=bE(o,s,d=f+A,M),o.__i=O,p=null,O!==-1&&(M--,(p=s[O])&&(p.__u|=131072)),p==null||p.__v===null?(O==-1&&A--,typeof o.type!="function"&&(o.__u|=65536)):O!==d&&(O===d+1?A++:O>d?M>v-d?A+=O-d:A--:A=O<d&&O==d-1?O-d:0,O!==f+A&&(o.__u|=65536))):(p=s[f])&&p.key==null&&p.__e&&!(131072&p.__u)&&(p.__e==m.__d&&(m.__d=vs(p)),$v(p,p,!1),s[f]=null,M--);if(M)for(f=0;f<E;f++)(p=s[f])!=null&&!(131072&p.__u)&&(p.__e==m.__d&&(m.__d=vs(p)),$v(p,p))}function F0(m,y,s){var f,o;if(typeof m.type=="function"){for(f=m.__k,o=0;f&&o<f.length;o++)f[o]&&(f[o].__=m,y=F0(f[o],y,s));return y}m.__e!=y&&(s.insertBefore(m.__e,y||null),y=m.__e);do y=y&&y.nextSibling;while(y!=null&&y.nodeType===8);return y}function bE(m,y,s,f){var o=m.key,p=m.type,d=s-1,O=s+1,v=y[s];if(v===null||v&&o==v.key&&p===v.type)return s;if(f>(v!=null&&!(131072&v.__u)?1:0))for(;d>=0||O<y.length;){if(d>=0){if((v=y[d])&&!(131072&v.__u)&&o==v.key&&p===v.type)return d;d--}if(O<y.length){if((v=y[O])&&!(131072&v.__u)&&o==v.key&&p===v.type)return O;O++}}return-1}function n0(m,y,s){y[0]==="-"?m.setProperty(y,s==null?"":s):m[y]=s==null?"":typeof s!="number"||vE.test(y)?s:s+"px"}function Od(m,y,s,f,o){var p;e:if(y==="style")if(typeof s=="string")m.style.cssText=s;else{if(typeof f=="string"&&(m.style.cssText=f=""),f)for(y in f)s&&y in s||n0(m.style,y,"");if(s)for(y in s)f&&s[y]===f[y]||n0(m.style,y,s[y])}else if(y[0]==="o"&&y[1]==="n")p=y!==(y=y.replace(/(PointerCapture)$|Capture$/i,"$1")),y=y.toLowerCase()in m?y.toLowerCase().slice(2):y.slice(2),m.l||(m.l={}),m.l[y+p]=s,s?f?s.u=f.u:(s.u=Date.now(),m.addEventListener(y,p?o0:r0,p)):m.removeEventListener(y,p?o0:r0,p);else{if(o)y=y.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(y!=="width"&&y!=="height"&&y!=="href"&&y!=="list"&&y!=="form"&&y!=="tabIndex"&&y!=="download"&&y!=="rowSpan"&&y!=="colSpan"&&y!=="role"&&y in m)try{m[y]=s==null?"":s;break e}catch(d){}typeof s=="function"||(s==null||s===!1&&y[4]!=="-"?m.removeAttribute(y):m.setAttribute(y,s))}}function r0(m){if(this.l){var y=this.l[m.type+!1];if(m.t){if(m.t<=y.u)return}else m.t=Date.now();return y(Bn.event?Bn.event(m):m)}}function o0(m){if(this.l)return this.l[m.type+!0](Bn.event?Bn.event(m):m)}function U0(m,y,s,f,o,p,d,O,v,E){var M,A,T,k,I,C,L,G,W,ne,se,ie,Q,ee,V,B=y.type;if(y.constructor!==void 0)return null;128&s.__u&&(v=!!(32&s.__u),p=[O=y.__e=s.__e]),(M=Bn.__b)&&M(y);e:if(typeof B=="function")try{if(G=y.props,W=(M=B.contextType)&&f[M.__c],ne=M?W?W.props.value:M.__:f,s.__c?L=(A=y.__c=s.__c).__=A.__E:("prototype"in B&&B.prototype.render?y.__c=A=new B(G,ne):(y.__c=A=new hs(G,ne),A.constructor=B,A.render=OE),W&&W.sub(A),A.props=G,A.state||(A.state={}),A.context=ne,A.__n=f,T=A.__d=!0,A.__h=[],A._sb=[]),A.__s==null&&(A.__s=A.state),B.getDerivedStateFromProps!=null&&(A.__s==A.state&&(A.__s=Ya({},A.__s)),Ya(A.__s,B.getDerivedStateFromProps(G,A.__s))),k=A.props,I=A.state,A.__v=y,T)B.getDerivedStateFromProps==null&&A.componentWillMount!=null&&A.componentWillMount(),A.componentDidMount!=null&&A.__h.push(A.componentDidMount);else{if(B.getDerivedStateFromProps==null&&G!==k&&A.componentWillReceiveProps!=null&&A.componentWillReceiveProps(G,ne),!A.__e&&(A.shouldComponentUpdate!=null&&A.shouldComponentUpdate(G,A.__s,ne)===!1||y.__v===s.__v)){for(y.__v!==s.__v&&(A.props=G,A.state=A.__s,A.__d=!1),y.__e=s.__e,y.__k=s.__k,y.__k.forEach(function(X){X&&(X.__=y)}),se=0;se<A._sb.length;se++)A.__h.push(A._sb[se]);A._sb=[],A.__h.length&&d.push(A);break e}A.componentWillUpdate!=null&&A.componentWillUpdate(G,A.__s,ne),A.componentDidUpdate!=null&&A.__h.push(function(){A.componentDidUpdate(k,I,C)})}if(A.context=ne,A.props=G,A.__P=m,A.__e=!1,ie=Bn.__r,Q=0,"prototype"in B&&B.prototype.render){for(A.state=A.__s,A.__d=!1,ie&&ie(y),M=A.render(A.props,A.state,A.context),ee=0;ee<A._sb.length;ee++)A.__h.push(A._sb[ee]);A._sb=[]}else do A.__d=!1,ie&&ie(y),M=A.render(A.props,A.state,A.context),A.state=A.__s;while(A.__d&&++Q<25);A.state=A.__s,A.getChildContext!=null&&(f=Ya(Ya({},f),A.getChildContext())),T||A.getSnapshotBeforeUpdate==null||(C=A.getSnapshotBeforeUpdate(k,I)),B0(m,rg(V=M!=null&&M.type===og&&M.key==null?M.props.children:M)?V:[V],y,s,f,o,p,d,O,v,E),A.base=y.__e,y.__u&=-161,A.__h.length&&d.push(A),L&&(A.__E=A.__=null)}catch(X){y.__v=null,v||p!=null?(y.__e=O,y.__u|=v?160:32,p[p.indexOf(O)]=null):(y.__e=s.__e,y.__k=s.__k),Bn.__e(X,y,s)}else p==null&&y.__v===s.__v?(y.__k=s.__k,y.__e=s.__e):y.__e=_E(s.__e,y,s,f,o,p,d,v,E);(M=Bn.diffed)&&M(y)}function i0(m,y,s){for(var f=0;f<s.length;f++)ig(s[f],s[++f],s[++f]);Bn.__c&&Bn.__c(y,m),m.some(function(o){try{m=o.__h,o.__h=[],m.some(function(p){p.call(o)})}catch(p){Bn.__e(p,o.__v)}})}function _E(m,y,s,f,o,p,d,O,v){var E,M,A,T,k,I,C,L=s.props,G=y.props,W=y.type;if(W==="svg"&&(o=!0),p!=null){for(E=0;E<p.length;E++)if((k=p[E])&&"setAttribute"in k==!!W&&(W?k.localName===W:k.nodeType===3)){m=k,p[E]=null;break}}if(m==null){if(W===null)return document.createTextNode(G);m=o?document.createElementNS("http://www.w3.org/2000/svg",W):document.createElement(W,G.is&&G),p=null,O=!1}if(W===null)L===G||O&&m.data===G||(m.data=G);else{if(p=p&&tg.call(m.childNodes),L=s.props||Kv,!O&&p!=null)for(L={},E=0;E<m.attributes.length;E++)L[(k=m.attributes[E]).name]=k.value;for(E in L)k=L[E],E=="children"||(E=="dangerouslySetInnerHTML"?A=k:E==="key"||E in G||Od(m,E,null,k,o));for(E in G)k=G[E],E=="children"?T=k:E=="dangerouslySetInnerHTML"?M=k:E=="value"?I=k:E=="checked"?C=k:E==="key"||O&&typeof k!="function"||L[E]===k||Od(m,E,k,L[E],o);if(M)O||A&&(M.__html===A.__html||M.__html===m.innerHTML)||(m.innerHTML=M.__html),y.__k=[];else if(A&&(m.innerHTML=""),B0(m,rg(T)?T:[T],y,s,f,o&&W!=="foreignObject",p,d,p?p[0]:s.__k&&vs(s,0),O,v),p!=null)for(E=p.length;E--;)p[E]!=null&&L0(p[E]);O||(E="value",I!==void 0&&(I!==m[E]||W==="progress"&&!I||W==="option"&&I!==L[E])&&Od(m,E,I,L[E],!1),E="checked",C!==void 0&&C!==m[E]&&Od(m,E,C,L[E],!1))}return m}function ig(m,y,s){try{typeof m=="function"?m(y):m.current=y}catch(f){Bn.__e(f,s)}}function $v(m,y,s){var f,o;if(Bn.unmount&&Bn.unmount(m),(f=m.ref)&&(f.current&&f.current!==m.__e||ig(f,null,y)),(f=m.__c)!=null){if(f.componentWillUnmount)try{f.componentWillUnmount()}catch(p){Bn.__e(p,y)}f.base=f.__P=null,m.__c=void 0}if(f=m.__k)for(o=0;o<f.length;o++)f[o]&&$v(f[o],y,s||typeof m.type!="function");s||m.__e==null||L0(m.__e),m.__=m.__e=m.__d=void 0}function OE(m,y,s){return this.constructor(m,s)}tg=ng.slice,Bn={__e:function(m,y,s,f){for(var o,p,d;y=y.__;)if((o=y.__c)&&!o.__)try{if((p=o.constructor)&&p.getDerivedStateFromError!=null&&(o.setState(p.getDerivedStateFromError(m)),d=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(m,f||{}),d=o.__d),d)return o.__E=o}catch(O){m=O}throw m}},R0=0,hs.prototype.setState=function(m,y){var s;s=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Ya({},this.state),typeof m=="function"&&(m=m(Ya({},s),this.props)),m&&Ya(s,m),m!=null&&this.__v&&(y&&this._sb.push(y),t0(this))},hs.prototype.forceUpdate=function(m){this.__v&&(this.__e=!0,m&&this.__h.push(m),t0(this))},hs.prototype.render=og,Vu=[],I0=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Wv=function(m,y){return m.__v.__b-y.__v.__b},Dd.__r=0;var pf=function(){return pf=Object.assign||function(m){for(var y,s=1,f=arguments.length;s<f;s++){y=arguments[s];for(var o in y)Object.prototype.hasOwnProperty.call(y,o)&&(m[o]=y[o])}return m},pf.apply(this,arguments)};function ag(m){var y=m.x,s=m.y,f=m.width,o=m.height,p=m.radius,d=m.className,O=y-f/2,v=s-o/2,E=pf(pf({width:10,height:10,cx:0,cy:0,rx:p||0,ry:p||0,fill:"transparent",fillOpacity:1,strokeWidth:"1px",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape "+d},m),{x:O,y:v});return nt.h("rect",pf({},E))}ag.defaultProps={radius:0,stroke:"",strokeDasharray:"",className:""};var ps;(function(m){m.NODE="node",m.CIRCLE_NODE="circle-node",m.POLYGON_NODE="polygon-node",m.RECT_NODE="rect-node",m.HTML_NODE="html-node",m.TEXT_NODE="text-node",m.ELLIPSE_NODE="ellipse-node",m.DIAMOND_NODE="diamond-node",m.EDGE="edge",m.LINE_EDGE="line-edge",m.POLYLINE_EDGE="polyline-edge",m.BEZIER_EDGE="bezier-edge",m.GRAPH="graph"})(ps||(ps={}));var wE=function(){var m=function(y,s){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,o){f.__proto__=o}||function(f,o){for(var p in o)o.hasOwnProperty(p)&&(f[p]=o[p])},m(y,s)};return function(y,s){m(y,s);function f(){this.constructor=y}y.prototype=s===null?Object.create(s):(f.prototype=s.prototype,new f)}}(),Wu=function(){return Wu=Object.assign||function(m){for(var y,s=1,f=arguments.length;s<f;s++){y=arguments[s];for(var o in y)Object.prototype.hasOwnProperty.call(y,o)&&(m[o]=y[o])}return m},Wu.apply(this,arguments)},xE=function(m,y){var s=typeof Symbol=="function"&&m[Symbol.iterator];if(!s)return m;var f=s.call(m),o,p=[],d;try{for(;(y===void 0||y-- >0)&&!(o=f.next()).done;)p.push(o.value)}catch(O){d={error:O}}finally{try{o&&!o.done&&(s=f.return)&&s.call(f)}finally{if(d)throw d.error}}return p},EE=nt.LogicFlowUtil.StepDrag,SE=function(m){wE(y,m);function y(s){var f=m.call(this)||this;return f.updatePosition=function(o){var p=o.deltaX,d=o.deltaY,O=f.nodeModel,v=O.x,E=O.y;f.nodeModel.x=v+p/2,f.nodeModel.y=E+d/2,f.nodeModel.moveText(p/2,d/2)},f.getResize=function(o){var p=o.index,d=o.deltaX,O=o.deltaY,v=o.width,E=o.height,M=o.PCTResizeInfo,A=o.pct,T=A===void 0?1:A,k={width:v,height:E,deltaX:d,deltaY:O};if(M){var I=4,C=0,L=0;switch(p){case 0:L=(d*-1-O)/I;break;case 1:L=(d-O)/I;break;case 2:L=(d+O)/I;break;case 3:L=(d*-1+O)/I;break}L!==0&&(C=Math.round(L/M.ResizeBasis.basisHeight*1e5)/1e3),M.ResizePCT.widthPCT=Math.max(Math.min(M.ResizePCT.widthPCT+C,M.ScaleLimit.maxScaleLimit),M.ScaleLimit.minScaleLimit),M.ResizePCT.hightPCT=Math.max(Math.min(M.ResizePCT.hightPCT+C,M.ScaleLimit.maxScaleLimit),M.ScaleLimit.minScaleLimit);var G=Math.round(M.ResizePCT.widthPCT*M.ResizeBasis.basisWidth/100),W=Math.round(M.ResizePCT.hightPCT*M.ResizeBasis.basisHeight/100);switch(p){case 0:d=v-G,O=E-W;break;case 1:d=G-v,O=E-W;break;case 2:d=G-v,O=W-E;break;case 3:d=v-G,O=W-E;break}return k.width=G,k.height=W,k.deltaX=d/T,k.deltaY=O/T,k}switch(p){case 0:k.width=v-d*T,k.height=E-O*T;break;case 1:k.width=v+d*T,k.height=E-O*T;break;case 2:k.width=v+d*T,k.height=E+O*T;break;case 3:k.width=v-d*T,k.height=E+O*T;break}return k},f.updateEdgePointByAnchors=function(){var o=f.nodeModel,p=o.id,d=o.anchors,O=f.getNodeEdges(p);O.sourceEdges.forEach(function(v){var E=d.find(function(M){return M.id===v.sourceAnchorId});v.updateStartPoint({x:E.x,y:E.y})}),O.targetEdges.forEach(function(v){var E=d.find(function(M){return M.id===v.targetAnchorId});v.updateEndPoint({x:E.x,y:E.y})})},f.updateRect=function(o){var p=o.deltaX,d=o.deltaY,O=f.nodeModel,v=O.id,E=O.x,M=O.y,A=O.width,T=O.height,k=O.radius,I=O.PCTResizeInfo,C=f.index,L=f.getResize({index:C,deltaX:p,deltaY:d,width:A,height:T,PCTResizeInfo:I,pct:1}),G=f.nodeModel,W=G.minWidth,ne=G.minHeight,se=G.maxWidth,ie=G.maxHeight;if(L.width<W||L.width>se||L.height<ne||L.height>ie){f.dragHandler.cancelDrag();return}f.updatePosition({deltaX:L.deltaX,deltaY:L.deltaY}),f.nodeModel.width=L.width,f.nodeModel.height=L.height,f.nodeModel.setProperties({nodeSize:{width:L.width,height:L.height}}),f.getNodeEdges(v);var Q={x:E,y:M,width:A,height:T,radius:k},ee={x:f.nodeModel.x,y:f.nodeModel.y,width:f.nodeModel.width,height:f.nodeModel.height,radius:k};f.updateEdgePointByAnchors(),f.eventEmit({beforeNode:Q,afterNode:ee})},f.updateEllipse=function(o){var p=o.deltaX,d=o.deltaY,O=f.nodeModel,v=O.id,E=O.rx,M=O.ry,A=O.x,T=O.y,k=O.PCTResizeInfo,I=f.index,C=E,L=M,G=f.getResize({index:I,deltaX:p,deltaY:d,width:C,height:L,PCTResizeInfo:k,pct:1/2}),W=f.nodeModel,ne=W.minWidth,se=W.minHeight,ie=W.maxWidth,Q=W.maxHeight;if(G.width<ne/2||G.width>ie/2||G.height<se/2||G.height>Q/2){f.dragHandler.cancelDrag();return}f.updatePosition({deltaX:G.deltaX,deltaY:G.deltaY}),f.nodeModel.rx=G.width,f.nodeModel.ry=G.height,f.nodeModel.setProperties({nodeSize:{rx:G.width,ry:G.height}}),f.getNodeEdges(v);var ee={x:A,y:T},V={rx:G.width,ry:G.height,x:f.nodeModel.x,y:f.nodeModel.y};f.updateEdgePointByAnchors(),f.eventEmit({beforeNode:Wu(Wu({},ee),{rx:E,ry:M}),afterNode:V})},f.updateDiamond=function(o){var p=o.deltaX,d=o.deltaY,O=f.nodeModel;O.id;var v=O.rx,E=O.ry,M=O.x,A=O.y,T=O.PCTResizeInfo,k=f.index,I=v,C=E,L=f.getResize({index:k,deltaX:p,deltaY:d,width:I,height:C,PCTResizeInfo:T,pct:1/2}),G=f.nodeModel,W=G.minWidth,ne=G.minHeight,se=G.maxWidth,ie=G.maxHeight;if(L.width<W/2||L.width>se/2||L.height<ne/2||L.height>ie/2){f.dragHandler.cancelDrag();return}f.updatePosition({deltaX:L.deltaX,deltaY:L.deltaY}),f.nodeModel.rx=L.width,f.nodeModel.ry=L.height,f.nodeModel.setProperties({nodeSize:{rx:L.width,ry:L.height}});var Q={x:M,y:A,rx:v,ry:E},ee={rx:L.width,ry:L.height,x:f.nodeModel.x,y:f.nodeModel.y};f.updateEdgePointByAnchors(),f.eventEmit({beforeNode:Q,afterNode:ee})},f.eventEmit=function(o){var p=o.beforeNode,d=o.afterNode,O=f.nodeModel,v=O.id,E=O.modelType,M=O.type,A=Wu({id:v,modelType:E,type:M},p),T=Wu({id:v,modelType:E,type:M},d);f.graphModel.eventCenter.emit("node:resize",{oldNodeSize:A,newNodeSize:T})},f.onDragging=function(o){var p,d=o.deltaX,O=o.deltaY,v=f.graphModel.transformModel,E=f.nodeModel.modelType;p=xE(v.fixDeltaXY(d,O),2),d=p[0],O=p[1],E===ps.RECT_NODE||E===ps.HTML_NODE?f.updateRect({deltaX:d,deltaY:O}):E===ps.ELLIPSE_NODE?f.updateEllipse({deltaX:d,deltaY:O}):E===ps.DIAMOND_NODE&&f.updateDiamond({deltaX:d,deltaY:O})},f.onDragEnd=function(){f.updateEdgePointByAnchors();var o=f.graphModel.gridSize,p=o===void 0?1:o,d=p*Math.round(f.nodeModel.x/p),O=p*Math.round(f.nodeModel.y/p);f.nodeModel.moveTo(d,O)},f.index=s.index,f.nodeModel=s.model,f.graphModel=s.graphModel,f.state={},f.dragHandler=new EE({onDragging:f.onDragging,onDragEnd:f.onDragEnd,step:1}),f}return y.prototype.getNodeEdges=function(s){for(var f=this.graphModel,o=f.edges,p=[],d=[],O=0;O<o.length;O++){var v=o[O];v.sourceNodeId===s?p.push(v):o[O].targetNodeId===s&&d.push(v)}return{sourceEdges:p,targetEdges:d}},y.prototype.render=function(){var s=this.props,f=s.x,o=s.y,p=s.index,d=s.model,O=d.getControlPointStyle();return ff("g",{className:"lf-resize-control-"+p},ff(ag,Wu({className:"lf-node-control"},{x:f,y:o},O,{onMouseDown:this.dragHandler.handleMouseDown})))},y}(hs),jE=function(){var m=function(y,s){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,o){f.__proto__=o}||function(f,o){for(var p in o)o.hasOwnProperty(p)&&(f[p]=o[p])},m(y,s)};return function(y,s){m(y,s);function f(){this.constructor=y}y.prototype=s===null?Object.create(s):(f.prototype=s.prototype,new f)}}(),Nd=function(){return Nd=Object.assign||function(m){for(var y,s=1,f=arguments.length;s<f;s++){y=arguments[s];for(var o in y)Object.prototype.hasOwnProperty.call(y,o)&&(m[o]=y[o])}return m},Nd.apply(this,arguments)},Fd=function(m){jE(y,m);function y(){var s=m.call(this)||this;return s.state={},s}return y.prototype.getResizeControl=function(){var s=this.props,f=s.model,o=s.graphModel,p=f.x,d=f.y,O=f.width,v=f.height,E={minX:p-O/2,minY:d-v/2,maxX:p+O/2,maxY:d+v/2},M=E.minX,A=E.minY,T=E.maxX,k=E.maxY,I=[{x:M,y:A},{x:T,y:A},{x:T,y:k},{x:M,y:k}];return I.map(function(C,L){return ff(SE,Nd({index:L},C,{model:f,graphModel:o}))})},y.prototype.getGroupSolid=function(){var s=this.props.model,f=s.x,o=s.y,p=s.width,d=s.height,O=s.getResizeOutlineStyle();return ff(ag,Nd({fill:"none"},O,{x:f,y:o,width:p,height:d}))},y.prototype.render=function(){return ff("g",{className:"lf-resize-control"},this.getGroupSolid(),this.getResizeControl())},y}(hs),G0=function(){var m=function(y,s){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,o){f.__proto__=o}||function(f,o){for(var p in o)o.hasOwnProperty(p)&&(f[p]=o[p])},m(y,s)};return function(y,s){m(y,s);function f(){this.constructor=y}y.prototype=s===null?Object.create(s):(f.prototype=s.prototype,new f)}}(),PE=function(m){G0(y,m);function y(s,f){var o=m.call(this,s,f)||this,p=o.properties.nodeSize;return p&&(o.width=p.width,o.height=p.height),o}return y.prototype.initNodeData=function(s){m.prototype.initNodeData.call(this,s),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},y.prototype.getOutlineStyle=function(){var s=m.prototype.getOutlineStyle.call(this),f=this.graphModel.editConfigModel.isSilentMode;return f||(s.stroke="none",s.hover&&(s.hover.stroke="none")),s},y.prototype.getResizeOutlineStyle=function(){return{fill:"none",stroke:"transparent",strokeWidth:1,strokeDasharray:"3,3"}},y.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},y.prototype.resize=function(s,f){},y.prototype.enableProportionResize=function(s){if(s===void 0&&(s=!0),s){var f={widthPCT:100,hightPCT:100},o={basisWidth:this.width,basisHeight:this.height},p={maxScaleLimit:Math.min(this.maxWidth/this.width*100,this.maxHeight/this.height*100),minScaleLimit:Math.max(this.minWidth/this.width*100,this.minHeight/this.height*100)};this.PCTResizeInfo={ResizePCT:f,ResizeBasis:o,ScaleLimit:p}}else delete this.PCTResizeInfo},y}(nt.RectNodeModel),AE=function(m){G0(y,m);function y(){return m!==null&&m.apply(this,arguments)||this}return y.prototype.getControlGroup=function(){var s=this.props,f=s.model,o=s.graphModel;return nt.h(Fd,{model:f,graphModel:o})},y.prototype.getResizeShape=function(){return m.prototype.getShape.call(this)},y.prototype.getShape=function(){var s=this.props,f=s.model.isSelected,o=s.graphModel.editConfigModel.isSilentMode;return nt.h("g",null,this.getResizeShape(),f&&!o?this.getControlGroup():"")},y}(nt.RectNode),X0={type:"rect",view:AE,model:PE},H0=function(){var m=function(y,s){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,o){f.__proto__=o}||function(f,o){for(var p in o)o.hasOwnProperty(p)&&(f[p]=o[p])},m(y,s)};return function(y,s){m(y,s);function f(){this.constructor=y}y.prototype=s===null?Object.create(s):(f.prototype=s.prototype,new f)}}();(function(m){H0(y,m);function y(s,f){var o=m.call(this,s,f)||this,p=o.properties.nodeSize;return p&&(o.rx=p.rx,o.ry=p.ry),o}return y.prototype.initNodeData=function(s){m.prototype.initNodeData.call(this,s),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},y.prototype.getOutlineStyle=function(){var s=m.prototype.getOutlineStyle.call(this),f=this.graphModel.editConfigModel.isSilentMode;return f||(s.stroke="none",s.hover&&(s.hover.stroke="none")),s},y.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},y.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},y.prototype.enableProportionResize=function(s){if(s===void 0&&(s=!0),s){var f={widthPCT:100,hightPCT:100},o={basisWidth:this.rx,basisHeight:this.ry},p={maxScaleLimit:Math.min(this.maxWidth/(this.rx*2)*100,this.maxHeight/(this.ry*2)*100),minScaleLimit:Math.max(this.minWidth/(this.rx*2)*100,this.minHeight/(this.ry*2)*100)};this.PCTResizeInfo={ResizePCT:f,ResizeBasis:o,ScaleLimit:p}}else delete this.PCTResizeInfo},y})(nt.EllipseNodeModel);(function(m){H0(y,m);function y(){return m!==null&&m.apply(this,arguments)||this}return y.prototype.getControlGroup=function(){var s=this.props,f=s.model,o=s.graphModel;return nt.h(Fd,{model:f,graphModel:o})},y.prototype.getResizeShape=function(){return m.prototype.getShape.call(this)},y.prototype.getShape=function(){var s=this.props,f=s.model,o=s.graphModel.editConfigModel.isSilentMode;return nt.h("g",null,this.getResizeShape(),f.isSelected&&!o?this.getControlGroup():"")},y})(nt.EllipseNode);var Zv=function(){return Zv=Object.assign||function(m){for(var y,s=1,f=arguments.length;s<f;s++){y=arguments[s];for(var o in y)Object.prototype.hasOwnProperty.call(y,o)&&(m[o]=y[o])}return m},Zv.apply(this,arguments)};function ME(m){var y=m.fillOpacity,s=y===void 0?1:y,f=m.strokeWidth,o=f===void 0?1:f,p=m.strokeOpacity,d=p===void 0?1:p,O=m.fill,v=O===void 0?"transparent":O,E=m.stroke,M=E===void 0?"#000":E,A=m.points,T=m.className,k=T===void 0?"lf-basic-shape":T,I={fill:v,fillOpacity:s,strokeWidth:o,stroke:M,strokeOpacity:d,points:"",className:k};return I.points=A.map(function(C){return C.join(",")}).join(" "),nt.h("polygon",Zv({},I))}var Y0=function(){var m=function(y,s){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,o){f.__proto__=o}||function(f,o){for(var p in o)o.hasOwnProperty(p)&&(f[p]=o[p])},m(y,s)};return function(y,s){m(y,s);function f(){this.constructor=y}y.prototype=s===null?Object.create(s):(f.prototype=s.prototype,new f)}}(),qv=function(){return qv=Object.assign||function(m){for(var y,s=1,f=arguments.length;s<f;s++){y=arguments[s];for(var o in y)Object.prototype.hasOwnProperty.call(y,o)&&(m[o]=y[o])}return m},qv.apply(this,arguments)};(function(m){Y0(y,m);function y(s,f){var o=m.call(this,s,f)||this,p=o.properties.nodeSize;return p&&(o.rx=p.rx,o.ry=p.ry),o}return y.prototype.initNodeData=function(s){m.prototype.initNodeData.call(this,s),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3,this.gridSize=1},y.prototype.getOutlineStyle=function(){var s=m.prototype.getOutlineStyle.call(this),f=this.graphModel.editConfigModel.isSilentMode;return f||(s.stroke="none",s.hover&&(s.hover.stroke="none")),s},y.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},y.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},y.prototype.enableProportionResize=function(s){if(s===void 0&&(s=!0),s){var f={widthPCT:100,hightPCT:100},o={basisWidth:this.rx,basisHeight:this.ry},p={maxScaleLimit:Math.min(this.maxWidth/(this.rx*2)*100,this.maxHeight/(this.ry*2)*100),minScaleLimit:Math.max(this.minWidth/(this.rx*2)*100,this.minHeight/(this.ry*2)*100)};this.PCTResizeInfo={ResizePCT:f,ResizeBasis:o,ScaleLimit:p}}else delete this.PCTResizeInfo},y})(nt.DiamondNodeModel);(function(m){Y0(y,m);function y(){return m!==null&&m.apply(this,arguments)||this}return y.prototype.getControlGroup=function(){var s=this.props,f=s.model,o=s.graphModel;return nt.h(Fd,{model:f,graphModel:o})},y.prototype.getResizeShape=function(){var s=this.props.model,f=s.points,o=s.getNodeStyle();return nt.h("g",null,nt.h(ME,qv({},o,{points:f})))},y.prototype.getShape=function(){var s=this.props,f=s.model.isSelected,o=s.graphModel.editConfigModel.isSilentMode;return nt.h("g",null,this.getResizeShape(),f&&!o?this.getControlGroup():"")},y})(nt.DiamondNode);var V0=function(){var m=function(y,s){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,o){f.__proto__=o}||function(f,o){for(var p in o)o.hasOwnProperty(p)&&(f[p]=o[p])},m(y,s)};return function(y,s){m(y,s);function f(){this.constructor=y}y.prototype=s===null?Object.create(s):(f.prototype=s.prototype,new f)}}();(function(m){V0(y,m);function y(s,f){var o=m.call(this,s,f)||this,p=o.properties.nodeSize;return p&&(o.width=p.width,o.height=p.height),o}return y.prototype.initNodeData=function(s){m.prototype.initNodeData.call(this,s),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},y.prototype.getOutlineStyle=function(){var s=m.prototype.getOutlineStyle.call(this),f=this.graphModel.editConfigModel.isSilentMode;return f||(s.stroke="none",s.hover&&(s.hover.stroke="none")),s},y.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},y.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},y.prototype.enableProportionResize=function(s){if(s===void 0&&(s=!0),s){var f={widthPCT:100,hightPCT:100},o={basisWidth:this.width,basisHeight:this.height},p={maxScaleLimit:Math.min(this.maxWidth/this.width*100,this.maxHeight/this.height*100),minScaleLimit:Math.max(this.minWidth/this.width*100,this.minHeight/this.height*100)};this.PCTResizeInfo={ResizePCT:f,ResizeBasis:o,ScaleLimit:p}}else delete this.PCTResizeInfo},y})(nt.HtmlNodeModel);(function(m){V0(y,m);function y(){return m!==null&&m.apply(this,arguments)||this}return y.prototype.getControlGroup=function(){var s=this.props,f=s.model,o=s.graphModel;return nt.h(Fd,{model:f,graphModel:o})},y.prototype.getResizeShape=function(){return m.prototype.getShape.call(this)},y.prototype.getShape=function(){var s=this.props,f=s.model.isSelected,o=s.graphModel.editConfigModel.isSilentMode;return nt.h("g",null,this.getResizeShape(),f&&!o?this.getControlGroup():"")},y})(nt.HtmlNode);var W0=function(){var m=function(y,s){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,o){f.__proto__=o}||function(f,o){for(var p in o)o.hasOwnProperty(p)&&(f[p]=o[p])},m(y,s)};return function(y,s){m(y,s);function f(){this.constructor=y}y.prototype=s===null?Object.create(s):(f.prototype=s.prototype,new f)}}(),Cd=function(){return Cd=Object.assign||function(m){for(var y,s=1,f=arguments.length;s<f;s++){y=arguments[s];for(var o in y)Object.prototype.hasOwnProperty.call(y,o)&&(m[o]=y[o])}return m},Cd.apply(this,arguments)},kE=function(m,y){var s=typeof Symbol=="function"&&m[Symbol.iterator];if(!s)return m;var f=s.call(m),o,p=[],d;try{for(;(y===void 0||y-- >0)&&!(o=f.next()).done;)p.push(o.value)}catch(O){d={error:O}}finally{try{o&&!o.done&&(s=f.return)&&s.call(f)}finally{if(d)throw d.error}}return p},TE=function(){for(var m=[],y=0;y<arguments.length;y++)m=m.concat(kE(arguments[y]));return m},a0=500,u0=300,DE=-1e4;(function(m){W0(y,m);function y(){var s=m!==null&&m.apply(this,arguments)||this;return s.isGroup=!0,s.unfoldedWidth=a0,s.unfoldedHight=u0,s.childrenLastFoldStatus={},s}return y.prototype.initNodeData=function(s){var f=this;m.prototype.initNodeData.call(this,s);var o=[];Array.isArray(s.children)&&(o=s.children),this.children=new Set(o),this.width=a0,this.height=u0,this.foldedWidth=80,this.foldedHeight=60,this.zIndex=DE,this.radius=0,this.text.editable=!1,this.text.draggable=!1,this.isRestrict=!1,this.resizable=!1,this.autoToFront=!1,this.foldable=!1,this.properties.isFolded===void 0&&(this.properties.isFolded=!1),this.isFolded=this.properties.isFolded,setTimeout(function(){f.isFolded&&f.foldGroup(f.isFolded)})},y.prototype.getResizeOutlineStyle=function(){var s=m.prototype.getResizeOutlineStyle.call(this);return s.stroke="none",s},y.prototype.foldGroup=function(s){var f=this;if(s!==this.isFolded){this.setProperty("isFolded",s),this.isFolded=s,s?(this.x=this.x-this.width/2+this.foldedWidth/2,this.y=this.y-this.height/2+this.foldedHeight/2,this.unfoldedWidth=this.width,this.unfoldedHight=this.height,this.width=this.foldedWidth,this.height=this.foldedHeight):(this.width=this.unfoldedWidth,this.height=this.unfoldedHight,this.x=this.x+this.width/2-this.foldedWidth/2,this.y=this.y+this.height/2-this.foldedHeight/2);var o=this.incoming.edges.concat(this.outgoing.edges);this.children.forEach(function(p){var d=f.graphModel.getElement(p),O=d.isFolded;if(d.isGroup&&!d.isFolded&&d.foldGroup(s),d.isGroup&&!s){var v=f.childrenLastFoldStatus[p];v!==void 0&&v!==d.isFolded&&d.foldGroup(v)}f.childrenLastFoldStatus[p]=O,d.visible=!s,o=o.concat(d.incoming.edges.concat(d.outgoing.edges))}),this.foldEdge(s,o)}},y.prototype.getAnchorStyle=function(s){var f=m.prototype.getAnchorStyle.call(this,s);return f.stroke="transparent",f.fill="transparent",f.hover.fill="transparent",f.hover.stroke="transparent",f},y.prototype.foldEdge=function(s,f){var o=this;f.forEach(function(p,d){var O=p.id,v=p.sourceNodeId,E=p.targetNodeId,M=p.startPoint,A=p.endPoint,T=p.type,k=p.text,I=p.getProperties(),C={id:O+"__"+d,sourceNodeId:v,targetNodeId:E,startPoint:M,endPoint:A,type:T,properties:I,text:k==null?void 0:k.value};p.virtual&&o.graphModel.deleteEdgeById(p.id);var L=o.graphModel.group.getNodeGroup(E);L||(L=o.graphModel.getNodeModelById(E));var G=o.graphModel.group.getNodeGroup(v);G||(G=o.graphModel.getNodeModelById(v)),s&&p.visible!==!1&&(o.children.has(v)||o.id===v?(C.startPoint=void 0,C.sourceNodeId=o.id):(C.endPoint=void 0,C.targetNodeId=o.id),(L.id!==o.id||G.id!==o.id)&&o.createVirtualEdge(C),p.visible=!1),!s&&p.visible===!1&&(L&&L.isGroup&&L.isFolded?(C.targetNodeId=L.id,C.endPoint=void 0,o.createVirtualEdge(C)):G&&G.isGroup&&G.isFolded?(C.sourceNodeId=G.id,C.startPoint=void 0,o.createVirtualEdge(C)):p.visible=!0)})},y.prototype.createVirtualEdge=function(s){s.pointsList=void 0;var f=this.graphModel.addEdge(s);f.virtual=!0,f.text.editable=!1,f.isFoldedEdge=!0},y.prototype.isInRange=function(s){var f=s.x1,o=s.y1,p=s.x2,d=s.y2;return f>=this.x-this.width/2&&p<=this.x+this.width/2&&o>=this.y-this.height/2&&d<=this.y+this.height/2},y.prototype.isAllowMoveTo=function(s){var f=s.x1,o=s.y1,p=s.x2,d=s.y2;return{x:f>=this.x-this.width/2&&p<=this.x+this.width/2,y:o>=this.y-this.height/2&&d<=this.y+this.height/2}},y.prototype.setAllowAppendChild=function(s){this.setProperty("groupAddable",s)},y.prototype.addChild=function(s){this.children.add(s),this.graphModel.eventCenter.emit("group:add-node",{data:this.getData()})},y.prototype.removeChild=function(s){this.children.delete(s),this.graphModel.eventCenter.emit("group:remove-node",{data:this.getData()})},y.prototype.getAddableOutlineStyle=function(){return{stroke:"#FEB663",strokeWidth:2,strokeDasharray:"4 4",fill:"transparent"}},y.prototype.getData=function(){var s=this,f=m.prototype.getData.call(this);f.children=[],this.children.forEach(function(p){var d=s.graphModel.getNodeModelById(p);d&&!d.virtual&&f.children.push(p)});var o=f.properties;return delete o.groupAddable,delete o.isFolded,f},y.prototype.getHistoryData=function(){var s=m.prototype.getData.call(this);s.children=TE(this.children),s.isGroup=!0;var f=s.properties;return delete f.groupAddable,f.isFolded&&(s.x=s.x+this.unfoldedWidth/2-this.foldedWidth/2,s.y=s.y+this.unfoldedHight/2-this.foldedHeight/2),s},y.prototype.isAllowAppendIn=function(s){return!0},y.prototype.toBack=function(){this.zIndex--},y})(X0.model);(function(m){W0(y,m);function y(){return m!==null&&m.apply(this,arguments)||this}return y.prototype.getControlGroup=function(){var s=this.props.model,f=s.resizable,o=s.properties;return f&&!o.isFolded?m.prototype.getControlGroup.call(this):null},y.prototype.getAddableShape=function(){var s=this.props.model,f=s.width,o=s.height,p=s.x,d=s.y,O=s.radius,v=s.properties;if(!v.groupAddable)return null;var E=this.props.model.getNodeStyle().strokeWidth,M=this.props.model.getAddableOutlineStyle(),A=f+E+8,T=o+E+8;return nt.h("rect",Cd(Cd({},M),{width:A,height:T,x:p-A/2,y:d-T/2,rx:O,ry:O}))},y.prototype.getFoldIcon=function(){var s=this.props.model,f=s.x-s.width/2+5,o=s.y-s.height/2+5;if(!s.foldable)return null;var p=nt.h("path",{fill:"none",stroke:"#818281",strokeWidth:2,"pointer-events":"none",d:s.properties.isFolded?"M "+(f+3)+","+(o+6)+" "+(f+11)+","+(o+6)+" M"+(f+7)+","+(o+2)+" "+(f+7)+","+(o+10):"M "+(f+3)+","+(o+6)+" "+(f+11)+","+(o+6)+" "});return nt.h("g",{},[nt.h("rect",{height:12,width:14,rx:2,ry:2,strokeWidth:1,fill:"#F4F5F6",stroke:"#CECECE",cursor:"pointer",x:s.x-s.width/2+5,y:s.y-s.height/2+5,onClick:function(){s.foldGroup(!s.properties.isFolded)}}),p])},y.prototype.getResizeShape=function(){return nt.h("g",{},[this.getAddableShape(),m.prototype.getResizeShape.call(this),this.getFoldIcon()])},y})(X0.view);var c0=function(){var m=function(y,s){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,o){f.__proto__=o}||function(f,o){for(var p in o)o.hasOwnProperty(p)&&(f[p]=o[p])},m(y,s)};return function(y,s){m(y,s);function f(){this.constructor=y}y.prototype=s===null?Object.create(s):(f.prototype=s.prototype,new f)}}(),df=function(){return df=Object.assign||function(m){for(var y,s=1,f=arguments.length;s<f;s++){y=arguments[s];for(var o in y)Object.prototype.hasOwnProperty.call(y,o)&&(m[o]=y[o])}return m},df.apply(this,arguments)};function NE(m){var y=function(f){c0(o,f);function o(p,d){var O=this;p.id||(p.id="Flow_"+yE());var v=df(df(df({},m||{}),p.properties),{isDefaultFlow:!1});return p.properties=v,O=f.call(this,p,d)||this,O}return o.extendKey="SequenceFlowModel",o}(nt.PolylineEdgeModel),s=function(f){c0(o,f);function o(){return f!==null&&f.apply(this,arguments)||this}return o.prototype.getStartArrow=function(){var p=this.props.model,d=p.properties.isDefaultFlow;return d?nt.h("path",{refX:15,stroke:"#000000",strokeWidth:2,d:"M 20 5 10 -5 z"}):nt.h("path",{d:""})},o.extendKey="SequenceFlowEdge",o}(nt.PolylineEdge);return{type:"bpmn:sequenceFlow",view:s,model:y}}NE();var s0={width:40,height:40},l0={width:40,height:40},f0={width:100,height:80},Rd={width:100,height:80},p0={width:100,height:80},d0={width:100,height:80},h0={width:100,height:80},y0={width:100,height:80},v0={width:100,height:80},g0={width:100,height:80},Zr=function(){};Zr.ObjTree=function(){return this};Zr.ObjTree.VERSION="0.23";Zr.ObjTree.prototype.xmlDecl=`<?xml version="1.0" encoding="UTF-8" ?>
`;Zr.ObjTree.prototype.attr_prefix="-";Zr.ObjTree.prototype.parseXML=function(m){var y;if(window.DOMParser){var s=new DOMParser,f=s.parseFromString(m,"application/xml");if(!f)return;y=f.documentElement}else window.ActiveXObject&&(s=new ActiveXObject("Microsoft.XMLDOM"),s.async=!1,s.loadXML(m),y=s.documentElement);if(y){var o=this.parseDOM(y);return o}};Zr.ObjTree.prototype.parseHTTP=function(m,y,s){var f={};for(var o in y)f[o]=y[o];if(f.method||(typeof f.postBody=="undefined"&&typeof f.postbody=="undefined"&&typeof f.parameters=="undefined"?f.method="get":f.method="post"),s){f.asynchronous=!0;var p=this,d=s,O=f.onComplete;f.onComplete=function(M){var A;M&&M.responseXML&&M.responseXML.documentElement&&(A=p.parseDOM(M.responseXML.documentElement)),d(A,M),O&&O(M)}}else f.asynchronous=!1;var v;if(typeof HTTP!="undefined"&&HTTP.Request){f.uri=m;var E=new HTTP.Request(f);E&&(v=E.transport)}else if(typeof Ajax!="undefined"&&Ajax.Request){var E=new Ajax.Request(m,f);E&&(v=E.transport)}if(s)return v;if(v&&v.responseXML&&v.responseXML.documentElement)return this.parseDOM(v.responseXML.documentElement)};Zr.ObjTree.prototype.parseDOM=function(m){if(m){if(this.__force_array={},this.force_array)for(var y=0;y<this.force_array.length;y++)this.__force_array[this.force_array[y]]=1;var s=this.parseElement(m);if(this.__force_array[m.nodeName]&&(s=[s]),m.nodeType!==11){var f={};f[m.nodeName]=s,s=f}return s}};Zr.ObjTree.prototype.parseElement=function(m){if(m.nodeType!==7){if(m.nodeType===3||m.nodeType===4||m.nodeType===8){var y=m.nodeValue.match(/[^\x00-\x20]/);return y==null?void 0:m.nodeValue}var s=null,f={};if(m.attributes&&m.attributes.length){s={};for(var o=0;o<m.attributes.length;o++){var p=m.attributes[o].nodeName;if(typeof p=="string"){var d=m.attributes[o].nodeValue;try{d=JSON.parse(m.attributes[o].nodeValue.replace(/'/g,'"'))}catch(E){d=m.attributes[o].nodeValue}d!=null&&(p=this.attr_prefix+p,typeof f[p]=="undefined"&&(f[p]=0),f[p]++,this.addNode(s,p,f[p],d))}}}if(m.childNodes&&m.childNodes.length){var O=!0;s&&(O=!1);for(var o=0;o<m.childNodes.length&&O;o++){var v=m.childNodes[o].nodeType;v===3||v===4||v===8||(O=!1)}if(O){s||(s="");for(var o=0;o<m.childNodes.length;o++)s+=m.childNodes[o].nodeValue}else{s||(s={});for(var o=0;o<m.childNodes.length;o++){var p=m.childNodes[o].nodeName;if(typeof p=="string"){var d=this.parseElement(m.childNodes[o]);d&&(typeof f[p]=="undefined"&&(f[p]=0),f[p]++,this.addNode(s,p,f[p],d))}}}}else s===null&&(s={});return s}};Zr.ObjTree.prototype.addNode=function(m,y,s,f){this.__force_array[y]?(s===1&&(m[y]=[]),m[y][m[y].length]=f):s===1?m[y]=f:s===2?m[y]=[m[y],f]:m[y][m[y].length]=f};Zr.ObjTree.prototype.writeXML=function(m){var y=this.hash_to_xml(null,m);return this.xmlDecl+y};Zr.ObjTree.prototype.hash_to_xml=function(m,y){var s=[],f=[];for(var o in y)if(y!=null&&y.hasOwnProperty(o)){var p=y[o];o.charAt(0)!==this.attr_prefix?typeof p=="undefined"||p==null?s[s.length]="<"+o+" />":typeof p=="object"&&p.constructor===Array?s[s.length]=this.array_to_xml(o,p):typeof p=="object"?s[s.length]=this.hash_to_xml(o,p):s[s.length]=this.scalar_to_xml(o,p):f[f.length]=" "+o.substring(1)+'="'+this.xml_escape(p)+'"'}var d=f.join(""),O=s.join("");return typeof m=="undefined"||m==null||(s.length>0?O.match(/\n/)?O="<"+m+d+`>
`+O+"</"+m+`>
`:O="<"+m+d+">"+O+"</"+m+`>
`:O="<"+m+d+` />
`),O};Zr.ObjTree.prototype.array_to_xml=function(m,y){for(var s=[],f=0;f<y.length;f++){var o=y[f];typeof o=="undefined"||o==null?s[s.length]="<"+m+" />":typeof o=="object"&&o.constructor===Array?s[s.length]=this.array_to_xml(m,o):typeof o=="object"?s[s.length]=this.hash_to_xml(m,o):s[s.length]=this.scalar_to_xml(m,o)}return s.join("")};Zr.ObjTree.prototype.scalar_to_xml=function(m,y){return m==="#text"?this.xml_escape(y):"<"+m+">"+this.xml_escape(y)+"</"+m+`>
`};Zr.ObjTree.prototype.xml_escape=function(m){return m.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var CE=function(m){return new Zr.ObjTree().parseXML(m)};function K0(m){return Object.prototype.toString.call(m)}function m0(m){return"  ".repeat(m)}function Id(m){return K0(m)==="[object Object]"?Object.keys(m).reduce(function(y,s){var f=s;return s.charAt(0)==="-"&&(f=s.substring(1)),y[f]=Id(m[s]),y},{}):Array.isArray(m)?m.map(function(y){return Id(y)}):m}function RE(m){var y=m;try{typeof y!="string"&&(y=JSON.parse(m))}catch(s){y=JSON.stringify(Id(m)).replace(/"/g,"'")}return y}var b0=`	
`;function jd(m,y,s){var f=m0(s),o="",p=b0+f;if(y==="-json")return"";if(y==="#text")return p+m;if(y==="#cdata-section")return p+"<![CDATA["+m+"]]>";if(y==="#comment")return p+"<!--"+m+"-->";if((""+y).charAt(0)==="-")return" "+y.substring(1)+'="'+RE(m)+'"';if(Array.isArray(m))o+=m.map(function(E){return jd(E,y,s+1)}).join("");else if(K0(m)==="[object Object]"){var d=Object.keys(m),O="",v=m["-json"]?b0+m0(s+1)+m["-json"]:"";o+=(s===0?"":p)+"<"+y,d.forEach(function(E){E.charAt(0)==="-"?O+=jd(m[E],E,s+1):v+=jd(m[E],E,s+1)}),o+=O+(v!==""?">"+v+p+"</"+y+">":" />")}else o+=p+"<"+y+">"+m.toString()+"</"+y+">";return o}function IE(m){var y="";for(var s in m)y+=jd(m[s],s,0);return y}var LE=function(){var m=function(y,s){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,o){f.__proto__=o}||function(f,o){for(var p in o)o.hasOwnProperty(p)&&(f[p]=o[p])},m(y,s)};return function(y,s){m(y,s);function f(){this.constructor=y}y.prototype=s===null?Object.create(s):(f.prototype=s.prototype,new f)}}(),Jv=function(){return Jv=Object.assign||function(m){for(var y,s=1,f=arguments.length;s<f;s++){y=arguments[s];for(var o in y)Object.prototype.hasOwnProperty.call(y,o)&&(m[o]=y[o])}return m},Jv.apply(this,arguments)},_0=function(m,y){var s={};for(var f in m)Object.prototype.hasOwnProperty.call(m,f)&&y.indexOf(f)<0&&(s[f]=m[f]);if(m!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,f=Object.getOwnPropertySymbols(m);o<f.length;o++)y.indexOf(f[o])<0&&Object.prototype.propertyIsEnumerable.call(m,f[o])&&(s[f[o]]=m[f[o]]);return s},ug=function(m){var y=typeof Symbol=="function"&&Symbol.iterator,s=y&&m[y],f=0;if(s)return s.call(m);if(m&&typeof m.length=="number")return{next:function(){return m&&f>=m.length&&(m=void 0),{value:m&&m[f++],done:!m}}};throw new TypeError(y?"Object is not iterable.":"Symbol.iterator is not defined.")},ms=function(m,y){var s=typeof Symbol=="function"&&m[Symbol.iterator];if(!s)return m;var f=s.call(m),o,p=[],d;try{for(;(y===void 0||y-- >0)&&!(o=f.next()).done;)p.push(o.value)}catch(O){d={error:O}}finally{try{o&&!o.done&&(s=f.return)&&s.call(f)}finally{if(d)throw d.error}}return p},ys=function(){for(var m=[],y=0;y<arguments.length;y++)m=m.concat(ms(arguments[y]));return m},Kr;(function(m){m.START="bpmn:startEvent",m.END="bpmn:endEvent",m.INTERMEDIATE_CATCH="bpmn:intermediateCatchEvent",m.INTERMEDIATE_THROW="bpmn:intermediateThrowEvent",m.BOUNDARY="bpmn:boundaryEvent",m.PARALLEL_GATEWAY="bpmn:parallelGateway",m.INCLUSIVE_GATEWAY="bpmn:inclusiveGateway",m.EXCLUSIVE_GATEWAY="bpmn:exclusiveGateway",m.USER="bpmn:userTask",m.SYSTEM="bpmn:serviceTask",m.FLOW="bpmn:sequenceFlow",m.SUBPROCESS="bpmn:subProcess"})(Kr||(Kr={}));var $0=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef","-children"],zE=["properties","startPoint","endPoint","pointsList"],Ld={in:[],out:["properties.panels","properties.nodeSize","properties.definitionId","properties.timerValue","properties.timerType","properties.definitionType","properties.parent","properties.isBoundaryEventTouchingTask"]},Z0=function(m,y){var s=Object.keys(y||{});return s.forEach(function(f){if(m[f]){var o=y[f],p=o.in,d=o.out;p&&(m[f].in=p),d&&(m[f].out=d)}else m[f]=y[f]}),m},Fo={"bpmn:startEvent":{out:function(m){var y,s,f=m.properties;return((s=(y=Fo[f.definitionType])===null||y===void 0?void 0:y.out)===null||s===void 0?void 0:s.call(y,m))||{}}},"bpmn:intermediateCatchEvent":{out:function(m){var y,s,f=m.properties;return((s=(y=Fo[f.definitionType])===null||y===void 0?void 0:y.out)===null||s===void 0?void 0:s.call(y,m))||{}}},"bpmn:intermediateThrowEvent":{out:function(m){var y,s,f=m.properties;return((s=(y=Fo[f.definitionType])===null||y===void 0?void 0:y.out)===null||s===void 0?void 0:s.call(y,m))||{}}},"bpmn:boundaryEvent":{out:function(m){var y,s,f=m.properties;return((s=(y=Fo[f.definitionType])===null||y===void 0?void 0:y.out)===null||s===void 0?void 0:s.call(y,m))||{}}},"bpmn:sequenceFlow":{out:function(m){var y=m.properties,s=y.expressionType,f=y.condition;return f?s==="cdata"?{json:'<bpmn:conditionExpression xsi:type="bpmn2:tFormalExpression"><![CDATA[${'+f+"}]]></bpmn:conditionExpression>"}:{json:'<bpmn:conditionExpression xsi:type="bpmn2:tFormalExpression">'+f+"</bpmn:conditionExpression>"}:{json:""}}},"bpmn:timerEventDefinition":{out:function(m){var y=m.properties,s=y.timerType,f=y.timerValue,o=y.definitionId,p=function(){return"<bpmn:"+s+' xsi:type="bpmn:tFormalExpression">'+f+"</bpmn:"+s+">"};return{json:'<bpmn:timerEventDefinition id="'+o+'"'+(s&&f?">"+p()+"</bpmn:timerEventDefinition>":"/>")}},in:function(m,y){var s,f,o,p,d=m,O=y["-id"],v="",E="";try{for(var M=ug(Object.keys(y)),A=M.next();!A.done;A=M.next()){var T=A.value;T.includes("bpmn:")&&(o=ms(T.split(":"),2),v=o[1],E=(p=y[T])===null||p===void 0?void 0:p["#text"])}}catch(k){s={error:k}}finally{try{A&&!A.done&&(f=M.return)&&f.call(M)}finally{if(s)throw s.error}}return{"-definitionId":O,"-definitionType":d,"-timerType":v,"-timerValue":E}}},"bpmn:conditionExpression":{in:function(m,y){var s,f="",o="";return y["#cdata-section"]?(o="cdata",f=((s=/^\$\{(.*)\}$/g.exec(y["#cdata-section"]))===null||s===void 0?void 0:s[1])||""):y["#text"]&&(o="normal",f=y["#text"]),{"-condition":f,"-expressionType":o}}}};function BE(m){var y=m!=null?m:{},s=y.retainedAttrsFields,f=y.excludeFields,o=y.transformer,p=new Set(ys(zE,s||[])),d={in:new Set(ys(Ld.in,(f==null?void 0:f.in)||[])),out:new Set(ys(Ld.out,(f==null?void 0:f.out)||[]))};return Fo=Z0(Fo,o),function(O){var v=O.nodes,E=O.edges;function M(A,T){var k,I,C;if((A==null?void 0:A.flag)!==1){var L;if((L=Fo[A.type])&&L.out){var G=L.out(A),W=Object.keys(G);W.length>0&&W.forEach(function(X){A[X]=G[X]})}A!=null&&A.children&&(A.children=A.children.map(function(X){var Y=v.find(function($){return $.id===X})||E.find(function($){return $.id===X});return Y||{}}));var ne={};if(typeof A=="string")return A;if(Array.isArray(A))return A.map(function(X){return M(X,"")}).filter(function(X){return X!=null});try{for(var se=ug(Object.entries(A)),ie=se.next();!ie.done;ie=se.next()){var Q=ms(ie.value,2),ee=Q[0],V=Q[1];if(((C=V)===null||C===void 0?void 0:C.flag)===1)return;var B=[T,ee].filter(function(X){return X}).join(".");d.out.has(B)||(typeof V!="object"?ee.indexOf("-")===0||["#text","#cdata-section","#comment"].includes(ee)?ne[ee]=V:ne["-"+ee]=V:p.has(B)?ne["-"+ee]=M(V,B):ne[ee]=M(V,B))}}catch(X){k={error:X}}finally{try{ie&&!ie.done&&(I=se.return)&&I.call(se)}finally{if(k)throw k.error}}return ne}}return M(O,"")}}function zd(m){var y,s,f={};try{for(var o=ug(Object.entries(m)),p=o.next();!p.done;p=o.next()){var d=ms(p.value,2),O=d[0],v=d[1];O.indexOf("-")===0?f[O.substring(1)]=Id(v):typeof v=="string"?f[O]=v:Object.prototype.toString.call(v)==="[object Object]"?f[O]=zd(v):Array.isArray(v)?f[O]=v.map(function(E){return zd(E)}):f[O]=v}}catch(E){y={error:E}}finally{try{p&&!p.done&&(s=o.return)&&s.call(o)}finally{if(y)throw y.error}}return f}function FE(m,y,s){var f,o=new Map,p=BE(s)(y);p.nodes.forEach(function(O){var v=O["-id"],E=O["-type"],M=O.text,A=O.children,T=_0(O,["-id","-type","text","children"]),k={"-id":v};M!=null&&M["-value"]&&(k["-name"]=M["-value"]),T["-json"]&&(k["-json"]=T["-json"]),T["-properties"]&&Object.assign(k,T["-properties"]),A&&(k.children=A),m[E]||(m[E]=[]),m[E].push(k),o.set(v,k)});var d=p.edges.map(function(O){var v=O["-id"];O["-type"];var E=O["-sourceNodeId"],M=O["-targetNodeId"],A=O.text,T=_0(O,["-id","-type","-sourceNodeId","-targetNodeId","text"]),k=o.get(M);k["bpmn:incoming"]||(k["bpmn:incoming"]=[]),k["bpmn:incoming"].push(v);var I={"-id":v,"-sourceRef":E,"-targetRef":M};return A!=null&&A["-value"]&&(I["-name"]=A["-value"]),T["-json"]&&(I["-json"]=T["-json"]),T["-properties"]&&Object.assign(I,T["-properties"]),I});return y.edges.forEach(function(O){var v=O.sourceNodeId,E=O.id,M=o.get(v);M["bpmn:outgoing"]||(M["bpmn:outgoing"]=[]),M["bpmn:outgoing"].push(E)}),(f=m["bpmn:subProcess"])===null||f===void 0||f.forEach(function(O){var v={"bpmn:incoming":new Set,"bpmn:outgoing":new Set},E=[];O.children.forEach(function(C){var L,G=o.get(C["-id"]);["bpmn:incoming","bpmn:outgoing"].forEach(function(ne){G[ne]&&G[ne].forEach(function(se){v[ne].add(se)})});var W=(L=m[C["-type"]])===null||L===void 0?void 0:L.findIndex(function(ne){return ne["-id"]===C["-id"]});W>=0&&m[C["-type"]].splice(W,1),o.delete(C["-id"]),O[C["-type"]]||(O[C["-type"]]=[]),O[C["-type"]].push(G)});var M=v["bpmn:incoming"],A=v["bpmn:outgoing"];A.forEach(function(C){M.has(C)&&E.push(C)});for(var T=function(C){var L=d.findIndex(function(G){return G["-id"]===E[C]});L>=0?(O["bpmn:sequenceFlow"]||(O["bpmn:sequenceFlow"]=[]),O["bpmn:sequenceFlow"].push(d[L]),d.splice(L,1)):C++,k=C},k,I=0;I<E.length;)T(I),I=k;delete O.children}),m[Kr.FLOW]=d,m}function UE(m,y){m["bpmndi:BPMNEdge"]=y.edges.map(function(s){var f,o=s.id,p=s.pointsList.map(function(O){var v=O.x,E=O.y;return{"-x":v,"-y":E}}),d={"-id":o+"_di","-bpmnElement":o,"di:waypoint":p};return!((f=s.text)===null||f===void 0)&&f.value&&(d["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":s.text.x-s.text.value.length*10/2,"-y":s.text.y-7,"-width":s.text.value.length*10,"-height":14}}),d}),m["bpmndi:BPMNShape"]=y.nodes.map(function(s){var f,o=s.id,p=100,d=80,O=s.x,v=s.y,E=oo.shapeConfigMap.get(s.type);E&&(p=E.width,d=E.height),O-=p/2,v-=d/2;var M={"-id":o+"_di","-bpmnElement":o,"dc:Bounds":{"-x":O,"-y":v,"-width":p,"-height":d}};return!((f=s.text)===null||f===void 0)&&f.value&&(M["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":s.text.x-s.text.value.length*10/2,"-y":s.text.y-7,"-width":s.text.value.length*10,"-height":14}}),M})}var GE=["bpmn:incoming","bpmn:outgoing"];function XE(m,y){var s=[],f=[],o=new Map,p=y!=null?y:{},d=p.transformer,O=p.excludeFields,v={in:new Set(ys(Ld.in,(O==null?void 0:O.in)||[])),out:new Set(ys(Ld.out,(O==null?void 0:O.out)||[]))};Fo=Z0(Fo,d);var E=m["bpmn:definitions"];if(E){var M=E["bpmn:process"];(function(T,k){k.forEach(function(I){try{Object.keys(T).forEach(function(C){try{I(C)}catch(L){}})}catch(C){}})})(M,[function(T){function k(C){C["-children"]||(C["-children"]=[]),Object.keys(C).forEach(function(L){var G;L.indexOf("bpmn:")===0&&!GE.includes(L)&&(M[L]||(M[L]=[]),!Array.isArray(M[L])&&(M[L]=[M[L]]),Array.isArray(C[L])?(G=M[L]).push.apply(G,ys(C[L])):M[L].push(C[L]),Array.isArray(C[L])?C[L].forEach(function(W){!L.includes("Flow")&&C["-children"].push(W["-id"])}):!L.includes("Flow")&&C["-children"].push(C[L]["-id"]),delete C[L])})}if(T==="bpmn:subProcess"){var I=M[T];Array.isArray(I)?I.forEach(function(C){T==="bpmn:subProcess"&&k(C)}):k(I)}},function(T){var k=function(C){Object.keys(C).forEach(function(L){var G,W;if(L.includes("bpmn:")){var ne={};Fo[L]&&Fo[L].in?(ne=(W=(G=Fo[L]).in)===null||W===void 0?void 0:W.call(G,L,S0.cloneDeep(C[L])),delete C[L]):I(C[L]);var se=void 0;(se=Reflect.ownKeys(ne)).length>0&&se.forEach(function(ie){Reflect.set(C,ie,ne[ie])})}})};function I(C){o.set(C["-id"],C),Array.isArray(C)?C.forEach(function(L){I(L)}):typeof C=="object"&&k(C)}I(M[T])},function(T){if(T.indexOf("bpmn:")===0){var k=M[T];if(T==="bpmn:sequenceFlow"){var I=E["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];f=YE(k,I)}else{var C=E["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];if(T==="bpmn:boundaryEvent"){var L=M[T],G=function(W){var ne=W["-attachedToRef"],se=o.get(ne);se["-boundaryEvents"]||(se["-boundaryEvents"]=[]),se["-boundaryEvents"].push(W["-id"])};Array.isArray(L)?L.forEach(function(W){G(W)}):G(L)}s=s.concat(HE(k,C,T))}}}])}var A=function(T,k,I){Object.keys(T).forEach(function(C){var L=I?I+"."+C:C;k.has(L)?delete T[C]:typeof T[C]=="object"&&A(T[C],k,L)})};return s.forEach(function(T){var k,I;if(!((k=y==null?void 0:y.mapping)===null||k===void 0)&&k.in){var C=(I=y==null?void 0:y.mapping)===null||I===void 0?void 0:I.in,L=T.type;C[L]&&(T.type=C[L])}A(T,v.in,"")}),f.forEach(function(T){var k,I;if(!((k=y==null?void 0:y.mapping)===null||k===void 0)&&k.in){var C=(I=y==null?void 0:y.mapping)===null||I===void 0?void 0:I.in,L=T.type;C[L]&&(T.type=C[L])}A(T,v.in,"")}),{nodes:s,edges:f}}function HE(m,y,s){var f=[];if(Array.isArray(m))m.forEach(function(d){var O;Array.isArray(y)?O=y.find(function(E){return E["-bpmnElement"]===d["-id"]}):O=y;var v=O0(O,s,d);f.push(v)});else{var o=void 0;Array.isArray(y)?o=y.find(function(d){return d["-bpmnElement"]===m["-id"]}):o=y;var p=O0(o,s,m);f.push(p)}return f}function O0(m,y,s){var f=Number(m["dc:Bounds"]["-x"]),o=Number(m["dc:Bounds"]["-y"]),p=s["-children"],d=s["-name"],O=oo.shapeConfigMap.get(y);O&&(f+=O.width/2,o+=O.height/2);var v={};Object.entries(s).forEach(function(T){var k=ms(T,2),I=k[0],C=k[1];$0.includes(I)||(v[I]=C)}),v=zd(v);var E;if(d&&(E={x:f,y:o,value:d},m["bpmndi:BPMNLabel"]&&m["bpmndi:BPMNLabel"]["dc:Bounds"])){var M=m["bpmndi:BPMNLabel"]["dc:Bounds"];E.x=Number(M["-x"])+Number(M["-width"])/2,E.y=Number(M["-y"])+Number(M["-height"])/2}var A={id:m["-bpmnElement"],type:y,x:f,y:o,properties:v};return p&&(A.children=p),E&&(A.text=E),A}function YE(m,y){var s=[];if(Array.isArray(m))m.forEach(function(o){var p;Array.isArray(y)?p=y.find(function(d){return d["-bpmnElement"]===o["-id"]}):p=y,s.push(w0(p,o))});else{var f=void 0;Array.isArray(y)?f=y.find(function(o){return o["-bpmnElement"]===m["-id"]}):f=y,s.push(w0(f,m))}return s}function w0(m,y){var s,f=y["-name"];if(f){var o=m["bpmndi:BPMNLabel"]["dc:Bounds"],p=0;f.split(`
`).forEach(function(E){p<E.length&&(p=E.length)}),s={value:f,x:Number(o["-x"])+p*10/2,y:Number(o["-y"])+7}}var d={};Object.entries(y).forEach(function(E){var M=ms(E,2),A=M[0],T=M[1];$0.includes(A)||(d[A]=T)}),d=zd(d);var O=m["di:waypoint"].map(function(E){return{x:Number(E["-x"]),y:Number(E["-y"])}}),v={id:y["-id"],type:Kr.FLOW,pointsList:O,sourceNodeId:y["-sourceRef"],targetNodeId:y["-targetRef"],properties:d};return s&&(v.text=s),v}var oo=function(){function m(y){var s=this,f=y.lf;this.adapterOut=function(o,p){var d,O,v=Jv({},s.processAttributes);FE(v,o,p);var E={"-id":"BPMNPlane_1","-bpmnElement":v["-id"]};UE(E,o);var M=s.definitionAttributes;M["bpmn:process"]=v,M["bpmndi:BPMNDiagram"]={"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":E};var A={"bpmn:definitions":M};if(!((d=p==null?void 0:p.mapping)===null||d===void 0)&&d.out){var T=(O=p==null?void 0:p.mapping)===null||O===void 0?void 0:O.out,k=function(I){Array.isArray(I)&&I.forEach(function(C){return k(C)}),typeof I=="object"&&Object.keys(I).forEach(function(C){var L;(L=T[C])?(I[L]=S0.cloneDeep(I[C]),delete I[C],k(I[L])):k(I[C])})};k(A)}return A},this.adapterIn=function(o,p){if(o)return XE(o,p)},f.adapterIn=this.adapterIn,f.adapterOut=this.adapterOut,this.processAttributes={"-isExecutable":"true","-id":"Process"},this.definitionAttributes={"-id":"Definitions","-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://logic-flow.org","-exporter":"logicflow","-exporterVersion":"1.2.10"}}return m.prototype.setCustomShape=function(y,s){m.shapeConfigMap.set(y,s)},m.pluginName="bpmn-adapter",m.shapeConfigMap=new Map,m}();oo.shapeConfigMap.set(Kr.START,{width:s0.width,height:s0.height});oo.shapeConfigMap.set(Kr.END,{width:l0.width,height:l0.height});oo.shapeConfigMap.set(Kr.INTERMEDIATE_CATCH,{width:Rd.width,height:Rd.height});oo.shapeConfigMap.set(Kr.INTERMEDIATE_THROW,{width:Rd.width,height:Rd.height});oo.shapeConfigMap.set(Kr.BOUNDARY,{width:f0.width,height:f0.height});oo.shapeConfigMap.set(Kr.PARALLEL_GATEWAY,{width:p0.width,height:p0.height});oo.shapeConfigMap.set(Kr.INCLUSIVE_GATEWAY,{width:d0.width,height:d0.height});oo.shapeConfigMap.set(Kr.EXCLUSIVE_GATEWAY,{width:h0.width,height:h0.height});oo.shapeConfigMap.set(Kr.SYSTEM,{width:y0.width,height:y0.height});oo.shapeConfigMap.set(Kr.USER,{width:v0.width,height:v0.height});oo.shapeConfigMap.set(Kr.SUBPROCESS,{width:g0.width,height:g0.height});(function(m){LE(y,m);function y(s){var f=m.call(this,s)||this;f.adapterXmlIn=function(d){var O=CE(d);return f.adapterIn(O,f.props)},f.adapterXmlOut=function(d){var O=f.adapterOut(d,f.props);return IE(O)};var o=s.lf,p=s.props;return o.adapterIn=f.adapterXmlIn,o.adapterOut=f.adapterXmlOut,f.props=p,f}return y.pluginName="BPMNAdapter",y})(oo);var VE=function(){function m(y){var s=this,f=y.lf;this.lf=f,this.customCssRules="",this.useGlobalRules=!0,f.getSnapshot=function(o,p){s.getSnapshot(o,p)},f.getSnapshotBlob=function(o){return s.getSnapshotBlob(o)},f.getSnapshotBase64=function(o){return s.getSnapshotBase64(o)}}return m.prototype.getSvgRootElement=function(y){var s=y.container.querySelector(".lf-canvas-overlay");return s},m.prototype.triggerDownload=function(y){var s=new MouseEvent("click",{view:document.defaultView,bubbles:!1,cancelable:!0}),f=document.createElement("a");f.setAttribute("download",this.fileName),f.setAttribute("href",y),f.setAttribute("target","_blank"),f.dispatchEvent(s)},m.prototype.removeAnchor=function(y){for(var s=y.childNodes,f=y.childNodes&&y.childNodes.length,o=0;o<f;o++){var p=s[o],d=p.classList&&Array.from(p.classList)||[];d.indexOf("lf-anchor")>-1&&(y.removeChild(y.childNodes[o]),f--,o--)}},m.prototype.removeRotateControl=function(y){for(var s=y.childNodes,f=y.childNodes&&y.childNodes.length,o=0;o<f;o++){var p=s[o],d=p.classList&&Array.from(p.classList)||[];d.indexOf("lf-rotate-control")>-1&&(y.removeChild(y.childNodes[o]),f--,o--)}},m.prototype.getSnapshot=function(y,s){var f=this;this.fileName=y||"logic-flow."+Date.now()+".png";var o=this.getSvgRootElement(this.lf);this.getCanvasData(o,s).then(function(p){var d=p.toDataURL("image/png").replace("image/png","image/octet-stream");f.triggerDownload(d)})},m.prototype.getSnapshotBase64=function(y){var s=this,f=this.getSvgRootElement(this.lf);return new Promise(function(o){s.getCanvasData(f,y).then(function(p){var d=p.toDataURL("image/png");o({data:d,width:p.width,height:p.height})})})},m.prototype.getSnapshotBlob=function(y){var s=this,f=this.getSvgRootElement(this.lf);return new Promise(function(o){s.getCanvasData(f,y).then(function(p){p.toBlob(function(d){o({data:d,width:p.width,height:p.height})},"image/png")})})},m.prototype.getClassRules=function(){var y="";if(this.useGlobalRules)for(var s=document.styleSheets,f=0;f<s.length;f++)for(var o=s[f],p=0;p<o.cssRules.length;p++)y+=o.cssRules[p].cssText;return this.customCssRules&&(y+=this.customCssRules),y},m.prototype.getCanvasData=function(y,s){var f=this,o=y.cloneNode(!0),p=o.lastChild,d=p.childNodes&&p.childNodes.length;if(d)for(var O=0;O<d;O++){var v=p.childNodes[O],E=v.classList&&Array.from(v.classList);if(E&&E.indexOf("lf-base")<0)p.removeChild(p.childNodes[O]),d--,O--;else{var M=p.childNodes[O];M&&M.childNodes.forEach(function(xe){var me=xe;f.removeAnchor(me.firstChild),f.removeRotateControl(me.firstChild)})}}var A=window.devicePixelRatio||1;A<1&&(A=1);var T=document.createElement("canvas"),k=this.lf.graphModel.rootEl.querySelector(".lf-base"),I=k.getBoundingClientRect(),C=document.querySelector(".lf-canvas-overlay").getBoundingClientRect(),L=I.x-C.x,G=I.y-C.y,W=this.lf.graphModel,ne=W.transformModel,se=ne.SCALE_X,ie=ne.SCALE_Y,Q=ne.TRANSLATE_X,ee=ne.TRANSLATE_Y;o.lastChild.style.transform="matrix(1, 0, 0, 1, "+((-L+Q)*(1/se)+10)+", "+((-G+ee)*(1/ie)+10)+")";var V=Math.ceil(I.width/se),B=Math.ceil(I.height/ie);T.style.width=V+"px",T.style.height=B+"px",T.width=V*A+80,T.height=B*A+80;var X=T.getContext("2d");X.clearRect(0,0,T.width,T.height),X.scale(A,A),s?(X.fillStyle=s,X.fillRect(0,0,V*A+80,B*A+80)):X.clearRect(0,0,V,B);var Y=new Image,$=document.createElement("style");$.innerHTML=this.getClassRules();var ae=document.createElement("foreignObject");return ae.appendChild($),o.appendChild(ae),new Promise(function(xe){Y.onload=function(){var ze=navigator.userAgent.indexOf("Firefox")>-1;try{ze?createImageBitmap(Y,{resizeWidth:T.width,resizeHeight:T.height}).then(function(Se){X.drawImage(Se,0,0),xe(T)}):(X.drawImage(Y,0,0),xe(T))}catch(Se){X.drawImage(Y,0,0),xe(T)}};var me="data:image/svg+xml;charset=utf-8,"+new XMLSerializer().serializeToString(o),Pe=me.replace(/\n/g,"").replace(/\t/g,"").replace(/#/g,"%23");Y.src=Pe})},m.pluginName="snapshot",m}();var x0;(function(m){m.HORIZONTAL="horizontal",m.VERTICAL="vertical"})(x0||(x0={}));var WE=function(m,y){var s=typeof Symbol=="function"&&m[Symbol.iterator];if(!s)return m;var f=s.call(m),o,p=[],d;try{for(;(y===void 0||y-- >0)&&!(o=f.next()).done;)p.push(o.value)}catch(O){d={error:O}}finally{try{o&&!o.done&&(s=f.return)&&s.call(f)}finally{if(d)throw d.error}}return p},KE=function(){for(var m=[],y=0;y<arguments.length;y++)m=m.concat(WE(arguments[y]));return m},af="lf:defaultNodeMenu",uf="lf:defaultEdgeMenu",cf="lf:defaultGraphMenu",E0="lf:defaultSelectionMenu",$E=function(){function m(y){var s=this,f=y.lf;this.lf=f;var o=f.options.isSilentMode;o||(this.__menuDOM=document.createElement("ul"),this.menuTypeMap=new Map,this.init(),this.lf.setMenuConfig=function(p){s.setMenuConfig(p)},this.lf.addMenuConfig=function(p){s.addMenuConfig(p)},this.lf.setMenuByType=function(p){s.setMenuByType(p)})}return m.prototype.init=function(){var y=this,s=[{text:"删除",callback:function(p){y.lf.deleteNode(p.id)}},{text:"编辑文本",callback:function(p){y.lf.graphModel.editText(p.id)}},{text:"复制",callback:function(p){y.lf.cloneNode(p.id)}}];this.menuTypeMap.set(af,s);var f=[{text:"删除",callback:function(p){y.lf.deleteEdge(p.id)}},{text:"编辑文本",callback:function(p){y.lf.graphModel.editText(p.id)}}];this.menuTypeMap.set(uf,f),this.menuTypeMap.set(cf,[]);var o=[{text:"删除",callback:function(p){y.lf.clearSelectElements(),p.edges.forEach(function(d){return y.lf.deleteEdge(d.id)}),p.nodes.forEach(function(d){return y.lf.deleteNode(d.id)})}}];this.menuTypeMap.set(E0,o)},m.prototype.render=function(y,s){var f=this;y.options.isSilentMode||(this.__container=s,this.__currentData=null,this.__menuDOM.className="lf-menu",s.appendChild(this.__menuDOM),this.__menuDOM.addEventListener("click",function(o){o.stopPropagation();for(var p=o.target;Array.from(p.classList).indexOf("lf-menu-item")===-1&&Array.from(p.classList).indexOf("lf-menu")===-1;)p=p.parentElement;Array.from(p.classList).indexOf("lf-menu-item")>-1&&(p.onclickCallback(f.__currentData),f.__menuDOM.style.display="none",f.__currentData=null)},!0),this.lf.on("node:contextmenu",function(o){var p=o.data,d=o.position,O=o.e,v=d.domOverlayPosition,E=v.x,M=v.y,A=p.id,T=f.lf.graphModel.getNodeModelById(A),k=[],I=f.menuTypeMap.get(T.type);T&&T.menu&&Array.isArray(T.menu)?k=T.menu:I?k=I:k=f.menuTypeMap.get(af),f.__currentData=p,f.showMenu(E,M,k,{width:T.width,height:T.height,clientX:O.clientX,clientY:O.clientY})}),this.lf.on("edge:contextmenu",function(o){var p=o.data,d=o.position,O=o.e,v=d.domOverlayPosition,E=v.x,M=v.y,A=p.id,T=f.lf.graphModel.getEdgeModelById(A),k=[],I=f.menuTypeMap.get(T.type);T&&T.menu&&Array.isArray(T.menu)?k=T.menu:I?k=I:k=f.menuTypeMap.get(uf),f.__currentData=p,f.showMenu(E,M,k,{width:T.width,height:T.height,clientX:O.clientX,clientY:O.clientY})}),this.lf.on("blank:contextmenu",function(o){var p=o.position,d=f.menuTypeMap.get(cf),O=p.domOverlayPosition,v=O.x,E=O.y;f.showMenu(v,E,d)}),this.lf.on("selection:contextmenu",function(o){var p=o.data,d=o.position,O=f.menuTypeMap.get(E0),v=d.domOverlayPosition,E=v.x,M=v.y;f.__currentData=p,f.showMenu(E,M,O)}),this.lf.on("node:mousedown",function(){f.__menuDOM.style.display="none"}),this.lf.on("edge:click",function(){f.__menuDOM.style.display="none"}),this.lf.on("blank:click",function(){f.__menuDOM.style.display="none"}))},m.prototype.destroy=function(){var y;(y=this===null||this===void 0?void 0:this.__container)===null||y===void 0||y.removeChild(this.__menuDOM),this.__menuDOM=null},m.prototype.showMenu=function(y,s,f,o){if(!(!f||!f.length)){var p=this.__menuDOM;if(p.innerHTML="",p.append.apply(p,KE(this.__getMenuDom(f))),!!p.children.length){if(p.style.display="block",!o){p.style.top=s+"px",p.style.left=y+"px";return}var d=o.width,O=o.height,v=o.clientX,E=o.clientY,M=this.lf.graphModel,A=p.offsetWidth,T=!0,k=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,I=k-v,C=M.rootEl.getBoundingClientRect(),L=C.left+C.width;L<k&&(I=L-v),I<A&&(T=!1),T?p.style.left=y+"px":p.style.left=y-d+"px";var G=p.offsetHeight,W=!0,ne=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,se=ne-E,ie=C.top+C.height;ie<ne&&(se=ie-E),se<G&&(W=!1),W?p.style.top=s+"px":p.style.top=s-O+"px"}}},m.prototype.setMenuByType=function(y){!y.type||!y.menu||this.menuTypeMap.set(y.type,y.menu)},m.prototype.__getMenuDom=function(y){var s=[];return y&&y.length>0&&y.forEach(function(f){var o=document.createElement("li");if(f.className?o.className="lf-menu-item "+f.className:o.className="lf-menu-item",f.icon===!0){var p=document.createElement("span");p.className="lf-menu-item-icon",o.appendChild(p)}var d=document.createElement("span");d.className="lf-menu-item-text",f.text&&(d.innerText=f.text),o.appendChild(d),o.onclickCallback=f.callback,s.push(o)}),s},m.prototype.setMenuConfig=function(y){y&&(y.nodeMenu!==void 0&&this.menuTypeMap.set(af,y.nodeMenu?y.nodeMenu:[]),y.edgeMenu!==void 0&&this.menuTypeMap.set(uf,y.edgeMenu?y.edgeMenu:[]),y.graphMenu!==void 0&&this.menuTypeMap.set(cf,y.graphMenu?y.graphMenu:[]))},m.prototype.addMenuConfig=function(y){if(y){if(Array.isArray(y.nodeMenu)){var s=this.menuTypeMap.get(af);this.menuTypeMap.set(af,s.concat(y.nodeMenu))}if(Array.isArray(y.edgeMenu)){var s=this.menuTypeMap.get(uf);this.menuTypeMap.set(uf,s.concat(y.edgeMenu))}if(Array.isArray(y.graphMenu)){var s=this.menuTypeMap.get(cf);this.menuTypeMap.set(cf,s.concat(y.graphMenu))}}},m.prototype.changeMenuItem=function(y,s){if(y==="add")this.addMenuConfig(s);else if(y==="reset")this.setMenuConfig(s);else throw new Error("The first parameter of changeMenuConfig should be 'add' or 'reset'")},m.pluginName="menu",m}(),ZE=function(){function m(y){var s=this,f=y.lf;this.lf=f,this.lf.setPatternItems=function(o){s.setPatternItems(o)}}return m.prototype.render=function(y,s){var f=this;if(this.destroy(),!this.shapeList||this.shapeList.length===0){this.domContainer=s;return}this.panelEl=document.createElement("div"),this.panelEl.className="lf-dndpanel",this.shapeList.forEach(function(o){f.panelEl.appendChild(f.createDndItem(o))}),s.appendChild(this.panelEl),this.domContainer=s},m.prototype.destroy=function(){this.domContainer&&this.panelEl&&this.domContainer.contains(this.panelEl)&&this.domContainer.removeChild(this.panelEl)},m.prototype.setPatternItems=function(y){this.shapeList=y,this.domContainer&&this.render(this.lf,this.domContainer)},m.prototype.createDndItem=function(y){var s=this,f=document.createElement("div");f.className=y.className?"lf-dnd-item "+y.className:"lf-dnd-item";var o=document.createElement("div");if(o.className="lf-dnd-shape",y.icon&&(o.style.backgroundImage="url("+y.icon+")"),f.appendChild(o),y.label){var p=document.createElement("div");p.innerText=y.label,p.className="lf-dnd-text",f.appendChild(p)}return f.onmousedown=function(){y.type&&s.lf.dnd.startDrag({type:y.type,properties:y.properties,text:y.text}),y.callback&&y.callback(s.lf,s.domContainer)},f.ondblclick=function(d){s.lf.graphModel.eventCenter.emit("dnd:panel-dbclick",{e:d,data:y})},f.onclick=function(d){s.lf.graphModel.eventCenter.emit("dnd:panel-click",{e:d,data:y})},f.oncontextmenu=function(d){s.lf.graphModel.eventCenter.emit("dnd:panel-contextmenu",{e:d,data:y})},f},m.pluginName="dndPanel",m}(),qE=function(){function m(y){var s=this,f=y.lf;this.__disabled=!1,this.isDefaultStopMoveGraph=!1,this.isWholeNode=!0,this.isWholeEdge=!0,this.__draw=function(p){var d=s.lf.getPointByClient(p.clientX,p.clientY).domOverlayPosition,O=d.x,v=d.y;s.endPoint={x:O,y:v};var E=s.startPoint,M=E.x,A=E.y,T=s.wrapper.style,k=M,I=A,C=O-M,L=v-A;O<M&&(k=O,C=M-O),v<A&&(I=v,L=A-v),T.left=k+"px",T.top=I+"px",T.width=C+"px",T.height=L+"px"},this.__drawOff=function(){document.removeEventListener("mousemove",s.__draw),document.removeEventListener("mouseup",s.__drawOff),s.wrapper.oncontextmenu=null,s.__domContainer.removeChild(s.wrapper);var p=s.startPoint,d=p.x,O=p.y,v=s.endPoint,E=v.x,M=v.y;if(!(Math.abs(E-d)<10&&Math.abs(M-O)<10)){var A=[Math.min(d,E),Math.min(O,M)],T=[Math.max(d,E),Math.max(O,M)],k=s.lf.graphModel.getAreaElement(A,T,s.isWholeEdge,s.isWholeNode,!0),I=s.lf.graphModel.group;k.forEach(function(C){(!I||!I.getNodeGroup(C.id))&&s.lf.selectElementById(C.id,!0)}),s.lf.emit("selection:selected",k)}},this.lf=f;var o=f.getEditConfig().stopMoveGraph;this.isDefaultStopMoveGraph=o,f.openSelectionSelect=function(){s.openSelectionSelect()},f.closeSelectionSelect=function(){s.closeSelectionSelect()}}return m.prototype.render=function(y,s){var f=this;this.__domContainer=s,y.on("blank:mousedown",function(o){var p=o.e,d=y.getEditConfig();if(!(!d.stopMoveGraph||f.__disabled)){var O=p.button===2;if(!O){var v=y.getPointByClient(p.clientX,p.clientY).domOverlayPosition,E=v.x,M=v.y;f.startPoint={x:E,y:M},f.endPoint={x:E,y:M};var A=document.createElement("div");A.className="lf-selection-select",A.oncontextmenu=function(k){k.preventDefault()},A.style.top=f.startPoint.y+"px",A.style.left=f.startPoint.x+"px",s.appendChild(A),f.wrapper=A,document.addEventListener("mousemove",f.__draw),document.addEventListener("mouseup",f.__drawOff)}}})},m.prototype.setSelectionSense=function(y,s){y===void 0&&(y=!0),s===void 0&&(s=!0),this.isWholeEdge=y,this.isWholeNode=s},m.prototype.openSelectionSelect=function(){var y=this.lf.getEditConfig().stopMoveGraph;y||(this.isDefaultStopMoveGraph=!1,this.lf.updateEditConfig({stopMoveGraph:!0})),this.open()},m.prototype.closeSelectionSelect=function(){this.isDefaultStopMoveGraph||this.lf.updateEditConfig({stopMoveGraph:!1}),this.close()},m.prototype.open=function(){this.__disabled=!1},m.prototype.close=function(){this.__disabled=!0},m.pluginName="selectionSelect",m}(),q0=function(){var m=function(y,s){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,o){f.__proto__=o}||function(f,o){for(var p in o)o.hasOwnProperty(p)&&(f[p]=o[p])},m(y,s)};return function(y,s){m(y,s);function f(){this.constructor=y}y.prototype=s===null?Object.create(s):(f.prototype=s.prototype,new f)}}(),ds=function(){return ds=Object.assign||function(m){for(var y,s=1,f=arguments.length;s<f;s++){y=arguments[s];for(var o in y)Object.prototype.hasOwnProperty.call(y,o)&&(m[o]=y[o])}return m},ds.apply(this,arguments)},hf=function(m,y){var s=typeof Symbol=="function"&&m[Symbol.iterator];if(!s)return m;var f=s.call(m),o,p=[],d;try{for(;(y===void 0||y-- >0)&&!(o=f.next()).done;)p.push(o.value)}catch(O){d={error:O}}finally{try{o&&!o.done&&(s=f.return)&&s.call(f)}finally{if(d)throw d.error}}return p},JE={tr:"tl",lb:"tl",tl:"tr",rb:"tr",br:"bl",lt:"bl",bl:"br",rt:"br"};function QE(m){for(var y=m,s=1;s<y.length-1;){var f=hf(y[s-1],2),o=f[0],p=f[1],d=hf(y[s],2),O=d[0],v=d[1],E=hf(y[s+1],2),M=E[0],A=E[1];o===O&&O===M||p===v&&v===A?y.splice(s,1):s++}return y}function eS(m,y,s,f){var o=[m[0],m[1]],p=[m[0],m[1]];switch(s){case"tl":return y==="tr"?(o[1]+=f,p[0]+=f):y==="lb"&&(o[0]+=f,p[1]+=f),[o,p];case"tr":return y==="tl"?(o[1]+=f,p[0]-=f):y==="rb"&&(o[0]-=f,p[1]+=f),[o,p];case"bl":return y==="br"?(o[1]-=f,p[0]+=f):y==="lt"&&(o[0]+=f,p[1]-=f),[o,p];case"br":return y==="bl"?(o[1]-=f,p[0]-=f):y==="rt"&&(o[0]-=f,p[1]-=f),[o,p];default:return[]}}function tS(m,y,s,f){var o,p="",d="";m[0]===y[0]?p=m[1]>y[1]?"t":"b":m[1]===y[1]&&(p=m[0]>y[0]?"l":"r"),y[0]===s[0]?d=y[1]>s[1]?"t":"b":y[1]===s[1]&&(d=y[0]>s[0]?"l":"r");var O=Math.min(Math.hypot(y[0]-m[0],y[1]-m[1])/2,Math.hypot(s[0]-y[0],s[1]-y[1])/2,f)||1/5*f,v=""+p+d,E=JE[v]||"-",M="L "+m[0]+" "+m[1];if(E==="-")M+="L "+y[0]+" "+y[1]+" L "+s[0]+" "+s[1];else{var A=hf(eS(y,v,E,O),2),T=A[0],k=A[1];T&&k&&(M+="L "+T[0]+" "+T[1]+" Q "+y[0]+" "+y[1]+" "+k[0]+" "+k[1],o=hf(k,2),y[0]=o[0],y[1]=o[1])}return M}function nS(m,y){var s=0,f="";if(m.length===2)f+="M"+m[s][0]+" "+m[s++][1]+" L "+m[s][0]+" "+m[s][1];else{for(f+="M"+m[s][0]+" "+m[s++][1];s+1<m.length;){var o=m[s-1],p=m[s],d=m[s+++1];f+=tS(o,p,d,y)}f+="L "+m[s][0]+" "+m[s][1]}return f}(function(m){q0(y,m);function y(){return m!==null&&m.apply(this,arguments)||this}return y.prototype.getEdge=function(){var s=this.props.model,f=s.points,o=s.isAnimation,p=s.arrowConfig,d=s.radius,O=d===void 0?5:d,v=s.getEdgeStyle(),E=s.getEdgeAnimationStyle(),M=QE(f.split(" ").map(function(k){return k.split(",").map(function(I){return+I})})),A=nS(M,O),T=ds(ds(ds({style:o?E:{}},v),p),{fill:"none"});return nt.h("path",ds({d:A},T))},y})(nt.PolylineEdge);(function(m){q0(y,m);function y(){return m!==null&&m.apply(this,arguments)||this}return y})(nt.PolylineEdgeModel);const rS={SEQUENCE_FLOW:1,START_EVENT:2,END_EVENT:3,USER_TASK:4,SERVICE_TASK:5,EXCLUSIVE_GATEWAY:6};function oS(m){const{incoming:y,outgoing:s,properties:f,key:o}=m,{text:p,startPoint:d,endPoint:O,pointsList:v,logicFlowType:E}=f,M={id:o,type:E,sourceNodeId:y[0],targetNodeId:s[0],text:p,startPoint:d,endPoint:O,pointsList:v,properties:{}},A=["startPoint","endPoint","pointsList","text","logicFlowType"];return Object.keys(m.properties).forEach(T=>{A.indexOf(T)===-1&&(M.properties[T]=m.properties[T])}),M}function iS(m){const{properties:y,key:s}=m,{x:f,y:o,text:p,logicFlowType:d}=y,O={id:s,type:d,x:f,y:o,text:p,properties:{}},v=["x","y","text","logicFlowType"];return Object.keys(m.properties).forEach(E=>{v.indexOf(E)===-1&&(O.properties[E]=m.properties[E])}),O}function aS(m){const y={nodes:[],edges:[]},s=m.flowElementList;return s&&s.length>0&&s.forEach(f=>{if(f.type===rS.SEQUENCE_FLOW){const o=oS(f);y.edges.push(o)}else{const o=iS(f);y.nodes.push(o)}}),y}function uS(m){return[{text:"选区",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAAOVJREFUOBGtVMENwzAIjKP++2026ETdpv10iy7WFbqFyyW6GBywLCv5gI+Dw2Bluj1znuSjhb99Gkn6QILDY2imo60p8nsnc9bEo3+QJ+AKHfMdZHnl78wyTnyHZD53Zzx73MRSgYvnqgCUHj6gwdck7Zsp1VOrz0Uz8NbKunzAW+Gu4fYW28bUYutYlzSa7B84Fh7d1kjLwhcSdYAYrdkMQVpsBr5XgDGuXwQfQr0y9zwLda+DUYXLaGKdd2ZTtvbolaO87pdo24hP7ov16N0zArH1ur3iwJpXxm+v7oAJNR4JEP8DoAuSFEkYH7cAAAAASUVORK5CYII=",callback:()=>{m.updateEditConfig({stopMoveGraph:!0})}},{type:"circle",text:"开始",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAAnBJREFUOBGdVL1rU1EcPfdGBddmaZLiEhdx1MHZQXApraCzQ7GKLgoRBxMfcRELuihWKcXFRcEWF8HBf0DdDCKYRZpnl7p0svLe9Zzbd29eQhTbC8nv+9zf130AT63jvooOGS8Vf9Nt5zxba7sXQwODfkWpkbjTQfCGUd9gIp3uuPP8bZ946g56dYQvnBg+b1HB8VIQmMFrazKcKSvFW2dQTxJnJdQ77urmXWOMBCmXM2Rke4S7UAW+/8ywwFoewmBps2tu7mbTdp8VMOkIRAkKfrVawalJTtIliclFbaOBqa0M2xImHeVIfd/nKAfVq/LGnPss5Kh00VEdSzfwnBXPUpmykNss4lUI9C1ga+8PNrBD5YeqRY2Zz8PhjooIbfJXjowvQJBqkmEkVnktWhwu2SM7SMx7Cj0N9IC0oQXRo8xwAGzQms+xrB/nNSUWVveI48ayrFGyC2+E2C+aWrZHXvOuz+CiV6iycWe1Rd1Q6+QUG07nb5SbPrL4426d+9E1axKjY3AoRrlEeSQo2Eu0T6BWAAr6COhTcWjRaYfKG5csnvytvUr/WY4rrPMB53Uo7jZRjXaG6/CFfNMaXEu75nG47X+oepU7PKJvvzGDY1YLSKHJrK7vFUwXKkaxwhCW3u+sDFMVrIju54RYYbFKpALZAo7sB6wcKyyrd+aBMryMT2gPyD6GsQoRFkGHr14TthZni9ck0z+Pnmee460mHXbRAypKNy3nuMdrWgVKj8YVV8E7PSzp1BZ9SJnJAsXdryw/h5ctboUVi4AFiCd+lQaYMw5z3LGTBKjLQOeUF35k89f58Vv/tGh+l+PE/wG0rgfIUbZK5AAAAABJRU5ErkJggg=="},{type:"rect",text:"用户任务",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAEFVwZaAAAABGdBTUEAALGPC/xhBQAAAqlJREFUOBF9VM9rE0EUfrMJNUKLihGbpLGtaCOIR8VjQMGDePCgCCIiCNqzCAp2MyYUCXhUtF5E0D+g1t48qAd7CCLqQUQKEWkStcEfVGlLdp/fm3aW2QQdyLzf33zz5m2IsAZ9XhDpyaaIZkTS4ASzK41TFao88GuJ3hsr2pAbipHxuSYyKRugagICGANkfFnNh3HeE2N0b3nN2cgnpcictw5veJIzxmDamSlxxQZicq/mflxhbaH8BLRbuRwNtZp0JAhoplVRUdzmCe/vO27wFuuA3S5qXruGdboy5/PRGFsbFGKo/haRtQHIrM83bVeTrOgNhZReWaYGnE4aUQgTJNvijJFF4jQ8BxJE5xfKatZWmZcTQ+BVgh7s8SgPlCkcec4mGTmieTP4xd7PcpIEg1TX6gdeLW8rTVMVLVvb7ctXoH0Cydl2QOPJBG21STE5OsnbweVYzAnD3A7PVILuY0yiiyDwSm2g441r6rMSgp6iK42yqroI2QoXeJVeA+YeZSa47gZdXaZWQKTrG93rukk/l2Al6Kzh5AZEl7dDQy+JjgFahQjRopSxPbrbvK7GRe9ePWBo1wcU7sYrFZtavXALwGw/7Dnc50urrHJuTPSoO2IMV3gUQGNg87IbSOIY9BpiT9HV7FCZ94nPXb3MSnwHn/FFFE1vG6DTby+r31KAkUktB3Qf6ikUPWxW1BkXSPQeMHHiW0+HAd2GelJsZz1OJegCxqzl+CLVHa/IibuHeJ1HAKzhuDR+ymNaRFM+4jU6UWKXorRmbyqkq/D76FffevwdCp+jN3UAN/C9JRVTDuOxC/oh+EdMnqIOrlYteKSfadVRGLJFJPSB/ti/6K8f0CNymg/iH2gO/f0DwE0yjAFO6l8JaR5j0VPwPwfaYHqOqrCI319WzwhwzNW/aQAAAABJRU5ErkJggg==",cls:"important-node"},{type:"rect",text:"系统任务",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAEFVwZaAAAABGdBTUEAALGPC/xhBQAAAqlJREFUOBF9VM9rE0EUfrMJNUKLihGbpLGtaCOIR8VjQMGDePCgCCIiCNqzCAp2MyYUCXhUtF5E0D+g1t48qAd7CCLqQUQKEWkStcEfVGlLdp/fm3aW2QQdyLzf33zz5m2IsAZ9XhDpyaaIZkTS4ASzK41TFao88GuJ3hsr2pAbipHxuSYyKRugagICGANkfFnNh3HeE2N0b3nN2cgnpcictw5veJIzxmDamSlxxQZicq/mflxhbaH8BLRbuRwNtZp0JAhoplVRUdzmCe/vO27wFuuA3S5qXruGdboy5/PRGFsbFGKo/haRtQHIrM83bVeTrOgNhZReWaYGnE4aUQgTJNvijJFF4jQ8BxJE5xfKatZWmZcTQ+BVgh7s8SgPlCkcec4mGTmieTP4xd7PcpIEg1TX6gdeLW8rTVMVLVvb7ctXoH0Cydl2QOPJBG21STE5OsnbweVYzAnD3A7PVILuY0yiiyDwSm2g441r6rMSgp6iK42yqroI2QoXeJVeA+YeZSa47gZdXaZWQKTrG93rukk/l2Al6Kzh5AZEl7dDQy+JjgFahQjRopSxPbrbvK7GRe9ePWBo1wcU7sYrFZtavXALwGw/7Dnc50urrHJuTPSoO2IMV3gUQGNg87IbSOIY9BpiT9HV7FCZ94nPXb3MSnwHn/FFFE1vG6DTby+r31KAkUktB3Qf6ikUPWxW1BkXSPQeMHHiW0+HAd2GelJsZz1OJegCxqzl+CLVHa/IibuHeJ1HAKzhuDR+ymNaRFM+4jU6UWKXorRmbyqkq/D76FffevwdCp+jN3UAN/C9JRVTDuOxC/oh+EdMnqIOrlYteKSfadVRGLJFJPSB/ti/6K8f0CNymg/iH2gO/f0DwE0yjAFO6l8JaR5j0VPwPwfaYHqOqrCI319WzwhwzNW/aQAAAABJRU5ErkJggg==",cls:"import_icon"},{type:"diamond",text:"条件判断",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAAHeEJUAAAAABGdBTUEAALGPC/xhBQAAAvVJREFUOBGNVEFrE0EU/mY3bQoiFlOkaUJrQUQoWMGePLX24EH0IIoHKQiCV0G8iE1covgLiqA/QTzVm1JPogc9tIJYFaQtlhQxqYjSpunu+L7JvmUTU3AgmTfvffPNN++9WSA1DO182f6xwILzD5btfAoQmwL5KJEwiQyVbSVZ0IgRyV6PTpIJ81E5ZvqfHQR0HUOBHW4L5Et2kQ6Zf7iAOhTFAA8s0pEP7AXO1uAA52SbqGk6h/6J45LaLhO64ByfcUzM39V7ZiAdS2yCePPEIQYvTUHqM/n7dgQNfBKWPjpF4ISk8q3J4nB11qw6X8l+FsF3EhlkEMfrjIer3wJTLwS2aCNcj4DbGxXTw00JmAuO+Ni6bBxVUCvS5d9aa04+so4pHW5jLTywuXAL7jJ+D06sl82Sgl2JuVBQn498zkc2bGKxULHjCnSMadBKYDYYHAtsby1EQ5lNGrQd4Y3v4Zo0XdGEmDno46yCM9Tk+RiJmUYHS/aXHPNTcjxcbTFna000PFJHIVZ5lFRqRpJWk9/+QtlOUYJj9HG5pVFEU7zqIYDVsw2s+AJaD8wTd2umgSCCyUxgGsS1Y6TBwXQQTFuZaHcd8gAGioE90hlsY+wMcs30RduYtxanjMGal8H5dMW67dmT1JFtYUEe8LiQLRsPZ6IIc7A4J5tqco3T0pnv/4u0kyzrYUq7gASuEyI8VXKvB9Odytv6jS/PNaZBln0nioJG/AVQRZvApOdhjj3Jt8QC8Im09SafwdBdvIpztpxWxpeKCC+EsFdS8DCyuCn2munFpL7ctHKp+Xc5cMybeIyMAN33SPL3ZR9QV1XVwLyzHm6Iv0/yeUuUb7PPlZC4D4HZkeu6dpF4v9j9MreGtMbxMMRLIcjJic9yHi7WQ3yVKzZVWUr5UrViJvn1FfUlwe/KYVfYyWRLSGNu16hR01U9IacajXPei0wx/5BqgInvJN+MMNtNme7ReU9SBbgntovn0kKHpFg7UogZvaZiOue/q1SBo9ktHzQAAAAASUVORK5CYII="},{type:"circle",text:"结束",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAA1BJREFUOBFtVE1IVUEYPXOf+tq40Y3vPcmFIdSjIorWoRG0ERWUgnb5FwVhYQSl72oUoZAboxKNFtWiwKRN0M+jpfSzqJAQclHo001tKkjl3emc8V69igP3znzfnO/M9zcDcKT67azmjYWTwl9Vn7Vumeqzj1DVb6cleQY4oAVnIOPb+mKAGxQmKI5CWNJ2aLPatxWa3aB9K7/fB+/Z0jUF6TmMlFLQqrkECWQzOZxYGjTlOl8eeKaIY5yHnFn486xBustDjWT6dG7pmjHOJd+33t0iitTPkK6tEvjxq4h2MozQ6WFSX/LkDUGfFwfhEZj1Auz/U4pyAi5Sznd7uKzznXeVHlI/Aywmk6j7fsUsEuCGADrWARXXwjxWQsUbIupDHJI7kF5dRktg0eN81IbiZXiTESic50iwS+t1oJgL83jAiBupLDCQqwziaWSoAFSeIR3P5Xv5az00wyIn35QRYTwdSYbz8pH8fxUUAtxnFvYmEmgI0wYXUXcCCSpeEVpXlsRhBnCEATxWylL9+EKCAYhe1NGstUa6356kS9NVvt3DU2fd+Wtbm/+lSbylJqsqkSm9CRhvoJVlvKPvF1RKY/FcPn5j4UfIMLn8D4UYb54BNsilTDXKnF4CfTobA0FpoW/LSp306wkXM+XaOJhZaFkcNM82ASNAWMrhrUbRfmyeI1FvRBTpN06WKxa9BK0o2E4Pd3zfBBEwPsv9sQBnmLVbLEIZ/Xe9LYwJu/Er17W6HYVBc7vmuk0xUQ+pqxdom5Fnp55SiytXLPYoMXNM4u4SNSCFWnrVIzKG3EGyMXo6n/BQOe+bX3FClY4PwydVhthOZ9NnS+ntiLh0fxtlUJHAuGaFoVmttpVMeum0p3WEXbcll94l1wM/gZ0Ccczop77VvN2I7TlsZCsuXf1WHvWEhjO8DPtyOVg2/mvK9QqboEth+7pD6NUQC1HN/TwvydGBARi9MZSzLE4b8Ru3XhX2PBxf8E1er2A6516o0w4sIA+lwURhAON82Kwe2iDAC1Watq4XHaGQ7skLcFOtI5lDxuM2gZe6WFIotPAhbaeYlU4to5cuarF1QrcZ/lwrLaCJl66JBocYZnrNlvm2+MBCTmUymPrYZVbjdlr/BxlMjmNmNI3SAAAAAElFTkSuQmCC"}]}const cS=Qv({name:"FlowChart",__name:"FlowChart",props:{flowOptions:{type:Object,default:()=>({})},data:{type:Object,default:()=>({})},toolbar:{type:Boolean,default:!0},patternItems:{type:Array}},setup(m){const y=m,s=wd(null),f=wd({}),o=wd(null),{prefixCls:p}=cx("flow-chart"),d=sx(),[O,{openModal:v}]=Sx();Mx({logicFlow:o});const E=bx(()=>{const{flowOptions:k}=y;return Uv({grid:!0,background:{color:d.getDarkMode==="light"?"#f7f9ff":"#151515"},keyboard:{enabled:!0}},k)});Xb(()=>y.data,()=>{A()}),Xb(()=>Dn(E),k=>{var I;(I=Dn(o))==null||I.updateEditConfig(k)});function M(){return _d(this,null,function*(){yield Gv();const k=Dn(s);if(!k)return;ls.use(ZE),ls.use(VE),ls.use(eE),ls.use($E),ls.use(qE),o.value=new ls(Ub(Uv({},Dn(E)),{container:k}));const I=Dn(o);I==null||I.setDefaultEdgeType("line"),A(),I==null||I.setPatternItems(y.patternItems||uS(I))})}function A(){return _d(this,null,function*(){yield Gv();const k=Dn(o);if(!k)return;const I=aS(y.data);k.render(I)})}function T(){const k=Dn(o);k&&(f.value=Dn(k).getGraphData(),v())}return _x(M),(k,I)=>(Ha(),sf("div",{class:xd(["h-full",Dn(p)])},[m.toolbar?(Ha(),eg(Dx,{key:0,prefixCls:Dn(p),onViewData:T},null,8,["prefixCls"])):Xv("",!0),Ox("div",{ref_key:"lfElRef",ref:s,class:"h-full"},null,512),yf(Dn(jx),{onRegister:Dn(O),title:"流程数据",width:"50%"},{default:Pd(()=>[yf(Dn(Px),{data:f.value},null,8,["data"])]),_:1},8,["onRegister"])],2))}}),sS=lx(cS),lS=[{incoming:[],outgoing:["Flow_33inf2k"],dockers:[],type:2,properties:{a:"efrwe",b:"wewe",name:"开始",x:280,y:200,text:{x:280,y:200,value:"开始"},logicFlowType:"bpmn:startEvent"},key:"Event_1d42u4p"},{incoming:["Flow_379e0o9"],outgoing:[],dockers:[],type:3,properties:{a:"efrwe",b:"wewe",name:"结束",x:920,y:200,text:{x:920,y:200,value:"结束"},logicFlowType:"bpmn:endEvent"},key:"Event_08p8i6q"},{incoming:["Flow_0pfouf0"],outgoing:["Flow_3918lhh"],dockers:[],type:6,properties:{a:"efrwe",b:"wewe",name:"网关",x:580,y:200,text:{x:580,y:200,value:"网关"},logicFlowType:"bpmn:exclusiveGateway"},key:"Gateway_1fngqgj"},{incoming:["Flow_33inf2k"],outgoing:["Flow_0pfouf0"],dockers:[],type:4,properties:{a:"efrwe",b:"wewe",name:"用户",x:420,y:200,text:{x:420,y:200,value:"用户"},logicFlowType:"bpmn:userTask"},key:"Activity_2mgtaia"},{incoming:["Flow_3918lhh"],outgoing:["Flow_379e0o9"],dockers:[],type:5,properties:{a:"efrwe",b:"wewe",name:"服务",x:760,y:200,text:{x:760,y:200,value:"服务"},logicFlowType:"bpmn:serviceTask"},key:"Activity_1sp8qc8"},{incoming:["Event_1d42u4p"],outgoing:["Activity_2mgtaia"],type:1,dockers:[],properties:{name:"边",text:{x:331,y:200,value:"边"},startPoint:{x:298,y:200},endPoint:{x:370,y:200},pointsList:[{x:298,y:200},{x:370,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_33inf2k"},{incoming:["Activity_2mgtaia"],outgoing:["Gateway_1fngqgj"],type:1,dockers:[],properties:{name:"边2",text:{x:507,y:200,value:"边2"},startPoint:{x:470,y:200},endPoint:{x:555,y:200},pointsList:[{x:470,y:200},{x:555,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_0pfouf0"},{incoming:["Gateway_1fngqgj"],outgoing:["Activity_1sp8qc8"],type:1,dockers:[],properties:{name:"边3",text:{x:664,y:200,value:"边3"},startPoint:{x:605,y:200},endPoint:{x:710,y:200},pointsList:[{x:605,y:200},{x:710,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_3918lhh"},{incoming:["Activity_1sp8qc8"],outgoing:["Event_08p8i6q"],type:1,dockers:[],properties:{name:"边4",text:{x:871,y:200,value:"边4"},startPoint:{x:810,y:200},endPoint:{x:902,y:200},pointsList:[{x:810,y:200},{x:902,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_379e0o9"}],fS={flowElementList:lS},wS=Qv({__name:"index",setup(m){return(y,s)=>(Ha(),eg(Dn(Ax),{title:"流程图",content:"简单流程图示例,具体功能需要自己完善",contentFullHeight:"",fixedHeight:""},{default:Pd(()=>[yf(Dn(sS),{data:Dn(fS)},null,8,["data"])]),_:1}))}});export{wS as default};
